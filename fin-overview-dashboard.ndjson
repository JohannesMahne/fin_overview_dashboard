{"attributes":{"color":"#e80a0e","description":"","name":"fin"},"coreMigrationVersion":"8.8.0","created_at":"2025-09-09T14:25:56.565Z","created_by":"u_2001809318_cloud","id":"837dc32f-a597-4ee9-a791-66e9b2d68062","managed":false,"references":[],"type":"tag","typeMigrationVersion":"8.0.0","updated_at":"2025-09-09T14:25:56.565Z","updated_by":"u_2001809318_cloud","version":"WzEyMzg5MCw0OF0="}
{"attributes":{"allowNoIndex":true,"timeFieldName":"@timestamp","title":"metrics-*"},"coreMigrationVersion":"8.8.0","created_at":"2025-06-13T04:19:37.037Z","created_by":"u_2001809318_cloud","id":"metrics-*","managed":true,"references":[],"type":"index-pattern","typeMigrationVersion":"8.0.0","updated_at":"2025-06-13T04:19:37.037Z","updated_by":"u_2001809318_cloud","version":"Wzc4ODUsMzhd"}
{"attributes":{"allowHidden":false,"fieldAttrs":"{\"ess.billing.deployment_id\":{\"count\":1},\"ess.billing.deployment_name\":{\"count\":1},\"ess.billing.ecu_value_divisor\":{\"count\":1},\"ess.billing.ecu_value_scaled\":{\"count\":1},\"ess.billing.rate.ecu_value\":{\"count\":1},\"ess.billing.total_ecu\":{\"count\":2},\"ess.billing.total_ecu_value\":{\"count\":1},\"ess.billing.type\":{\"count\":1},\"deployment_group\":{\"count\":1}}","fieldFormatMap":"{}","fields":"[]","name":"metrics-ess_billing","runtimeFieldMap":"{}","sourceFilters":"[]","timeFieldName":"@timestamp","title":"metrics-ess_billing.billing*"},"coreMigrationVersion":"8.8.0","created_at":"2025-01-31T14:27:14.874Z","created_by":"u_2001809318_cloud","id":"cb6a2ea1-28db-4870-9bb5-13235e38a648","managed":false,"references":[],"type":"index-pattern","typeMigrationVersion":"8.0.0","updated_at":"2025-09-11T14:14:10.416Z","updated_by":"u_2001809318_cloud","version":"WzEwOTQ4LDQ3XQ=="}
{"attributes":{"allowNoIndex":true,"timeFieldName":"@timestamp","title":"logs-*"},"coreMigrationVersion":"8.8.0","created_at":"2025-06-13T04:19:37.037Z","created_by":"u_2001809318_cloud","id":"logs-*","managed":true,"references":[],"type":"index-pattern","typeMigrationVersion":"8.0.0","updated_at":"2025-06-13T04:19:37.037Z","updated_by":"u_2001809318_cloud","version":"Wzc4ODYsMzhd"}
{"attributes":{"allowHidden":false,"fieldAttrs":"{\"deployment_group\":{\"count\":1}}","fieldFormatMap":"{\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes\":{\"id\":\"bytes\",\"params\":{}},\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes_delta\":{\"id\":\"bytes\",\"params\":{}},\"elasticsearch.index.total.store.size_in_bytes\":{\"id\":\"bytes\",\"params\":{}},\"elasticsearch.index.total.store.size_in_bytes_delta\":{\"id\":\"bytes\",\"params\":{}},\"elasticsearch.index.tier\":{\"id\":\"color\",\"params\":{\"parsedUrl\":{\"origin\":\"https://localhost:5601\",\"pathname\":\"/app/integrations/detail/elasticsearch-1.16.0/overview\",\"basePath\":\"\"},\"fieldType\":\"string\",\"colors\":[{\"range\":\"-Infinity:Infinity\",\"regex\":\"hot/content\",\"text\":\"#E7664C\",\"background\":\"#ffffff\"},{\"range\":\"-Infinity:Infinity\",\"regex\":\"warm\",\"text\":\"#D6BF57\",\"background\":\"#ffffff\"},{\"range\":\"-Infinity:Infinity\",\"regex\":\"cold\",\"text\":\"#6092C0\",\"background\":\"#ffffff\"},{\"range\":\"-Infinity:Infinity\",\"regex\":\"frozen\",\"text\":\"#54B399\",\"background\":\"#ffffff\"},{\"range\":\"-Infinity:Infinity\",\"regex\":\"unknown\",\"text\":\"#7d7d7d\",\"background\":\"#ffffff\"}]}},\"elasticsearch.index.creation_date\":{\"id\":\"relative_date\",\"params\":{}},\"elasticsearch.index.age\":{\"id\":\"duration\",\"params\":{\"parsedUrl\":{\"origin\":\"https://localhost:5601\",\"pathname\":\"/app/integrations/detail/elasticsearch-1.16.0/overview\",\"basePath\":\"\"},\"inputFormat\":\"days\",\"outputFormat\":\"humanizePrecise\",\"outputPrecision\":0,\"includeSpaceWithSuffix\":true}},\"elasticsearch.index.total.indexing.index_time_in_millis\":{\"id\":\"duration\",\"params\":{\"parsedUrl\":{\"origin\":\"https://localhost:5601\",\"pathname\":\"/app/integrations/detail/elasticsearch-1.16.0/overview\",\"basePath\":\"\"},\"inputFormat\":\"milliseconds\",\"outputFormat\":\"humanizePrecise\",\"outputPrecision\":0,\"includeSpaceWithSuffix\":true,\"useShortSuffix\":true}},\"elasticsearch.index.total.indexing.index_time_in_millis_delta\":{\"id\":\"duration\",\"params\":{\"parsedUrl\":{\"origin\":\"https://localhost:5601\",\"pathname\":\"/app/integrations/detail/elasticsearch-1.16.0/overview\",\"basePath\":\"\"},\"inputFormat\":\"milliseconds\",\"outputFormat\":\"humanizePrecise\",\"outputPrecision\":0,\"includeSpaceWithSuffix\":true,\"useShortSuffix\":true}},\"elasticsearch.index.total.search.query_time_in_millis\":{\"id\":\"duration\",\"params\":{\"parsedUrl\":{\"origin\":\"https://localhost:5601\",\"pathname\":\"/app/integrations/detail/elasticsearch-1.16.0/overview\",\"basePath\":\"\"},\"inputFormat\":\"milliseconds\",\"outputFormat\":\"humanizePrecise\",\"outputPrecision\":0,\"includeSpaceWithSuffix\":true,\"useShortSuffix\":true}},\"elasticsearch.index.total.search.query_time_in_millis_delta\":{\"id\":\"duration\",\"params\":{\"parsedUrl\":{\"origin\":\"https://localhost:5601\",\"pathname\":\"/app/integrations/detail/elasticsearch-1.16.0/overview\",\"basePath\":\"\"},\"inputFormat\":\"milliseconds\",\"outputFormat\":\"humanizePrecise\",\"outputPrecision\":0,\"includeSpaceWithSuffix\":true,\"useShortSuffix\":true}}}","fields":"[]","name":"monitoring-indices","runtimeFieldMap":"{}","sourceFilters":"[]","timeFieldName":"@timestamp","title":"monitoring-indices"},"coreMigrationVersion":"8.8.0","created_at":"2025-06-30T05:33:49.750Z","id":"elasticsearch-monitoringindices","managed":true,"references":[],"type":"index-pattern","typeMigrationVersion":"8.0.0","updated_at":"2025-09-11T14:03:44.354Z","updated_by":"u_2001809318_cloud","version":"WzEwOTMyLDQ3XQ=="}
{"attributes":{"color":"#0077CC","description":"","name":"Managed"},"coreMigrationVersion":"8.8.0","created_at":"2025-06-13T04:19:37.037Z","created_by":"u_2001809318_cloud","id":"fleet-managed-default","managed":true,"references":[],"type":"tag","typeMigrationVersion":"8.0.0","updated_at":"2025-06-13T04:19:37.037Z","updated_by":"u_2001809318_cloud","version":"WzYzMDU1LDM2XQ=="}
{"attributes":{"color":"#4DD2CA","description":"","name":"Elasticsearch Service Billing"},"coreMigrationVersion":"8.8.0","created_at":"2025-06-13T04:19:37.037Z","created_by":"u_2001809318_cloud","id":"fleet-pkg-ess_billing-default","managed":true,"references":[],"type":"tag","typeMigrationVersion":"8.0.0","updated_at":"2025-06-13T04:19:37.037Z","updated_by":"u_2001809318_cloud","version":"WzYzMDU2LDM2XQ=="}
{"attributes":{"controlGroupInput":{"chainingSystem":"HIERARCHICAL","controlStyle":"oneLine","ignoreParentSettingsJSON":"{\"ignoreFilters\":false,\"ignoreQuery\":false,\"ignoreTimerange\":false,\"ignoreValidations\":false}","panelsJSON":"{\"dbc01c0f-4718-487a-8b3f-07c13287b655\":{\"explicitInput\":{\"dataViewId\":\"metrics-*\",\"fieldName\":\"cloud.account.id\",\"id\":\"dbc01c0f-4718-487a-8b3f-07c13287b655\",\"searchTechnique\":\"wildcard\",\"selectedOptions\":[],\"singleSelect\":true,\"sort\":{\"by\":\"_count\",\"direction\":\"desc\"}},\"grow\":false,\"order\":0,\"type\":\"optionsListControl\",\"width\":\"medium\"}}","showApplySelections":false},"description":"This dashboard provides insights into the credits and billing data for ESS.","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}"},"optionsJSON":"{\"hidePanelTitles\":false,\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"useMargins\":true}","panelsJSON":"[{\"embeddableConfig\":{\"attributes\":{\"layout\":\"vertical\",\"links\":[{\"destinationRefName\":\"link_41ef1269-cf4b-479b-b6b1-e259df2f610e_dashboard\",\"id\":\"41ef1269-cf4b-479b-b6b1-e259df2f610e\",\"label\":\"Billing\",\"order\":0,\"type\":\"dashboardLink\"},{\"destinationRefName\":\"link_94e5341a-801b-40fd-91d5-69d0da0b2a83_dashboard\",\"id\":\"94e5341a-801b-40fd-91d5-69d0da0b2a83\",\"label\":\"Credits\",\"order\":1,\"type\":\"dashboardLink\"},{\"destination\":\"https://cloud.elastic.co\",\"id\":\"c10197c7-0ff6-49ce-81a7-7e140c18d430\",\"label\":\"☁️ Elastic Cloud\",\"order\":2,\"type\":\"externalLink\"}]},\"enhancements\":{}},\"gridData\":{\"h\":7,\"i\":\"76f552c2-c774-4cae-b875-c44440b070d2\",\"w\":5,\"x\":0,\"y\":0},\"panelIndex\":\"76f552c2-c774-4cae-b875-c44440b070d2\",\"type\":\"links\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{\"8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\":{\"columnOrder\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\"],\"columns\":{\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total cost for period (ECUs)\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"compact\":false,\"decimals\":0,\"suffix\":\"\"}},\"formula\":\"sum(ess.billing.total_ecu)\",\"isFormulaBroken\":false},\"references\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\"],\"scale\":\"ratio\"},\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total cost for period\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"visualization\":{\"layerId\":\"8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\",\"layerType\":\"data\",\"metricAccessor\":\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\",\"showBar\":false}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsMetric\"},\"enhancements\":{},\"hidePanelTitles\":true},\"gridData\":{\"h\":7,\"i\":\"da3e016c-9d68-4089-a0d1-b1e643f1f317\",\"w\":6,\"x\":5,\"y\":0},\"panelIndex\":\"da3e016c-9d68-4089-a0d1-b1e643f1f317\",\"title\":\"\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"description\":\"Run rate computed from the recent consumption\",\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"layers\":{\"8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\":{\"columnOrder\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX1\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX2\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX3\"],\"columns\":{\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Avg. run-rate (ECUs/day)\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"compact\":false,\"decimals\":0,\"suffix\":\"\"}},\"formula\":\"sum(\\n    ess.billing.total_ecu,\\n    kql='@timestamp \\u003e now-7d/d'\\n) / (\\n        (\\n        max(@timestamp,\\n        kql='@timestamp \\u003e now-7d/d')\\n        -\\n        min(@timestamp,\\n        kql='@timestamp \\u003e now-7d/d')\\n        ) / (1000*3600*24) + 1\\n)\\n\",\"isFormulaBroken\":false},\"references\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX3\"],\"scale\":\"ratio\"},\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\":{\"customLabel\":true,\"dataType\":\"number\",\"filter\":{\"language\":\"kuery\",\"query\":\"@timestamp \\u003e now-7d/d\"},\"isBucketed\":false,\"label\":\"Part of Avg. run-rate\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"},\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX1\":{\"customLabel\":true,\"dataType\":\"date\",\"filter\":{\"language\":\"kuery\",\"query\":\"@timestamp \\u003e now-7d/d\"},\"isBucketed\":false,\"label\":\"Part of Avg. run-rate\",\"operationType\":\"max\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"@timestamp\"},\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX2\":{\"customLabel\":true,\"dataType\":\"date\",\"filter\":{\"language\":\"kuery\",\"query\":\"@timestamp \\u003e now-7d/d\"},\"isBucketed\":false,\"label\":\"Part of Avg. run-rate\",\"operationType\":\"min\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"@timestamp\"},\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX3\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Avg. run-rate\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\",{\"args\":[{\"args\":[{\"args\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX1\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX2\"],\"location\":{\"max\":220,\"min\":88},\"name\":\"subtract\",\"text\":\"max(@timestamp,\\n        kql='@timestamp \\u003e now-7d/d')\\n        -\\n        min(@timestamp,\\n        kql='@timestamp \\u003e now-7d/d')\\n        \",\"type\":\"function\"},{\"args\":[{\"args\":[1000,3600],\"name\":\"multiply\",\"type\":\"function\"},24],\"location\":{\"max\":237,\"min\":225},\"name\":\"multiply\",\"text\":\"1000*3600*24\",\"type\":\"function\"}],\"location\":{\"max\":239,\"min\":78},\"name\":\"divide\",\"text\":\"(\\n        max(@timestamp,\\n        kql='@timestamp \\u003e now-7d/d')\\n        -\\n        min(@timestamp,\\n        kql='@timestamp \\u003e now-7d/d')\\n        ) / (1000*3600*24) \",\"type\":\"function\"},1],\"location\":{\"max\":243,\"min\":78},\"name\":\"add\",\"text\":\"(\\n        max(@timestamp,\\n        kql='@timestamp \\u003e now-7d/d')\\n        -\\n        min(@timestamp,\\n        kql='@timestamp \\u003e now-7d/d')\\n        ) / (1000*3600*24) + 1\\n\",\"type\":\"function\"}],\"location\":{\"max\":245,\"min\":0},\"name\":\"divide\",\"text\":\"sum(\\n    ess.billing.total_ecu,\\n    kql='@timestamp \\u003e now-7d/d'\\n) / (\\n        (\\n        max(@timestamp,\\n        kql='@timestamp \\u003e now-7d/d')\\n        -\\n        min(@timestamp,\\n        kql='@timestamp \\u003e now-7d/d')\\n        ) / (1000*3600*24) + 1\\n)\\n\",\"type\":\"function\"}},\"references\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX1\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX2\"],\"scale\":\"ratio\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"visualization\":{\"icon\":\"temperature\",\"layerId\":\"8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\",\"layerType\":\"data\",\"metricAccessor\":\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\",\"showBar\":false}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsMetric\"},\"description\":\"Run rate computed from the recent consumption\",\"enhancements\":{},\"hidePanelTitles\":true},\"gridData\":{\"h\":7,\"i\":\"a2fbfbeb-1229-4dae-9474-31804b2cc512\",\"w\":6,\"x\":11,\"y\":0},\"panelIndex\":\"a2fbfbeb-1229-4dae-9474-31804b2cc512\",\"title\":\"\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-1aabb792-21de-41ae-85fe-9a5f9f703ab2\",\"type\":\"index-pattern\"},{\"id\":\"metrics-*\",\"name\":\"1f32bbe8-1ddb-4451-a2e5-2d1966b2eb40\",\"type\":\"index-pattern\"},{\"id\":\"metrics-*\",\"name\":\"80b4065a-cd81-4033-b91c-72ef158f3934\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"layers\":{\"1aabb792-21de-41ae-85fe-9a5f9f703ab2\":{\"columnOrder\":[\"ae2df32b-5c17-4ba0-8d22-769ae23ec5d8\",\"ae2df32b-5c17-4ba0-8d22-769ae23ec5d8X0\",\"cc8781b9-650d-41f8-ac20-faa4ba08aa44\",\"cc8781b9-650d-41f8-ac20-faa4ba08aa44X0\",\"a030c251-94c8-4632-9ff4-148cb9b947a0\",\"a030c251-94c8-4632-9ff4-148cb9b947a0X0\"],\"columns\":{\"a030c251-94c8-4632-9ff4-148cb9b947a0\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Purchased total\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":0}},\"formula\":\"last_value(ess.billing.ecu_quantity, kql='\\\"ess.billing.ecu_balance\\\" \\u003e 0 AND NOT ess.billing.type : \\\"credit\\\" AND ess.billing.active : true ')\",\"isFormulaBroken\":false},\"references\":[\"a030c251-94c8-4632-9ff4-148cb9b947a0X0\"],\"scale\":\"ratio\"},\"a030c251-94c8-4632-9ff4-148cb9b947a0X0\":{\"customLabel\":true,\"dataType\":\"number\",\"filter\":{\"language\":\"kuery\",\"query\":\"\\\"ess.billing.ecu_balance\\\" \\u003e 0 AND NOT ess.billing.type : \\\"credit\\\" AND ess.billing.active : true \"},\"isBucketed\":false,\"label\":\"Part of last_value(ess.billing.ecu_quantity, kql='\\\"ess.billing.ecu_balance\\\" \\u003e 0 AND NOT ess.billing.type : \\\"credit\\\" AND ess.billing.active : true ')\",\"operationType\":\"last_value\",\"params\":{\"sortField\":\"@timestamp\"},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.ecu_quantity\"},\"ae2df32b-5c17-4ba0-8d22-769ae23ec5d8\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Balance (ECUs)\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":0}},\"formula\":\"last_value(ess.billing.ecu_balance, kql='\\\"ess.billing.ecu_balance\\\" \\u003e 0 AND NOT ess.billing.type : \\\"credit\\\" AND ess.billing.active : true ')\",\"isFormulaBroken\":false},\"references\":[\"ae2df32b-5c17-4ba0-8d22-769ae23ec5d8X0\"],\"scale\":\"ratio\"},\"ae2df32b-5c17-4ba0-8d22-769ae23ec5d8X0\":{\"customLabel\":true,\"dataType\":\"number\",\"filter\":{\"language\":\"kuery\",\"query\":\"\\\"ess.billing.ecu_balance\\\" \\u003e 0 AND NOT ess.billing.type : \\\"credit\\\" AND ess.billing.active : true \"},\"isBucketed\":false,\"label\":\"Part of Balance (ECUs)\",\"operationType\":\"last_value\",\"params\":{\"sortField\":\"@timestamp\"},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.ecu_balance\"},\"cc8781b9-650d-41f8-ac20-faa4ba08aa44\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Purchased total\",\"operationType\":\"formula\",\"params\":{\"formula\":\"last_value(ess.billing.ecu_quantity, kql='\\\"ess.billing.ecu_balance\\\" \\u003e 0 AND NOT ess.billing.type : \\\"credit\\\" AND ess.billing.active : true ')\",\"isFormulaBroken\":false},\"references\":[\"cc8781b9-650d-41f8-ac20-faa4ba08aa44X0\"],\"scale\":\"ratio\"},\"cc8781b9-650d-41f8-ac20-faa4ba08aa44X0\":{\"customLabel\":true,\"dataType\":\"number\",\"filter\":{\"language\":\"kuery\",\"query\":\"\\\"ess.billing.ecu_balance\\\" \\u003e 0 AND NOT ess.billing.type : \\\"credit\\\" AND ess.billing.active : true \"},\"isBucketed\":false,\"label\":\"Part of last_value(ess.billing.ecu_quantity, kql='\\\"ess.billing.ecu_balance\\\" \\u003e 0 AND NOT ess.billing.type : \\\"credit\\\" AND ess.billing.active : true ')\",\"operationType\":\"last_value\",\"params\":{\"sortField\":\"@timestamp\"},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.ecu_quantity\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[{\"$state\":{\"store\":\"appState\"},\"meta\":{\"alias\":null,\"disabled\":false,\"field\":\"event.dataset\",\"index\":\"1f32bbe8-1ddb-4451-a2e5-2d1966b2eb40\",\"key\":\"event.dataset\",\"negate\":false,\"params\":{\"query\":\"ess_billing.credits\"},\"type\":\"phrase\"},\"query\":{\"match_phrase\":{\"event.dataset\":\"ess_billing.credits\"}}},{\"$state\":{\"store\":\"appState\"},\"meta\":{\"alias\":null,\"disabled\":false,\"field\":\"ess.billing.active\",\"index\":\"80b4065a-cd81-4033-b91c-72ef158f3934\",\"key\":\"ess.billing.active\",\"negate\":false,\"params\":{\"query\":true},\"type\":\"phrase\"},\"query\":{\"match_phrase\":{\"ess.billing.active\":true}}}],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"@timestamp \\u003e now-24h\"},\"visualization\":{\"layerId\":\"1aabb792-21de-41ae-85fe-9a5f9f703ab2\",\"layerType\":\"data\",\"maxAccessor\":\"cc8781b9-650d-41f8-ac20-faa4ba08aa44\",\"metricAccessor\":\"ae2df32b-5c17-4ba0-8d22-769ae23ec5d8\",\"secondaryMetricAccessor\":\"a030c251-94c8-4632-9ff4-148cb9b947a0\",\"showBar\":true}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsMetric\"},\"enhancements\":{}},\"gridData\":{\"h\":7,\"i\":\"b577ecaf-2704-4c97-bf70-9866f57e76c7\",\"w\":16,\"x\":17,\"y\":0},\"panelIndex\":\"b577ecaf-2704-4c97-bf70-9866f57e76c7\",\"type\":\"lens\"},{\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[{\"$state\":{\"store\":\"appState\"},\"meta\":{\"alias\":null,\"disabled\":false,\"indexRefName\":\"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index\",\"negate\":false,\"params\":[{\"meta\":{\"alias\":null,\"disabled\":false,\"field\":\"event.dataset\",\"index\":\"logs-*\",\"key\":\"event.dataset\",\"negate\":false,\"params\":{\"query\":\"ess_billing.credits\"},\"type\":\"phrase\"},\"query\":{\"match_phrase\":{\"event.dataset\":\"ess_billing.credits\"}}},{\"meta\":{\"alias\":null,\"disabled\":false,\"field\":\"event.dataset\",\"index\":\"logs-*\",\"key\":\"event.dataset\",\"negate\":false,\"params\":{\"query\":\"ess_billing.billing\"},\"type\":\"phrase\"},\"query\":{\"match_phrase\":{\"event.dataset\":\"ess_billing.billing\"}}}],\"relation\":\"OR\",\"type\":\"combined\"},\"query\":{}}],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"id\":\"\",\"params\":{\"spec\":\"{\\n  \\\"$schema\\\": \\\"https://vega.github.io/schema/vega/v5.json\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"name\\\": \\\"credits\\\",\\n      \\\"url\\\": {\\n        \\\"index\\\": \\\"metrics-ess_billing.credits-*\\\",\\n        \\\"body\\\": {\\n          \\\"size\\\": 0,\\n          \\\"query\\\": {\\n            \\\"bool\\\": {\\n              \\\"must\\\": [\\n                \\\"%dashboard_context-must_clause%\\\"\\n              ],\\n              \\\"must_not\\\": [\\n                \\\"%dashboard_context-must_not_clause%\\\"],\\n              \\\"filter\\\": [\\n                \\\"%dashboard_context-filter_clause%\\\",\\n                {\\n                  \\\"range\\\": {\\n                    \\\"@timestamp\\\": {\\n                      \\\"gte\\\": \\\"now-24h\\\"\\n                    }\\n                  }\\n                },\\n                {\\n                  \\\"term\\\": {\\n                    \\\"ess.billing.active\\\": true\\n                  }\\n                },\\n                {\\n                  \\\"range\\\": {\\n                    \\\"ess.billing.ecu_balance\\\": {\\n                      \\\"gt\\\": 0\\n                    }\\n                  }\\n                }\\n              ]\\n            }\\n          },\\n          \\\"aggs\\\": {\\n            \\\"ecu_balance\\\": {\\n              \\\"sum\\\": {\\n                \\\"field\\\": \\\"ess.billing.ecu_balance\\\"\\n              }\\n            },\\n            \\\"ecu_quantity\\\": {\\n              \\\"sum\\\": {\\n                \\\"field\\\": \\\"ess.billing.ecu_quantity\\\"\\n              }\\n            },\\n            \\\"start\\\": {\\n              \\\"min\\\": {\\n                \\\"field\\\": \\\"ess.billing.start\\\"\\n              }\\n            },\\n            \\\"end\\\": {\\n              \\\"max\\\": {\\n                \\\"field\\\": \\\"ess.billing.end\\\"\\n              }\\n            },\\n            \\\"@timestamp\\\": {\\n              \\\"max\\\": {\\n                \\\"field\\\": \\\"@timestamp\\\"\\n              }\\n            }\\n          }\\n        }\\n      }\\n      \\\"format\\\": {\\\"property\\\": \\\"aggregations\\\"},\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"project\\\",\\n          \\\"fields\\\": [\\n            \\\"ecu_balance.value\\\",\\n            \\\"ecu_quantity.value\\\",\\n            \\\"start.value_as_string\\\",\\n            \\\"end.value_as_string\\\",\\n            \\\"@timestamp.value_as_string\\\"\\n          ],\\n          \\\"as\\\": [\\n            \\\"ecu_balance\\\",\\n            \\\"ecu_quantity\\\",\\n            \\\"start\\\",\\n            \\\"end\\\",\\n            \\\"timestamp\\\"\\n          ]\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"utcParse(datum.start, '%Y-%m-%dT%H:%M:%S.%LZ')\\\",\\n          \\\"as\\\": \\\"start\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"utcParse(datum.end, '%Y-%m-%dT%H:%M:%S.%LZ')\\\",\\n          \\\"as\\\": \\\"end\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"utcParse(datum.timestamp, '%Y-%m-%dT%H:%M:%S.%LZ')\\\",\\n          \\\"as\\\": \\\"timestamp\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"billing_data\\\",\\n      \\\"url\\\": {\\n        \\\"%context%\\\": true,\\n        \\\"%timefield%\\\": \\\"@timestamp\\\",\\n        \\\"index\\\": \\\"metrics-ess_billing.billing-*\\\",\\n        \\\"body\\\": {\\n          \\\"size\\\": 0,\\n          \\\"aggs\\\": {\\n            \\\"daily_breakdown\\\": {\\n              \\\"date_histogram\\\": {\\n                \\\"min_doc_count\\\": 1,\\n                \\\"field\\\": \\\"@timestamp\\\",\\n                \\\"calendar_interval\\\": \\\"day\\\",\\n                \\\"order\\\": {\\\"_key\\\": \\\"desc\\\"},\\n                \\\"extended_bounds\\\": {\\n                  \\\"min\\\": {\\\"%timefilter%\\\": \\\"min\\\"},\\n                  \\\"max\\\": {\\\"%timefilter%\\\": \\\"max\\\"}\\n                }\\n              },\\n              \\\"aggs\\\": {\\\"credit_use\\\": {\\\"sum\\\": {\\\"field\\\": \\\"ess.billing.total_ecu\\\"}}}\\n            }\\n          }\\n        }\\n      },\\n      \\\"format\\\": {\\\"property\\\": \\\"aggregations.daily_breakdown.buckets\\\"},\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"project\\\",\\n          \\\"fields\\\": [\\n            \\\"key_as_string\\\",\\n            \\\"credit_use.value\\\"\\n          ],\\n          \\\"as\\\": [\\n            \\\"timestamp\\\",\\n            \\\"credit_use\\\"\\n          ]\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"utcParse(datum.timestamp, '%Y-%m-%dT%H:%M:%S.%LZ')\\\",\\n          \\\"as\\\": \\\"timestamp\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"data('credits')[0]\\\",\\n          \\\"as\\\": \\\"credits\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"project\\\",\\n          \\\"fields\\\": [\\n            \\\"credits.timestamp\\\",\\n            \\\"credits.start\\\",\\n            \\\"credits.end\\\",\\n            \\\"credits.ecu_balance\\\",\\n            \\\"credits.ecu_quantity\\\",\\n            \\\"timestamp\\\",\\n            \\\"credit_use\\\"\\n          ],\\n          \\\"as\\\": [\\n            \\\"credit_measure_timestamp\\\",\\n            \\\"credit_start\\\",\\n            \\\"credit_end\\\",\\n            \\\"credit_balance\\\",\\n            \\\"credit_quantity\\\",\\n            \\\"timestamp\\\",\\n            \\\"credit_use\\\"\\n          ]\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"billing_pre_credits\\\",\\n      \\\"source\\\": \\\"billing_data\\\",\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"filter\\\",\\n          \\\"expr\\\": \\\"datum.timestamp \\u003c datum.credit_measure_timestamp\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"window\\\",\\n          \\\"sort\\\": {\\\"field\\\": \\\"timestamp\\\", \\\"order\\\": \\\"descending\\\"},\\n          \\\"fields\\\":[\\\"credit_use\\\"],\\n          \\\"ops\\\": [\\\"sum\\\"],\\n          \\\"as\\\": [\\\"cumulative_credit_use\\\"]\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.cumulative_credit_use + datum.credit_balance\\\",\\n          \\\"as\\\": \\\"ecu_balance\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"billing_post_credits\\\",\\n      \\\"source\\\": \\\"billing_data\\\",\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"filter\\\",\\n          \\\"expr\\\": \\\"datum.timestamp \\u003e= datum.credit_measure_timestamp\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.timestamp - datum.credit_measure_timestamp == 0 ? 0 : datum.credit_use\\\",\\n          \\\"as\\\": \\\"credit_use\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"window\\\",\\n          \\\"sort\\\": {\\\"field\\\": \\\"timestamp\\\", \\\"order\\\": \\\"ascending\\\"},\\n          \\\"fields\\\":[\\\"credit_use\\\"],\\n          \\\"ops\\\": [\\\"sum\\\"],\\n          \\\"as\\\": [\\\"cumulative_credit_use\\\"]\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.credit_balance - datum.cumulative_credit_use\\\",\\n          \\\"as\\\": \\\"ecu_balance\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"historical_billing\\\",\\n      \\\"source\\\": [\\\"billing_pre_credits\\\", \\\"billing_post_credits\\\"],\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"project\\\",\\n          \\\"fields\\\": [\\n            \\\"timestamp\\\",\\n            \\\"ecu_balance\\\"\\n          ],\\n          \\\"as\\\":[\\n            \\\"day\\\",\\n            \\\"ecu_balance\\\"\\n          ]\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"'Historical consumption'\\\",\\n          \\\"as\\\": \\\"type\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"utcFormat(datum.day, '%Y-%m-%d')\\\",\\n          \\\"as\\\": \\\"key\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"collect\\\",\\n          \\\"sort\\\": {\\\"field\\\": \\\"day\\\", \\\"order\\\": \\\"descending\\\"}\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"expected_projection\\\",\\n      \\\"url\\\": {\\n        \\\"index\\\": \\\"metrics-ess_billing.billing-*\\\",\\n        \\\"body\\\": {\\n          \\\"size\\\": 0,\\n          \\\"query\\\": {\\n            \\\"bool\\\": {\\n              \\\"must\\\": [\\n                \\\"%dashboard_context-must_clause%\\\"\\n              ],\\n              \\\"must_not\\\": [\\n                \\\"%dashboard_context-must_not_clause%\\\"\\n              ],\\n              \\\"filter\\\": [\\n                \\\"%dashboard_context-filter_clause%\\\",\\n                {\\n                  \\\"range\\\": {\\n                    \\\"@timestamp\\\": {\\n                      \\\"gte\\\": \\\"now-3d/d\\\",\\n                      \\\"lt\\\": \\\"now-1d/d\\\"\\n                    }\\n                  }\\n                }\\n              ]\\n            }\\n          },\\n          \\\"aggs\\\": {\\n            \\\"per_day\\\": {\\n              \\\"date_histogram\\\": {\\n                \\\"field\\\": \\\"@timestamp\\\",\\n                \\\"calendar_interval\\\": \\\"day\\\"\\n              },\\n              \\\"aggs\\\": {\\n                \\\"cost_per_day\\\": {\\n                  \\\"sum\\\": {\\n                    \\\"field\\\": \\\"ess.billing.total_ecu\\\"\\n                  }\\n                }\\n              }\\n            },\\n            \\\"avg_cost_per_day\\\": {\\n              \\\"avg_bucket\\\": {\\n                \\\"buckets_path\\\": \\\"per_day\\u003ecost_per_day\\\"\\n              }\\n            }\\n          }\\n        }\\n      },\\n      \\\"format\\\": {\\\"property\\\": \\\"aggregations.avg_cost_per_day.value\\\"},\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"data('historical_billing')[0]\\\",\\n          \\\"as\\\": \\\"last_state\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"data('credits')[0]\\\",\\n          \\\"as\\\": \\\"credits\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"project\\\",\\n          \\\"fields\\\": [\\n            \\\"last_state.day\\\",\\n            \\\"last_state.ecu_balance\\\",\\n            \\\"credits.end\\\",\\n            \\\"data\\\"\\n          ],\\n          \\\"as\\\": [\\n            \\\"last_timestamp\\\",\\n            \\\"ecu_balance\\\",\\n            \\\"end\\\",\\n            \\\"quantity\\\"\\n          ]\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"timeOffset('day', datum.last_timestamp)\\\",\\n          \\\"as\\\": \\\"last_timestamp\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"utcSequence('day', datum.last_timestamp, datum.end)\\\",\\n          \\\"as\\\": \\\"day\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"flatten\\\",\\n          \\\"fields\\\": [\\\"day\\\"]\\n        },\\n        {\\n          \\\"type\\\": \\\"window\\\",\\n          \\\"fields\\\":[\\\"quantity\\\"],\\n          \\\"ops\\\": [\\\"sum\\\"],\\n          \\\"as\\\": [\\\"cumulative_quantity\\\"]\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.ecu_balance-datum.cumulative_quantity\\\",\\n          \\\"as\\\": \\\"ecu_balance\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"project\\\",\\n          \\\"fields\\\": [\\\"day\\\", \\\"ecu_balance\\\"]\\n        },\\n        {\\n          \\\"type\\\": \\\"filter\\\",\\n          \\\"expr\\\": \\\"datum.ecu_balance \\u003e 0\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"'Expected consumption'\\\",\\n          \\\"as\\\": \\\"type\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"utcFormat(datum.day, '%Y-%m-%d')\\\",\\n          \\\"as\\\": \\\"key\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"contractual_projection\\\",\\n      \\\"values\\\": [{}],\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"data('historical_billing')[0]\\\",\\n          \\\"as\\\": \\\"last_state\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"data('credits')[0]\\\",\\n          \\\"as\\\": \\\"credits\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"project\\\",\\n          \\\"fields\\\": [\\n            \\\"last_state.day\\\",\\n            \\\"last_state.ecu_balance\\\",\\n            \\\"credits.end\\\"\\n          ],\\n          \\\"as\\\": [\\n            \\\"last_timestamp\\\",\\n            \\\"ecu_balance\\\",\\n            \\\"end\\\"\\n          ]\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.ecu_balance/((datum.end-datum.last_timestamp)/1000/3600/24)\\\",\\n          \\\"as\\\": \\\"quantity\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"timeOffset('day', datum.last_timestamp)\\\",\\n          \\\"as\\\": \\\"last_timestamp\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"utcSequence('day', datum.last_timestamp, datum.end)\\\",\\n          \\\"as\\\": \\\"day\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"flatten\\\",\\n          \\\"fields\\\": [\\\"day\\\"]\\n        },\\n        {\\n          \\\"type\\\": \\\"window\\\",\\n          \\\"fields\\\":[\\\"quantity\\\"],\\n          \\\"ops\\\": [\\\"sum\\\"],\\n          \\\"as\\\": [\\\"cumulative_quantity\\\"]\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.ecu_balance-datum.cumulative_quantity\\\",\\n          \\\"as\\\": \\\"ecu_balance\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"project\\\",\\n          \\\"fields\\\": [\\\"day\\\", \\\"ecu_balance\\\"]\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"'Contractual target'\\\",\\n          \\\"as\\\": \\\"type\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"utcFormat(datum.day, '%Y-%m-%d')\\\",\\n          \\\"as\\\": \\\"key\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"aggregated_billing\\\",\\n      \\\"source\\\": [\\\"historical_billing\\\", \\\"expected_projection\\\", \\\"contractual_projection\\\"],\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"collect\\\",\\n           \\\"sort\\\": {\\\"field\\\": \\\"day\\\", \\\"order\\\": \\\"descending\\\"}\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"scales\\\": [\\n    {\\n      \\\"name\\\": \\\"x\\\",\\n      \\\"type\\\": \\\"time\\\",\\n      \\\"range\\\": \\\"width\\\",\\n      \\\"domain\\\": {\\\"data\\\": \\\"aggregated_billing\\\", \\\"field\\\": \\\"day\\\"}\\n    },\\n    {\\n      \\\"name\\\": \\\"y\\\",\\n      \\\"type\\\": \\\"linear\\\",\\n      \\\"range\\\": \\\"height\\\",\\n      \\\"nice\\\": true,\\n      \\\"zero\\\": false,\\n      \\\"domain\\\": {\\\"data\\\": \\\"aggregated_billing\\\", \\\"field\\\": \\\"ecu_balance\\\"}\\n    },\\n    {\\n      \\\"name\\\": \\\"color\\\",\\n      \\\"type\\\": \\\"ordinal\\\",\\n      \\\"range\\\": \\\"category\\\",\\n      \\\"domain\\\": {\\\"data\\\": \\\"aggregated_billing\\\", \\\"field\\\": \\\"type\\\"}\\n    }\\n  ],\\n  \\\"axes\\\": [\\n    {\\\"orient\\\": \\\"bottom\\\", \\\"scale\\\": \\\"x\\\"},\\n    {\\\"orient\\\": \\\"left\\\", \\\"scale\\\": \\\"y\\\"}\\n  ],\\n  \\\"signals\\\": [\\n    {\\n      \\\"name\\\": \\\"day\\\",\\n      \\\"update\\\": \\\"now()\\\",\\n      \\\"on\\\": [\\n        {\\n          \\\"events\\\": \\\"pointermove\\\",\\n          \\\"update\\\": \\\"invert('x', clamp(x(), 0, width))\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"historical_balance\\\",\\n      \\\"update\\\": \\\"pluck(data('historical_billing'), 'ecu_balance')[indexof(pluck(data('historical_billing'), 'key'), utcFormat(now(), '%Y-%m-%d'))]\\\",\\n      \\\"on\\\": [\\n        {\\n          \\\"events\\\": \\\"pointermove\\\",\\n          \\\"update\\\": \\\"pluck(data('historical_billing'), 'ecu_balance')[indexof(pluck(data('historical_billing'), 'key'), utcFormat(invert('x', clamp(x(), 0, width)), '%Y-%m-%d'))]\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"contractual_balance\\\",\\n      \\\"update\\\": \\\"pluck(data('contractual_projection'), 'ecu_balance')[indexof(pluck(data('contractual_projection'), 'key'), utcFormat(now(), '%Y-%m-%d'))]\\\",\\n      \\\"on\\\": [\\n        {\\n          \\\"events\\\": \\\"pointermove\\\",\\n          \\\"update\\\": \\\"pluck(data('contractual_projection'), 'ecu_balance')[indexof(pluck(data('contractual_projection'), 'key'), utcFormat(invert('x', clamp(x(), 0, width)), '%Y-%m-%d'))]\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"expected_balance\\\",\\n      \\\"update\\\": \\\"pluck(data('expected_projection'), 'ecu_balance')[indexof(pluck(data('expected_projection'), 'key'), utcFormat(now(), '%Y-%m-%d'))]\\\",\\n      \\\"on\\\": [\\n        {\\n          \\\"events\\\": \\\"pointermove\\\",\\n          \\\"update\\\": \\\"pluck(data('expected_projection'), 'ecu_balance')[indexof(pluck(data('expected_projection'), 'key'), utcFormat(invert('x', clamp(x(), 0, width)), '%Y-%m-%d'))]\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"marks\\\": [\\n    {\\n      \\\"type\\\": \\\"group\\\",\\n      \\\"from\\\": {\\n        \\\"facet\\\": {\\n          \\\"name\\\": \\\"series\\\",\\n          \\\"data\\\": \\\"aggregated_billing\\\",\\n          \\\"groupby\\\": \\\"type\\\"\\n        }\\n      },\\n      \\\"marks\\\": [\\n        {\\n          \\\"type\\\": \\\"line\\\",\\n          \\\"from\\\": {\\\"data\\\": \\\"series\\\"},\\n          \\\"encode\\\": {\\n            \\\"update\\\": {\\n              \\\"x\\\": {\\\"scale\\\": \\\"x\\\", \\\"field\\\": \\\"day\\\"},\\n              \\\"y\\\": {\\\"scale\\\": \\\"y\\\", \\\"field\\\": \\\"ecu_balance\\\"},\\n              \\\"stroke\\\": {\\\"scale\\\": \\\"color\\\", \\\"field\\\": \\\"type\\\"},\\n              \\\"strokeWidth\\\": {\\\"value\\\": 2}\\n            }\\n          }\\n        }\\n      ]\\n    },\\n    {\\n      \\\"type\\\": \\\"rule\\\",\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\\"scale\\\": \\\"x\\\", \\\"signal\\\": \\\"day\\\", \\\"offset\\\": 0.5},\\n          \\\"y\\\": {\\\"scale\\\": \\\"y\\\", \\\"signal\\\": \\\"extent([historical_balance, contractual_balance, expected_balance])[1]\\\", \\\"offset\\\": 0.5},\\n          \\\"y2\\\": {\\\"field\\\": {\\\"group\\\": \\\"height\\\"}},\\n          \\\"stroke\\\": {\\\"value\\\": \\\"black\\\"}\\n        }\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"rule\\\",\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\\"value\\\": 0},\\n          \\\"x2\\\": {\\\"scale\\\": \\\"x\\\", \\\"signal\\\": \\\"day\\\", \\\"offset\\\": 0.5},\\n          \\\"y\\\": {\\\"scale\\\": \\\"y\\\", \\\"signal\\\": \\\"historical_balance\\\", \\\"offset\\\": 0.5},\\n          \\\"stroke\\\": {\\\"scale\\\": \\\"color\\\", \\\"signal\\\": \\\"'Historical consumption'\\\"},\\n          \\\"opacity\\\": { \\\"signal\\\": \\\"historical_balance == null ? 0 : 1\\\"}\\n        }\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"rule\\\",\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\\"value\\\": 0},\\n          \\\"x2\\\": {\\\"scale\\\": \\\"x\\\", \\\"signal\\\": \\\"day\\\", \\\"offset\\\": 0.5},\\n          \\\"y\\\": {\\\"scale\\\": \\\"y\\\", \\\"signal\\\": \\\"contractual_balance\\\", \\\"offset\\\": 0.5},\\n          \\\"stroke\\\": {\\\"scale\\\": \\\"color\\\", \\\"signal\\\": \\\"'Contractual target'\\\"},\\n          \\\"opacity\\\": { \\\"signal\\\": \\\"contractual_balance == null ? 0 : 1\\\"}\\n        }\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"rule\\\",\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\\"value\\\": 0},\\n          \\\"x2\\\": {\\\"scale\\\": \\\"x\\\", \\\"signal\\\": \\\"day\\\", \\\"offset\\\": 0.5},\\n          \\\"y\\\": {\\\"scale\\\": \\\"y\\\", \\\"signal\\\": \\\"expected_balance\\\", \\\"offset\\\": 0.5},\\n          \\\"stroke\\\": {\\\"scale\\\": \\\"color\\\", \\\"signal\\\": \\\"'Expected consumption'\\\"},\\n          \\\"opacity\\\": { \\\"signal\\\": \\\"expected_balance == null ? 0 : 1\\\"}\\n        }\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\\"scale\\\": \\\"x\\\", \\\"signal\\\": \\\"day\\\"},\\n          \\\"y2\\\": {\\\"field\\\": {\\\"group\\\": \\\"height\\\"}, \\\"offset\\\": 30},\\n          \\\"align\\\": {\\\"value\\\": \\\"center\\\"},\\n          \\\"text\\\": {\\\"signal\\\": \\\"timeFormat(day, '%d %b %Y')\\\"},\\n          \\\"fill\\\": {\\\"value\\\": \\\"black\\\"}\\n        }\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\\"offset\\\": -30},\\n          \\\"y\\\": {\\\"scale\\\": \\\"y\\\", \\\"signal\\\": \\\"historical_balance\\\", \\\"offset\\\": 0.5},\\n          \\\"align\\\": {\\\"value\\\": \\\"center\\\"},\\n          \\\"text\\\": {\\\"signal\\\": \\\"format(ceil(historical_balance), ',.0f')\\\"},\\n          \\\"fill\\\": {\\\"scale\\\": \\\"color\\\", \\\"signal\\\": \\\"'Historical consumption'\\\"},\\n          \\\"opacity\\\": { \\\"signal\\\": \\\"historical_balance == null ? 0 : 1\\\"}\\n        }\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\\"offset\\\": -30},\\n          \\\"y\\\": {\\\"scale\\\": \\\"y\\\", \\\"signal\\\": \\\"contractual_balance\\\", \\\"offset\\\": 0.5},\\n          \\\"align\\\": {\\\"value\\\": \\\"center\\\"},\\n          \\\"text\\\": {\\\"signal\\\": \\\"format(ceil(contractual_balance), ',.0f')\\\"},\\n          \\\"fill\\\": {\\\"scale\\\": \\\"color\\\", \\\"signal\\\": \\\"'Contractual target'\\\"},\\n          \\\"opacity\\\": { \\\"signal\\\": \\\"contractual_balance == null ? 0 : 1\\\"}\\n        }\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\\"offset\\\": -30},\\n          \\\"y\\\": {\\\"scale\\\": \\\"y\\\", \\\"signal\\\": \\\"expected_balance\\\", \\\"offset\\\": 0.5},\\n          \\\"align\\\": {\\\"value\\\": \\\"center\\\"},\\n          \\\"text\\\": {\\\"signal\\\": \\\"format(ceil(expected_balance), ',.0f')\\\"},\\n          \\\"fill\\\": {\\\"scale\\\": \\\"color\\\", \\\"signal\\\": \\\"'Expected consumption'\\\"},\\n          \\\"opacity\\\": { \\\"signal\\\": \\\"expected_balance == null ? 0 : 1\\\"}\\n        }\\n      }\\n    }\\n  ],\\n  \\\"legends\\\": [\\n    {\\n      \\\"fill\\\": \\\"color\\\",\\n      \\\"orient\\\": \\\"top-right\\\",\\n      \\\"encode\\\": {\\n        \\\"title\\\": {\\\"update\\\": {\\\"fontSize\\\": {\\\"value\\\": 14}}},\\n        \\\"labels\\\": {\\n          \\\"enter\\\": {\\\"fontSize\\\": {\\\"value\\\": 12}, \\\"fill\\\": {\\\"value\\\": \\\"black\\\"}}\\n        },\\n        \\\"symbols\\\": {\\\"update\\\": {\\\"stroke\\\": {\\\"value\\\": \\\"transparent\\\"}}}\\n      }\\n    }\\n  ]\\n}\"},\"title\":\"\",\"type\":\"vega\",\"uiState\":{}}},\"gridData\":{\"h\":16,\"i\":\"827e1ba3-a36c-4018-bba5-743d18255607\",\"w\":15,\"x\":33,\"y\":0},\"panelIndex\":\"827e1ba3-a36c-4018-bba5-743d18255607\",\"title\":\"Burndown graph\",\"type\":\"visualization\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{\"c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\":{\"columnOrder\":[\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\",\"e32c3485-ff5f-41ec-b576-aff6d08672ba\",\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\"],\"columns\":{\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\":{\"customLabel\":true,\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"Time\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"1M\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"e32c3485-ff5f-41ec-b576-aff6d08672ba\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"1M\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Deployment ECU cost\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":true,\"decimals\":2,\"suffix\":\"\"}}},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"fittingFunction\":\"None\",\"layers\":[{\"accessors\":[\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"e32c3485-ff5f-41ec-b576-aff6d08672ba\",\"xAccessor\":\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\"}],\"legend\":{\"isVisible\":false,\"legendSize\":\"auto\",\"legendStats\":[\"total\"],\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"title\":\"Empty XY chart\",\"valueLabels\":\"show\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{},\"timeRange\":{\"from\":\"now-1y/d\",\"to\":\"now\"}},\"gridData\":{\"h\":9,\"i\":\"c6b9e2d5-f395-4949-92a3-394a454f21c3\",\"w\":33,\"x\":0,\"y\":7},\"panelIndex\":\"c6b9e2d5-f395-4949-92a3-394a454f21c3\",\"title\":\"Last 12 months\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-e36133f9-69c7-41a4-a64e-743a037c49c5\",\"type\":\"index-pattern\"},{\"id\":\"metrics-*\",\"name\":\"15df6c08-5251-4d97-a2cf-ee80fc3a5c6f\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"layers\":{\"e36133f9-69c7-41a4-a64e-743a037c49c5\":{\"columnOrder\":[\"b604843e-2086-4a1b-915a-021db0686d46\",\"f674062f-6460-4989-ad13-9dc3edf28092\",\"ec564519-ada6-4d4f-9ebd-24944db80a37\",\"77cb90fb-54c2-4055-a973-512f294d505e\",\"9d32655e-ec2b-4849-bea5-b6c9ab30b0e2\"],\"columns\":{\"77cb90fb-54c2-4055-a973-512f294d505e\":{\"customLabel\":true,\"dataType\":\"date\",\"filter\":{\"language\":\"kuery\",\"query\":\"\\\"ess.billing.start\\\": *\"},\"isBucketed\":false,\"label\":\"Credit start range\",\"operationType\":\"last_value\",\"params\":{\"sortField\":\"@timestamp\"},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.start\"},\"9d32655e-ec2b-4849-bea5-b6c9ab30b0e2\":{\"customLabel\":true,\"dataType\":\"date\",\"filter\":{\"language\":\"kuery\",\"query\":\"\\\"ess.billing.end\\\": *\"},\"isBucketed\":false,\"label\":\"Credit end range\",\"operationType\":\"last_value\",\"params\":{\"sortField\":\"@timestamp\"},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.end\"},\"b604843e-2086-4a1b-915a-021db0686d46\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"ess.billing.end\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"ignoreTimeRange\":true,\"includeEmptyRows\":false,\"interval\":\"1M\"},\"scale\":\"interval\",\"sourceField\":\"ess.billing.end\"},\"ec564519-ada6-4d4f-9ebd-24944db80a37\":{\"customLabel\":true,\"dataType\":\"number\",\"filter\":{\"language\":\"kuery\",\"query\":\"\\\"ess.billing.ecu_quantity\\\": *\"},\"isBucketed\":false,\"label\":\"Purchased quantity\",\"operationType\":\"last_value\",\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":0,\"suffix\":\" ECUs\"}},\"sortField\":\"@timestamp\"},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.ecu_quantity\"},\"f674062f-6460-4989-ad13-9dc3edf28092\":{\"customLabel\":true,\"dataType\":\"number\",\"filter\":{\"language\":\"kuery\",\"query\":\"\\\"ess.billing.ecu_balance\\\": *\"},\"isBucketed\":false,\"label\":\"Current balance\",\"operationType\":\"last_value\",\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":0,\"suffix\":\" ECUs\"}},\"sortField\":\"@timestamp\"},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.ecu_balance\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[{\"$state\":{\"store\":\"appState\"},\"meta\":{\"alias\":null,\"disabled\":false,\"field\":\"event.dataset\",\"index\":\"15df6c08-5251-4d97-a2cf-ee80fc3a5c6f\",\"key\":\"event.dataset\",\"negate\":false,\"params\":{\"query\":\"ess_billing.credits\"},\"type\":\"phrase\"},\"query\":{\"match_phrase\":{\"event.dataset\":\"ess_billing.credits\"}}}],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"ess.billing.end \\u003e= now-1M/M AND ess.billing.ecu_balance \\u003e 0 AND @timestamp \\u003e now-24h\"},\"visualization\":{\"columns\":[{\"columnId\":\"202339d9-9b22-47b2-a22a-cd5fc17ed2de\",\"isMetric\":false,\"isTransposed\":false},{\"columnId\":\"f674062f-6460-4989-ad13-9dc3edf28092\",\"isMetric\":true,\"isTransposed\":false},{\"columnId\":\"77cb90fb-54c2-4055-a973-512f294d505e\",\"isMetric\":true,\"isTransposed\":false},{\"columnId\":\"b604843e-2086-4a1b-915a-021db0686d46\",\"hidden\":true,\"isMetric\":false,\"isTransposed\":false},{\"columnId\":\"9d32655e-ec2b-4849-bea5-b6c9ab30b0e2\",\"isMetric\":true,\"isTransposed\":false},{\"columnId\":\"ec564519-ada6-4d4f-9ebd-24944db80a37\",\"isMetric\":true,\"isTransposed\":false}],\"layerId\":\"e36133f9-69c7-41a4-a64e-743a037c49c5\",\"layerType\":\"data\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsDatatable\"},\"enhancements\":{}},\"gridData\":{\"h\":12,\"i\":\"1f655c61-d58a-499d-a97a-81afe305deab\",\"w\":33,\"x\":0,\"y\":16},\"panelIndex\":\"1f655c61-d58a-499d-a97a-81afe305deab\",\"type\":\"lens\"},{\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"id\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"# 🪙 Credits dashboard\\n\\nDisplaying this dashboard correctly requires an existing active commercial commitment with Elastic.\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}}},\"gridData\":{\"h\":12,\"i\":\"ba7836ee-2818-4aba-b8c4-85cd55fc6478\",\"w\":15,\"x\":33,\"y\":16},\"panelIndex\":\"ba7836ee-2818-4aba-b8c4-85cd55fc6478\",\"type\":\"visualization\"}]","timeRestore":false,"title":"[Metrics ESS Billing] Credits dashboard","version":3},"coreMigrationVersion":"8.8.0","created_at":"2025-09-11T14:10:30.183Z","id":"ess_billing-creditsdashboard","managed":true,"references":[{"id":"metrics-*","name":"da3e016c-9d68-4089-a0d1-b1e643f1f317:indexpattern-datasource-layer-8c4e8172-eb9b-4d3b-822d-2cf041d9a9af","type":"index-pattern"},{"id":"metrics-*","name":"a2fbfbeb-1229-4dae-9474-31804b2cc512:indexpattern-datasource-layer-8c4e8172-eb9b-4d3b-822d-2cf041d9a9af","type":"index-pattern"},{"id":"metrics-*","name":"b577ecaf-2704-4c97-bf70-9866f57e76c7:indexpattern-datasource-layer-1aabb792-21de-41ae-85fe-9a5f9f703ab2","type":"index-pattern"},{"id":"metrics-*","name":"b577ecaf-2704-4c97-bf70-9866f57e76c7:1f32bbe8-1ddb-4451-a2e5-2d1966b2eb40","type":"index-pattern"},{"id":"metrics-*","name":"b577ecaf-2704-4c97-bf70-9866f57e76c7:80b4065a-cd81-4033-b91c-72ef158f3934","type":"index-pattern"},{"id":"metrics-*","name":"c6b9e2d5-f395-4949-92a3-394a454f21c3:indexpattern-datasource-layer-c9af8b12-7fac-4ff6-9e4e-796c744c3f1d","type":"index-pattern"},{"id":"metrics-*","name":"1f655c61-d58a-499d-a97a-81afe305deab:indexpattern-datasource-layer-e36133f9-69c7-41a4-a64e-743a037c49c5","type":"index-pattern"},{"id":"metrics-*","name":"1f655c61-d58a-499d-a97a-81afe305deab:15df6c08-5251-4d97-a2cf-ee80fc3a5c6f","type":"index-pattern"},{"id":"ess_billing-billingdashboard","name":"76f552c2-c774-4cae-b875-c44440b070d2:link_41ef1269-cf4b-479b-b6b1-e259df2f610e_dashboard","type":"dashboard"},{"id":"ess_billing-creditsdashboard","name":"76f552c2-c774-4cae-b875-c44440b070d2:link_94e5341a-801b-40fd-91d5-69d0da0b2a83_dashboard","type":"dashboard"},{"id":"logs-*","name":"827e1ba3-a36c-4018-bba5-743d18255607:kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index","type":"index-pattern"},{"id":"metrics-*","name":"controlGroup_cb35ffdb-1f17-4c9f-b589-a06d66dd0cee:optionsListDataView","type":"index-pattern"},{"id":"fleet-managed-default","name":"tag-ref-fleet-managed-default","type":"tag"},{"id":"fleet-pkg-ess_billing-default","name":"tag-ref-fleet-pkg-ess_billing-default","type":"tag"}],"type":"dashboard","typeMigrationVersion":"10.3.0","updated_at":"2025-09-11T14:10:31.125Z","version":"WzEwOTQ1LDQ3XQ=="}
{"attributes":{"controlGroupInput":{"chainingSystem":"HIERARCHICAL","controlStyle":"oneLine","ignoreParentSettingsJSON":"{\"ignoreFilters\":false,\"ignoreQuery\":false,\"ignoreTimerange\":false,\"ignoreValidations\":false}","panelsJSON":"{\"148407b7-0d24-4a6d-8d7b-cda1deb607b0\":{\"explicitInput\":{\"dataViewId\":\"metrics-*\",\"exclude\":false,\"existsSelected\":false,\"fieldName\":\"cloud.account.id\",\"searchTechnique\":\"wildcard\",\"selectedOptions\":[],\"singleSelect\":true,\"sort\":{\"by\":\"_count\",\"direction\":\"desc\"},\"title\":\"cloud.account.id\"},\"grow\":false,\"order\":0,\"type\":\"optionsListControl\",\"width\":\"medium\"},\"148d1220-9036-47a3-b5c1-1cfb2242282f\":{\"explicitInput\":{\"dataViewId\":\"metrics-*\",\"exclude\":false,\"existsSelected\":false,\"fieldName\":\"ess.billing.deployment_type\",\"searchTechnique\":\"prefix\",\"selectedOptions\":[],\"sort\":{\"by\":\"_count\",\"direction\":\"desc\"}},\"grow\":false,\"order\":1,\"type\":\"optionsListControl\",\"width\":\"medium\"}}","showApplySelections":false},"description":"This dashboard gives you high-level insights in the metrics exposed by the ESS billing API.","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}"},"optionsJSON":"{\"hidePanelTitles\":false,\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"useMargins\":true}","panelsJSON":"[{\"embeddableConfig\":{\"attributes\":{\"layout\":\"vertical\",\"links\":[{\"destinationRefName\":\"link_41ef1269-cf4b-479b-b6b1-e259df2f610e_dashboard\",\"id\":\"41ef1269-cf4b-479b-b6b1-e259df2f610e\",\"label\":\"Billing\",\"order\":0,\"type\":\"dashboardLink\"},{\"destinationRefName\":\"link_94e5341a-801b-40fd-91d5-69d0da0b2a83_dashboard\",\"id\":\"94e5341a-801b-40fd-91d5-69d0da0b2a83\",\"label\":\"Credits\",\"order\":1,\"type\":\"dashboardLink\"},{\"destination\":\"https://cloud.elastic.co\",\"id\":\"c10197c7-0ff6-49ce-81a7-7e140c18d430\",\"label\":\"☁️ Elastic Cloud\",\"order\":2,\"type\":\"externalLink\"}]},\"enhancements\":{}},\"gridData\":{\"h\":7,\"i\":\"2b4e81ec-acbf-4261-a518-6355b8ad9507\",\"w\":5,\"x\":0,\"y\":0},\"panelIndex\":\"2b4e81ec-acbf-4261-a518-6355b8ad9507\",\"type\":\"links\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{\"8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\":{\"columnOrder\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\"],\"columns\":{\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total cost for period (ECUs)\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"compact\":false,\"decimals\":0,\"suffix\":\"\"}},\"formula\":\"sum(ess.billing.total_ecu)\",\"isFormulaBroken\":false},\"references\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\"],\"scale\":\"ratio\"},\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total cost for period\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"visualization\":{\"layerId\":\"8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\",\"layerType\":\"data\",\"metricAccessor\":\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\",\"showBar\":false}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsMetric\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"hidePanelTitles\":true,\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":7,\"i\":\"2c1d1abc-1103-4a7a-bae0-811bff2cbbd7\",\"w\":6,\"x\":5,\"y\":0},\"panelIndex\":\"2c1d1abc-1103-4a7a-bae0-811bff2cbbd7\",\"title\":\"\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{\"8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\":{\"columnOrder\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX1\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX2\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX3\"],\"columns\":{\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Avg. run-rate (ECUs/day)\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"compact\":false,\"decimals\":0,\"suffix\":\"\"}},\"formula\":\"sum(\\n    ess.billing.total_ecu,\\n    kql='@timestamp \\u003e now-7d/d'\\n) / (\\n        (\\n        max(@timestamp,\\n        kql='@timestamp \\u003e now-7d/d')\\n        -\\n        min(@timestamp,\\n        kql='@timestamp \\u003e now-7d/d')\\n        ) / (1000*3600*24) + 1\\n)\\n\",\"isFormulaBroken\":false},\"references\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX3\"],\"scale\":\"ratio\"},\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\":{\"customLabel\":true,\"dataType\":\"number\",\"filter\":{\"language\":\"kuery\",\"query\":\"@timestamp \\u003e now-7d/d\"},\"isBucketed\":false,\"label\":\"Part of Avg. run-rate\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"},\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX1\":{\"customLabel\":true,\"dataType\":\"date\",\"filter\":{\"language\":\"kuery\",\"query\":\"@timestamp \\u003e now-7d/d\"},\"isBucketed\":false,\"label\":\"Part of Avg. run-rate\",\"operationType\":\"max\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"@timestamp\"},\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX2\":{\"customLabel\":true,\"dataType\":\"date\",\"filter\":{\"language\":\"kuery\",\"query\":\"@timestamp \\u003e now-7d/d\"},\"isBucketed\":false,\"label\":\"Part of Avg. run-rate\",\"operationType\":\"min\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"@timestamp\"},\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX3\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Avg. run-rate\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\",{\"args\":[{\"args\":[{\"args\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX1\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX2\"],\"location\":{\"max\":220,\"min\":88},\"name\":\"subtract\",\"text\":\"max(@timestamp,\\n        kql='@timestamp \\u003e now-7d/d')\\n        -\\n        min(@timestamp,\\n        kql='@timestamp \\u003e now-7d/d')\\n        \",\"type\":\"function\"},{\"args\":[{\"args\":[1000,3600],\"name\":\"multiply\",\"type\":\"function\"},24],\"location\":{\"max\":237,\"min\":225},\"name\":\"multiply\",\"text\":\"1000*3600*24\",\"type\":\"function\"}],\"location\":{\"max\":239,\"min\":78},\"name\":\"divide\",\"text\":\"(\\n        max(@timestamp,\\n        kql='@timestamp \\u003e now-7d/d')\\n        -\\n        min(@timestamp,\\n        kql='@timestamp \\u003e now-7d/d')\\n        ) / (1000*3600*24) \",\"type\":\"function\"},1],\"location\":{\"max\":243,\"min\":78},\"name\":\"add\",\"text\":\"(\\n        max(@timestamp,\\n        kql='@timestamp \\u003e now-7d/d')\\n        -\\n        min(@timestamp,\\n        kql='@timestamp \\u003e now-7d/d')\\n        ) / (1000*3600*24) + 1\\n\",\"type\":\"function\"}],\"location\":{\"max\":245,\"min\":0},\"name\":\"divide\",\"text\":\"sum(\\n    ess.billing.total_ecu,\\n    kql='@timestamp \\u003e now-7d/d'\\n) / (\\n        (\\n        max(@timestamp,\\n        kql='@timestamp \\u003e now-7d/d')\\n        -\\n        min(@timestamp,\\n        kql='@timestamp \\u003e now-7d/d')\\n        ) / (1000*3600*24) + 1\\n)\\n\",\"type\":\"function\"}},\"references\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX1\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX2\"],\"scale\":\"ratio\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"visualization\":{\"icon\":\"temperature\",\"layerId\":\"8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\",\"layerType\":\"data\",\"metricAccessor\":\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\",\"showBar\":false}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsMetric\"},\"description\":\"Run rate computed from the recent consumption\",\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"hidePanelTitles\":true,\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":7,\"i\":\"f8867591-437e-4b1d-be5c-b5d5d606e742\",\"w\":6,\"x\":11,\"y\":0},\"panelIndex\":\"f8867591-437e-4b1d-be5c-b5d5d606e742\",\"title\":\"\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{\"8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\":{\"columnOrder\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\"],\"columns\":{\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Deployments\",\"operationType\":\"unique_count\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":false,\"decimals\":0,\"suffix\":\"\"}}},\"reducedTimeRange\":\"7d\",\"scale\":\"ratio\",\"sourceField\":\"ess.billing.deployment_id\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"visualization\":{\"icon\":\"globe\",\"layerId\":\"8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\",\"layerType\":\"data\",\"metricAccessor\":\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\",\"showBar\":false}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsMetric\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"hidePanelTitles\":true,\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":7,\"i\":\"7f12fd27-25ec-49dc-b933-355fd9240e84\",\"w\":6,\"x\":17,\"y\":0},\"panelIndex\":\"7f12fd27-25ec-49dc-b933-355fd9240e84\",\"title\":\"\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{\"8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\":{\"columnOrder\":[\"c5a97199-cf18-4de8-a657-50611c96c28f\",\"02355646-e65e-4e99-9ce0-080ff8671206\"],\"columns\":{\"02355646-e65e-4e99-9ce0-080ff8671206\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total deployment count\",\"operationType\":\"unique_count\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":false,\"decimals\":0,\"suffix\":\"\"}}},\"reducedTimeRange\":\"7d\",\"scale\":\"ratio\",\"sourceField\":\"ess.billing.deployment_id\"},\"c5a97199-cf18-4de8-a657-50611c96c28f\":{\"customLabel\":true,\"dataType\":\"number\",\"filter\":{\"language\":\"kuery\",\"query\":\"ess.billing.sku : *ml*\"},\"isBucketed\":false,\"label\":\"ML-enabled deployments\",\"operationType\":\"unique_count\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":false,\"decimals\":0,\"suffix\":\"\"}}},\"reducedTimeRange\":\"7d\",\"scale\":\"ratio\",\"sourceField\":\"ess.billing.deployment_id\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"visualization\":{\"color\":\"#9170B8\",\"layerId\":\"8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\",\"layerType\":\"data\",\"maxAccessor\":\"02355646-e65e-4e99-9ce0-080ff8671206\",\"metricAccessor\":\"c5a97199-cf18-4de8-a657-50611c96c28f\",\"showBar\":true}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsMetric\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"hidePanelTitles\":true,\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":7,\"i\":\"323689e7-0739-46dc-bf47-8f36487e7db4\",\"w\":5,\"x\":23,\"y\":0},\"panelIndex\":\"323689e7-0739-46dc-bf47-8f36487e7db4\",\"title\":\"\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{\"8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\":{\"columnOrder\":[\"c5a97199-cf18-4de8-a657-50611c96c28f\",\"02355646-e65e-4e99-9ce0-080ff8671206\"],\"columns\":{\"02355646-e65e-4e99-9ce0-080ff8671206\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total deployment count\",\"operationType\":\"unique_count\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":false,\"decimals\":0,\"suffix\":\"\"}}},\"reducedTimeRange\":\"7d\",\"scale\":\"ratio\",\"sourceField\":\"ess.billing.deployment_id\"},\"c5a97199-cf18-4de8-a657-50611c96c28f\":{\"customLabel\":true,\"dataType\":\"number\",\"filter\":{\"language\":\"kuery\",\"query\":\"ess.billing.sku : *frozen*\"},\"isBucketed\":false,\"label\":\"Frozen-enabled deployments\",\"operationType\":\"unique_count\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":false,\"decimals\":0,\"suffix\":\"\"}}},\"reducedTimeRange\":\"7d\",\"scale\":\"ratio\",\"sourceField\":\"ess.billing.deployment_id\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"visualization\":{\"color\":\"#54B399\",\"layerId\":\"8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\",\"layerType\":\"data\",\"maxAccessor\":\"02355646-e65e-4e99-9ce0-080ff8671206\",\"metricAccessor\":\"c5a97199-cf18-4de8-a657-50611c96c28f\",\"showBar\":true}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsMetric\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"hidePanelTitles\":true,\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":7,\"i\":\"1786e834-ffd4-4303-b466-2fe2c5f9247b\",\"w\":5,\"x\":28,\"y\":0},\"panelIndex\":\"1786e834-ffd4-4303-b466-2fe2c5f9247b\",\"title\":\"\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-26b528c1-3098-4152-ae1f-1c1e59d61e04\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{\"26b528c1-3098-4152-ae1f-1c1e59d61e04\":{\"columnOrder\":[\"a0d6a089-3f54-4fdc-82a6-82ef4bc267fe\",\"bb874b41-b527-4e6e-9420-8c1988f82766\"],\"columns\":{\"a0d6a089-3f54-4fdc-82a6-82ef4bc267fe\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 5 values of cloud.provider\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderBy\":{\"columnId\":\"bb874b41-b527-4e6e-9420-8c1988f82766\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":5},\"scale\":\"ordinal\",\"sourceField\":\"cloud.provider\"},\"bb874b41-b527-4e6e-9420-8c1988f82766\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total cost\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"decimals\":0,\"suffix\":\" ECUs\"}}},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"visualization\":{\"layers\":[{\"categoryDisplay\":\"default\",\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"26b528c1-3098-4152-ae1f-1c1e59d61e04\",\"layerType\":\"data\",\"legendDisplay\":\"default\",\"metrics\":[\"bb874b41-b527-4e6e-9420-8c1988f82766\"],\"nestedLegend\":false,\"numberDisplay\":\"value\",\"percentDecimals\":0,\"primaryGroups\":[\"a0d6a089-3f54-4fdc-82a6-82ef4bc267fe\"]}],\"shape\":\"pie\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsPie\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":16,\"i\":\"a3b36499-5bb7-4a5f-9ef5-9a9f5e0cf7e3\",\"w\":15,\"x\":33,\"y\":0},\"panelIndex\":\"a3b36499-5bb7-4a5f-9ef5-9a9f5e0cf7e3\",\"title\":\"Cost per provider\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{\"c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\":{\"columnOrder\":[\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\",\"e32c3485-ff5f-41ec-b576-aff6d08672ba\",\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\"],\"columns\":{\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\":{\"customLabel\":true,\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"Time\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"1M\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"e32c3485-ff5f-41ec-b576-aff6d08672ba\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"1M\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Deployment ECU cost\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":true,\"decimals\":2,\"suffix\":\"\"}}},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"fittingFunction\":\"None\",\"layers\":[{\"accessors\":[\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"e32c3485-ff5f-41ec-b576-aff6d08672ba\",\"xAccessor\":\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\"}],\"legend\":{\"isVisible\":false,\"legendSize\":\"auto\",\"legendStats\":[\"total\"],\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"title\":\"Empty XY chart\",\"valueLabels\":\"show\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"timeRange\":{\"from\":\"now-1y/d\",\"to\":\"now\"}},\"gridData\":{\"h\":9,\"i\":\"3d7876e6-13c8-4a0c-b512-0d12ca9dbbce\",\"w\":33,\"x\":0,\"y\":7},\"panelIndex\":\"3d7876e6-13c8-4a0c-b512-0d12ca9dbbce\",\"title\":\"Last 12 months\",\"type\":\"lens\"},{\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"hidePanelTitles\":true,\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"# 💵 Costs overview\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}}},\"gridData\":{\"h\":4,\"i\":\"59dce509-9f42-4eac-bfae-4a70f025de71\",\"w\":48,\"x\":0,\"y\":16},\"panelIndex\":\"59dce509-9f42-4eac-bfae-4a70f025de71\",\"type\":\"visualization\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-a417037b-2171-4ff8-aafe-3f7e2e503886\",\"type\":\"index-pattern\"},{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{\"a417037b-2171-4ff8-aafe-3f7e2e503886\":{\"columnOrder\":[\"fa9067f0-7641-4988-9297-58dd983cb390\",\"d399e78a-8818-4562-acd2-80b9553066e5\"],\"columns\":{\"d399e78a-8818-4562-acd2-80b9553066e5\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total ECU cost\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":false,\"decimals\":0,\"suffix\":\" ECUs\"}}},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"},\"fa9067f0-7641-4988-9297-58dd983cb390\":{\"customLabel\":true,\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"Time\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":true,\"includeEmptyRows\":true,\"interval\":\"d\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1},\"c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\":{\"columnOrder\":[\"822c4ce3-c29c-4c14-8986-09b4190dc5cb\",\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\",\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\"],\"columns\":{\"822c4ce3-c29c-4c14-8986-09b4190dc5cb\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top values of ess.billing.deployment_name + 1 other\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderBy\":{\"columnId\":\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"multi_terms\"},\"secondaryFields\":[\"ess.billing.deployment_id\"],\"size\":9},\"sourceField\":\"ess.billing.deployment_name\"},\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\":{\"customLabel\":true,\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"Time\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":true,\"includeEmptyRows\":true,\"interval\":\"d\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Deployment ECU cost\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":false,\"decimals\":0,\"suffix\":\" ECUs\"}}},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1}}},\"indexpattern\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{}},\"textBased\":{\"indexPatternRefs\":[{\"id\":\"metrics-*\",\"timeField\":\"@timestamp\",\"title\":\"metrics-*\"}],\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":false,\"yRight\":true},\"fittingFunction\":\"None\",\"layers\":[{\"accessors\":[\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\"],\"layerId\":\"c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"area_stacked\",\"showGridlines\":false,\"splitAccessor\":\"822c4ce3-c29c-4c14-8986-09b4190dc5cb\",\"xAccessor\":\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\"},{\"accessors\":[\"d399e78a-8818-4562-acd2-80b9553066e5\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rules\":[{\"type\":\"other\"}],\"touched\":false}]},\"layerId\":\"a417037b-2171-4ff8-aafe-3f7e2e503886\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"line\",\"showGridlines\":false,\"xAccessor\":\"fa9067f0-7641-4988-9297-58dd983cb390\",\"yConfig\":[{\"color\":\"#000000\",\"forAccessor\":\"d399e78a-8818-4562-acd2-80b9553066e5\"}]}],\"legend\":{\"isVisible\":true,\"legendSize\":\"auto\",\"legendStats\":[\"total\"],\"position\":\"right\",\"showSingleSeries\":true},\"preferredSeriesType\":\"line\",\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":14,\"i\":\"bb12c1c0-bdd5-4342-bf93-6aa570ae79d6\",\"w\":38,\"x\":0,\"y\":20},\"panelIndex\":\"bb12c1c0-bdd5-4342-bf93-6aa570ae79d6\",\"title\":\"Cost per deployments/projects over time\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-26b528c1-3098-4152-ae1f-1c1e59d61e04\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{\"26b528c1-3098-4152-ae1f-1c1e59d61e04\":{\"columnOrder\":[\"3e339399-51fa-4618-9dda-b4ecf6220697\",\"e0648c10-9af5-480d-8fe6-9a08048fb587\",\"1d501ad6-5a57-4e37-aa8d-e1227858b119\"],\"columns\":{\"1d501ad6-5a57-4e37-aa8d-e1227858b119\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Cost\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"decimals\":0,\"suffix\":\" ECUs\"}}},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"},\"3e339399-51fa-4618-9dda-b4ecf6220697\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 5 values of ess.billing.deployment_type\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderBy\":{\"columnId\":\"1d501ad6-5a57-4e37-aa8d-e1227858b119\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":5},\"sourceField\":\"ess.billing.deployment_type\"},\"e0648c10-9af5-480d-8fe6-9a08048fb587\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 9 values of ess.billing.deployment_id\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderBy\":{\"columnId\":\"1d501ad6-5a57-4e37-aa8d-e1227858b119\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":9},\"sourceField\":\"ess.billing.deployment_id\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1}}},\"indexpattern\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{}},\"textBased\":{\"indexPatternRefs\":[{\"id\":\"metrics-*\",\"timeField\":\"@timestamp\",\"title\":\"metrics-*\"}],\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"visualization\":{\"layers\":[{\"categoryDisplay\":\"default\",\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"sort\":\"desc\",\"steps\":[{\"colorIndex\":0,\"paletteId\":\"eui_amsterdam_color_blind\",\"touched\":false,\"type\":\"categorical\"}],\"type\":\"gradient\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rules\":[{\"type\":\"other\"}],\"touched\":false}]},\"emptySizeRatio\":0.3,\"layerId\":\"26b528c1-3098-4152-ae1f-1c1e59d61e04\",\"layerType\":\"data\",\"legendDisplay\":\"hide\",\"legendSize\":\"small\",\"metrics\":[\"1d501ad6-5a57-4e37-aa8d-e1227858b119\"],\"nestedLegend\":false,\"numberDisplay\":\"percent\",\"percentDecimals\":1,\"primaryGroups\":[\"3e339399-51fa-4618-9dda-b4ecf6220697\",\"e0648c10-9af5-480d-8fe6-9a08048fb587\"],\"truncateLegend\":false}],\"palette\":{\"name\":\"default\",\"type\":\"palette\"},\"shape\":\"donut\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsPie\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":14,\"i\":\"57afeec6-583c-4f23-9264-d6243d92957f\",\"w\":10,\"x\":38,\"y\":20},\"panelIndex\":\"57afeec6-583c-4f23-9264-d6243d92957f\",\"title\":\"Cost per deployments/projects\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-a417037b-2171-4ff8-aafe-3f7e2e503886\",\"type\":\"index-pattern\"},{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{\"a417037b-2171-4ff8-aafe-3f7e2e503886\":{\"columnOrder\":[\"fa9067f0-7641-4988-9297-58dd983cb390\",\"d399e78a-8818-4562-acd2-80b9553066e5\"],\"columns\":{\"d399e78a-8818-4562-acd2-80b9553066e5\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total ECU cost\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":false,\"decimals\":0,\"suffix\":\" ECUs\"}}},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"},\"fa9067f0-7641-4988-9297-58dd983cb390\":{\"customLabel\":true,\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"Time\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":true,\"includeEmptyRows\":true,\"interval\":\"d\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1},\"c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\":{\"columnOrder\":[\"10cdba83-4b9f-446e-a858-86576c05ff37\",\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\",\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\"],\"columns\":{\"10cdba83-4b9f-446e-a858-86576c05ff37\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top values of ess.billing.deployment_type + 1 other\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderBy\":{\"columnId\":\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"multi_terms\"},\"secondaryFields\":[\"ess.billing.type\"],\"size\":9},\"scale\":\"ordinal\",\"sourceField\":\"ess.billing.deployment_type\"},\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\":{\"customLabel\":true,\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"Time\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":true,\"includeEmptyRows\":true,\"interval\":\"d\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Deployment ECU cost\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":false,\"decimals\":0,\"suffix\":\" ECUs\"}}},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1}}},\"indexpattern\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{}},\"textBased\":{\"indexPatternRefs\":[{\"id\":\"metrics-*\",\"timeField\":\"@timestamp\",\"title\":\"metrics-*\"}],\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":false,\"yRight\":true},\"fittingFunction\":\"None\",\"layers\":[{\"accessors\":[\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\"],\"layerId\":\"c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"10cdba83-4b9f-446e-a858-86576c05ff37\",\"xAccessor\":\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\"},{\"accessors\":[\"d399e78a-8818-4562-acd2-80b9553066e5\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rules\":[{\"type\":\"other\"}],\"touched\":false}]},\"layerId\":\"a417037b-2171-4ff8-aafe-3f7e2e503886\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"line\",\"showGridlines\":false,\"xAccessor\":\"fa9067f0-7641-4988-9297-58dd983cb390\",\"yConfig\":[{\"color\":\"#000000\",\"forAccessor\":\"d399e78a-8818-4562-acd2-80b9553066e5\"}]}],\"legend\":{\"isVisible\":true,\"legendSize\":\"auto\",\"legendStats\":[\"total\"],\"position\":\"right\",\"showSingleSeries\":true},\"preferredSeriesType\":\"bar_stacked\",\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":14,\"i\":\"62b36fc0-fd3f-42c3-adf8-678e39af680b\",\"w\":38,\"x\":0,\"y\":34},\"panelIndex\":\"62b36fc0-fd3f-42c3-adf8-678e39af680b\",\"title\":\"Cost per features over time\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-26b528c1-3098-4152-ae1f-1c1e59d61e04\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{\"26b528c1-3098-4152-ae1f-1c1e59d61e04\":{\"columnOrder\":[\"733ef233-66c7-4fef-ab26-58dfc0796393\",\"ad974b5a-545b-42d6-9690-073f2b8bff68\",\"1d501ad6-5a57-4e37-aa8d-e1227858b119\"],\"columns\":{\"1d501ad6-5a57-4e37-aa8d-e1227858b119\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Cost\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"decimals\":0,\"suffix\":\" ECUs\"}}},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"},\"733ef233-66c7-4fef-ab26-58dfc0796393\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 5 values of ess.billing.deployment_type\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderBy\":{\"columnId\":\"1d501ad6-5a57-4e37-aa8d-e1227858b119\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":5},\"sourceField\":\"ess.billing.deployment_type\"},\"ad974b5a-545b-42d6-9690-073f2b8bff68\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 10 values of ess.billing.type\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderBy\":{\"columnId\":\"1d501ad6-5a57-4e37-aa8d-e1227858b119\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"secondaryFields\":[],\"size\":10},\"scale\":\"ordinal\",\"sourceField\":\"ess.billing.type\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1}}},\"indexpattern\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{}},\"textBased\":{\"indexPatternRefs\":[{\"id\":\"metrics-*\",\"timeField\":\"@timestamp\",\"title\":\"metrics-*\"}],\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"visualization\":{\"layers\":[{\"categoryDisplay\":\"default\",\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rules\":[{\"type\":\"other\"}],\"touched\":false}]},\"emptySizeRatio\":0.3,\"layerId\":\"26b528c1-3098-4152-ae1f-1c1e59d61e04\",\"layerType\":\"data\",\"legendDisplay\":\"hide\",\"metrics\":[\"1d501ad6-5a57-4e37-aa8d-e1227858b119\"],\"nestedLegend\":false,\"numberDisplay\":\"percent\",\"percentDecimals\":1,\"primaryGroups\":[\"733ef233-66c7-4fef-ab26-58dfc0796393\",\"ad974b5a-545b-42d6-9690-073f2b8bff68\"]}],\"shape\":\"donut\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsPie\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":14,\"i\":\"dd9d7fe4-80a0-4e18-94cb-f2bb4c1f02a4\",\"w\":10,\"x\":38,\"y\":34},\"panelIndex\":\"dd9d7fe4-80a0-4e18-94cb-f2bb4c1f02a4\",\"title\":\"Cost per features\",\"type\":\"lens\"},{\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"hidePanelTitles\":true,\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"# 📈 Traffic\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}}},\"gridData\":{\"h\":4,\"i\":\"29650fd2-162a-4a63-85bc-bcb5d3320c79\",\"w\":48,\"x\":0,\"y\":62},\"panelIndex\":\"29650fd2-162a-4a63-85bc-bcb5d3320c79\",\"type\":\"visualization\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-10762a58-7c5c-4aec-9fd3-8cee77354b87\",\"type\":\"index-pattern\"},{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{\"10762a58-7c5c-4aec-9fd3-8cee77354b87\":{\"columnOrder\":[\"09a84e6d-ecd4-46fa-90cd-bde6f73ae789\",\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9\",\"00ee9874-a851-49f1-8e63-83d94b115231\",\"f1c81871-c99e-4c1f-a4b3-e443f663cd40\",\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9X0\",\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9X1\"],\"columns\":{\"00ee9874-a851-49f1-8e63-83d94b115231\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Ingress\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.quantity.value\"},\"09a84e6d-ecd4-46fa-90cd-bde6f73ae789\":{\"customLabel\":true,\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"Time\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":true,\"includeEmptyRows\":true,\"interval\":\"d\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total ingress\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":0}},\"formula\":\"sum(ess.billing.quantity.value) * 1024 * 1024 * 1024\",\"isFormulaBroken\":false},\"references\":[\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9X1\"],\"scale\":\"ratio\"},\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9X0\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Ingress\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.quantity.value\"},\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9X1\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Ingress\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[{\"args\":[{\"args\":[\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9X0\",1024],\"name\":\"multiply\",\"type\":\"function\"},1024],\"name\":\"multiply\",\"type\":\"function\"},1024],\"location\":{\"max\":52,\"min\":0},\"name\":\"multiply\",\"text\":\"sum(ess.billing.quantity.value) * 1024 * 1024 * 1024\",\"type\":\"function\"}},\"references\":[\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9X0\"],\"scale\":\"ratio\"},\"f1c81871-c99e-4c1f-a4b3-e443f663cd40\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Ingress\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[{\"args\":[{\"args\":[\"00ee9874-a851-49f1-8e63-83d94b115231\",1024],\"name\":\"multiply\",\"type\":\"function\"},1024],\"name\":\"multiply\",\"type\":\"function\"},1024],\"location\":{\"max\":52,\"min\":0},\"name\":\"multiply\",\"text\":\"sum(ess.billing.quantity.value) * 1024 * 1024 * 1024\",\"type\":\"function\"}},\"references\":[\"00ee9874-a851-49f1-8e63-83d94b115231\"],\"scale\":\"ratio\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1},\"c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\":{\"columnOrder\":[\"10cdba83-4b9f-446e-a858-86576c05ff37\",\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\",\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\",\"f3a939b5-e9dc-4164-a59f-56e7a9aced2aX0\",\"f3a939b5-e9dc-4164-a59f-56e7a9aced2aX1\"],\"columns\":{\"10cdba83-4b9f-446e-a858-86576c05ff37\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 9 values of ess.billing.deployment_name\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderAgg\":{\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Sum of ess.billing.quantity.value\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.quantity.value\"},\"orderBy\":{\"type\":\"custom\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":9},\"scale\":\"ordinal\",\"sourceField\":\"ess.billing.deployment_name\"},\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\":{\"customLabel\":true,\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"Time\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":true,\"includeEmptyRows\":true,\"interval\":\"d\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Ingress\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":0}},\"formula\":\"sum(ess.billing.quantity.value) * 1024 * 1024 * 1024\",\"isFormulaBroken\":false},\"references\":[\"f3a939b5-e9dc-4164-a59f-56e7a9aced2aX1\"],\"scale\":\"ratio\"},\"f3a939b5-e9dc-4164-a59f-56e7a9aced2aX0\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Ingress\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.quantity.value\"},\"f3a939b5-e9dc-4164-a59f-56e7a9aced2aX1\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Ingress\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[{\"args\":[{\"args\":[\"f3a939b5-e9dc-4164-a59f-56e7a9aced2aX0\",1024],\"name\":\"multiply\",\"type\":\"function\"},1024],\"name\":\"multiply\",\"type\":\"function\"},1024],\"location\":{\"max\":52,\"min\":0},\"name\":\"multiply\",\"text\":\"sum(ess.billing.quantity.value) * 1024 * 1024 * 1024\",\"type\":\"function\"}},\"references\":[\"f3a939b5-e9dc-4164-a59f-56e7a9aced2aX0\"],\"scale\":\"ratio\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" AND ess.billing.type :\\\"data_in\\\" \"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":false,\"yRight\":true},\"curveType\":\"CURVE_MONOTONE_X\",\"fittingFunction\":\"None\",\"layers\":[{\"accessors\":[\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"10cdba83-4b9f-446e-a858-86576c05ff37\",\"xAccessor\":\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\"},{\"accessors\":[\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"10762a58-7c5c-4aec-9fd3-8cee77354b87\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"line\",\"showGridlines\":false,\"xAccessor\":\"09a84e6d-ecd4-46fa-90cd-bde6f73ae789\",\"yConfig\":[{\"color\":\"#000000\",\"forAccessor\":\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9\"}]}],\"legend\":{\"isVisible\":true,\"legendSize\":\"auto\",\"legendStats\":[\"total\"],\"position\":\"right\",\"showSingleSeries\":true},\"preferredSeriesType\":\"line\",\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" AND ess.billing.type :\\\"data_in\\\" \"},\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":14,\"i\":\"04b837c4-86dd-4535-a732-5b0de9a94139\",\"w\":24,\"x\":0,\"y\":66},\"panelIndex\":\"04b837c4-86dd-4535-a732-5b0de9a94139\",\"title\":\"Ingress per deployment\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-10762a58-7c5c-4aec-9fd3-8cee77354b87\",\"type\":\"index-pattern\"},{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{\"10762a58-7c5c-4aec-9fd3-8cee77354b87\":{\"columnOrder\":[\"09a84e6d-ecd4-46fa-90cd-bde6f73ae789\",\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9\",\"00ee9874-a851-49f1-8e63-83d94b115231\",\"f1c81871-c99e-4c1f-a4b3-e443f663cd40\",\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9X0\",\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9X1\"],\"columns\":{\"00ee9874-a851-49f1-8e63-83d94b115231\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Ingress\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.quantity.value\"},\"09a84e6d-ecd4-46fa-90cd-bde6f73ae789\":{\"customLabel\":true,\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"Time\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":true,\"includeEmptyRows\":true,\"interval\":\"d\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total ingress\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":0}},\"formula\":\"sum(ess.billing.quantity.value) * 1024 * 1024 * 1024\",\"isFormulaBroken\":false},\"references\":[\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9X1\"],\"scale\":\"ratio\"},\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9X0\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Ingress\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.quantity.value\"},\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9X1\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Ingress\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[{\"args\":[{\"args\":[\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9X0\",1024],\"name\":\"multiply\",\"type\":\"function\"},1024],\"name\":\"multiply\",\"type\":\"function\"},1024],\"location\":{\"max\":52,\"min\":0},\"name\":\"multiply\",\"text\":\"sum(ess.billing.quantity.value) * 1024 * 1024 * 1024\",\"type\":\"function\"}},\"references\":[\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9X0\"],\"scale\":\"ratio\"},\"f1c81871-c99e-4c1f-a4b3-e443f663cd40\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Ingress\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[{\"args\":[{\"args\":[\"00ee9874-a851-49f1-8e63-83d94b115231\",1024],\"name\":\"multiply\",\"type\":\"function\"},1024],\"name\":\"multiply\",\"type\":\"function\"},1024],\"location\":{\"max\":52,\"min\":0},\"name\":\"multiply\",\"text\":\"sum(ess.billing.quantity.value) * 1024 * 1024 * 1024\",\"type\":\"function\"}},\"references\":[\"00ee9874-a851-49f1-8e63-83d94b115231\"],\"scale\":\"ratio\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1},\"c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\":{\"columnOrder\":[\"10cdba83-4b9f-446e-a858-86576c05ff37\",\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\",\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\",\"f3a939b5-e9dc-4164-a59f-56e7a9aced2aX0\",\"f3a939b5-e9dc-4164-a59f-56e7a9aced2aX1\"],\"columns\":{\"10cdba83-4b9f-446e-a858-86576c05ff37\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 9 values of ess.billing.deployment_name\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderAgg\":{\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Sum of ess.billing.quantity.value\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.quantity.value\"},\"orderBy\":{\"type\":\"custom\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":9},\"scale\":\"ordinal\",\"sourceField\":\"ess.billing.deployment_name\"},\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\":{\"customLabel\":true,\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"Time\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":true,\"includeEmptyRows\":true,\"interval\":\"d\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Ingress\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":0}},\"formula\":\"sum(ess.billing.quantity.value) * 1024 * 1024 * 1024\",\"isFormulaBroken\":false},\"references\":[\"f3a939b5-e9dc-4164-a59f-56e7a9aced2aX1\"],\"scale\":\"ratio\"},\"f3a939b5-e9dc-4164-a59f-56e7a9aced2aX0\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Ingress\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.quantity.value\"},\"f3a939b5-e9dc-4164-a59f-56e7a9aced2aX1\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Ingress\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[{\"args\":[{\"args\":[\"f3a939b5-e9dc-4164-a59f-56e7a9aced2aX0\",1024],\"name\":\"multiply\",\"type\":\"function\"},1024],\"name\":\"multiply\",\"type\":\"function\"},1024],\"location\":{\"max\":52,\"min\":0},\"name\":\"multiply\",\"text\":\"sum(ess.billing.quantity.value) * 1024 * 1024 * 1024\",\"type\":\"function\"}},\"references\":[\"f3a939b5-e9dc-4164-a59f-56e7a9aced2aX0\"],\"scale\":\"ratio\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" AND ess.billing.type :\\\"data_out\\\" \"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":false,\"yRight\":true},\"curveType\":\"CURVE_MONOTONE_X\",\"fittingFunction\":\"None\",\"layers\":[{\"accessors\":[\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"10cdba83-4b9f-446e-a858-86576c05ff37\",\"xAccessor\":\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\"},{\"accessors\":[\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"10762a58-7c5c-4aec-9fd3-8cee77354b87\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"line\",\"showGridlines\":false,\"xAccessor\":\"09a84e6d-ecd4-46fa-90cd-bde6f73ae789\",\"yConfig\":[{\"color\":\"#000000\",\"forAccessor\":\"2d720a5c-05fc-4ed7-a07c-ce224e120fa9\"}]}],\"legend\":{\"isVisible\":true,\"legendSize\":\"auto\",\"legendStats\":[\"total\"],\"position\":\"right\",\"showSingleSeries\":true},\"preferredSeriesType\":\"line\",\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" AND ess.billing.type :\\\"data_out\\\" \"},\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":14,\"i\":\"0f377612-d063-410a-8c9d-17b82bb78222\",\"w\":24,\"x\":24,\"y\":66},\"panelIndex\":\"0f377612-d063-410a-8c9d-17b82bb78222\",\"title\":\"Egress per deployment\",\"type\":\"lens\"},{\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"hidePanelTitles\":true,\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"# 🔎 Deployment drilldown\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}}},\"gridData\":{\"h\":4,\"i\":\"9955a87a-f85c-480c-8322-851973c30c01\",\"w\":48,\"x\":0,\"y\":80},\"panelIndex\":\"9955a87a-f85c-480c-8322-851973c30c01\",\"type\":\"visualization\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-d4458216-7d1d-4314-aeca-e47939db8a25\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{\"d4458216-7d1d-4314-aeca-e47939db8a25\":{\"columnOrder\":[\"062fa496-70ff-4ff1-a7eb-208e53dcae78\",\"17fa2888-12e3-4e16-b383-8eb8fd98ac6b\",\"1e18ea4c-cb97-43a9-b88e-75e522167deb\"],\"columns\":{\"062fa496-70ff-4ff1-a7eb-208e53dcae78\":{\"customLabel\":true,\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Deployment name\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderAgg\":{\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Sum of ess.billing.total_ecu\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"},\"orderBy\":{\"type\":\"custom\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"secondaryFields\":[],\"size\":500},\"scale\":\"ordinal\",\"sourceField\":\"cloud.instance.name\"},\"17fa2888-12e3-4e16-b383-8eb8fd98ac6b\":{\"customLabel\":true,\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Deployment_Id\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderBy\":{\"columnId\":\"1e18ea4c-cb97-43a9-b88e-75e522167deb\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":3},\"sourceField\":\"ess.billing.deployment_id\"},\"1e18ea4c-cb97-43a9-b88e-75e522167deb\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total cost\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"decimals\":0,\"suffix\":\" ECUs\"}}},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1}}},\"indexpattern\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{}},\"textBased\":{\"indexPatternRefs\":[{\"id\":\"metrics-*\",\"timeField\":\"@timestamp\",\"title\":\"metrics-*\"}],\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"event.dataset :\\\"ess_billing.billing\\\" \"},\"visualization\":{\"columns\":[{\"columnId\":\"062fa496-70ff-4ff1-a7eb-208e53dcae78\",\"isMetric\":false,\"isTransposed\":false,\"oneClickFilter\":false,\"width\":233.66666666666669},{\"colorMode\":\"text\",\"columnId\":\"1e18ea4c-cb97-43a9-b88e-75e522167deb\",\"isMetric\":true,\"isTransposed\":false,\"palette\":{\"name\":\"temperature\",\"params\":{\"continuity\":\"above\",\"name\":\"temperature\",\"rangeMax\":null,\"rangeMin\":0,\"reverse\":false,\"stops\":[{\"color\":\"#6092c0\",\"stop\":0},{\"color\":\"#a8bfda\",\"stop\":20},{\"color\":\"#ebeff5\",\"stop\":40},{\"color\":\"#ecb385\",\"stop\":60},{\"color\":\"#e7664c\",\"stop\":80}]},\"type\":\"palette\"},\"summaryRow\":\"sum\"},{\"columnId\":\"17fa2888-12e3-4e16-b383-8eb8fd98ac6b\",\"isMetric\":false,\"isTransposed\":false,\"oneClickFilter\":true}],\"headerRowHeight\":\"single\",\"headerRowHeightLines\":1,\"layerId\":\"d4458216-7d1d-4314-aeca-e47939db8a25\",\"layerType\":\"data\",\"paging\":{\"enabled\":true,\"size\":10}}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsDatatable\"},\"enhancements\":{\"dynamicActions\":{\"events\":[{\"action\":{\"config\":{\"encodeUrl\":true,\"openInNewTab\":true,\"url\":{\"template\":\"https://cloud.elastic.co/deployments?q=\\\"{{event.value}}\\\"\"}},\"factoryId\":\"URL_DRILLDOWN\",\"name\":\"View in Elastic Cloud\"},\"eventId\":\"e458bd64-528e-4075-b848-2fb2da352dee\",\"triggers\":[\"VALUE_CLICK_TRIGGER\"]}]}},\"filters\":[],\"hidePanelTitles\":true,\"query\":{\"language\":\"kuery\",\"query\":\"event.dataset :\\\"ess_billing.billing\\\" \"},\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":19,\"i\":\"6c1840ba-460b-4882-8dd5-92aeb27c33a9\",\"w\":21,\"x\":0,\"y\":84},\"panelIndex\":\"6c1840ba-460b-4882-8dd5-92aeb27c33a9\",\"title\":\"\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"description\":\"\",\"layerListJSON\":\"[{\\\"alpha\\\":0.75,\\\"disableTooltips\\\":false,\\\"id\\\":\\\"8c3c411b-10d0-4ec1-80c1-48acef3b02ac\\\",\\\"includeInFitToBounds\\\":true,\\\"joins\\\":[],\\\"label\\\":null,\\\"maxZoom\\\":24,\\\"minZoom\\\":0,\\\"sourceDescriptor\\\":{\\\"id\\\":\\\"world_countries\\\",\\\"tooltipProperties\\\":[],\\\"type\\\":\\\"EMS_FILE\\\"},\\\"style\\\":{\\\"isTimeAware\\\":true,\\\"properties\\\":{\\\"fillColor\\\":{\\\"options\\\":{\\\"color\\\":\\\"#e4e4e4\\\"},\\\"type\\\":\\\"STATIC\\\"},\\\"icon\\\":{\\\"options\\\":{\\\"value\\\":\\\"marker\\\"},\\\"type\\\":\\\"STATIC\\\"},\\\"iconOrientation\\\":{\\\"options\\\":{\\\"orientation\\\":0},\\\"type\\\":\\\"STATIC\\\"},\\\"iconSize\\\":{\\\"options\\\":{\\\"size\\\":6},\\\"type\\\":\\\"STATIC\\\"},\\\"labelBorderColor\\\":{\\\"options\\\":{\\\"color\\\":\\\"#FFFFFF\\\"},\\\"type\\\":\\\"STATIC\\\"},\\\"labelBorderSize\\\":{\\\"options\\\":{\\\"size\\\":\\\"SMALL\\\"}},\\\"labelColor\\\":{\\\"options\\\":{\\\"color\\\":\\\"#000000\\\"},\\\"type\\\":\\\"STATIC\\\"},\\\"labelPosition\\\":{\\\"options\\\":{\\\"position\\\":\\\"CENTER\\\"}},\\\"labelSize\\\":{\\\"options\\\":{\\\"size\\\":14},\\\"type\\\":\\\"STATIC\\\"},\\\"labelText\\\":{\\\"options\\\":{\\\"value\\\":\\\"\\\"},\\\"type\\\":\\\"STATIC\\\"},\\\"labelZoomRange\\\":{\\\"options\\\":{\\\"maxZoom\\\":24,\\\"minZoom\\\":0,\\\"useLayerZoomRange\\\":true}},\\\"lineColor\\\":{\\\"options\\\":{\\\"color\\\":\\\"#ffffff\\\"},\\\"type\\\":\\\"STATIC\\\"},\\\"lineWidth\\\":{\\\"options\\\":{\\\"size\\\":1},\\\"type\\\":\\\"STATIC\\\"},\\\"symbolizeAs\\\":{\\\"options\\\":{\\\"value\\\":\\\"circle\\\"}}},\\\"type\\\":\\\"VECTOR\\\"},\\\"type\\\":\\\"GEOJSON_VECTOR\\\",\\\"visible\\\":true},{\\\"alpha\\\":0.75,\\\"disableTooltips\\\":false,\\\"id\\\":\\\"4743fd95-b5b4-45ab-ab7a-acb294f2ce8f\\\",\\\"includeInFitToBounds\\\":true,\\\"joins\\\":[],\\\"label\\\":\\\"Cloud footprint\\\",\\\"maxZoom\\\":24,\\\"minZoom\\\":0,\\\"sourceDescriptor\\\":{\\\"applyForceRefresh\\\":true,\\\"columns\\\":[{\\\"name\\\":\\\"cloud.geo.name\\\",\\\"type\\\":\\\"keyword\\\"},{\\\"name\\\":\\\"Total spends\\\",\\\"type\\\":\\\"double\\\"},{\\\"name\\\":\\\"Deployment count\\\",\\\"type\\\":\\\"long\\\"},{\\\"name\\\":\\\"cloud.geo.location\\\",\\\"type\\\":\\\"geo_point\\\"}],\\\"dataViewId\\\":\\\"d3b7e528216ce7ef65e68e07a803b7ab53e440cafdb52d9d7ee1ef4bbf5d8afa\\\",\\\"dateField\\\":\\\"@timestamp\\\",\\\"esql\\\":\\\"from metrics-*\\\\n| WHERE data_stream.dataset == \\\\\\\"ess_billing.billing\\\\\\\"\\\\n| STATS cloud.geo.name=VALUES(cloud.geo.name), `Total spends`=SUM(ess.billing.total_ecu), `Deployment count`=COUNT_DISTINCT(ess.billing.deployment_id) BY cloud.geo.location\\\",\\\"geoField\\\":\\\"cloud.geo.location\\\",\\\"id\\\":\\\"d7ab64a2-9ef8-42e3-9e7f-18858f01b40f\\\",\\\"narrowByGlobalSearch\\\":true,\\\"narrowByGlobalTime\\\":true,\\\"narrowByMapBounds\\\":true,\\\"type\\\":\\\"ESQL\\\"},\\\"style\\\":{\\\"isTimeAware\\\":true,\\\"properties\\\":{\\\"fillColor\\\":{\\\"options\\\":{\\\"color\\\":\\\"Green to Red\\\",\\\"colorCategory\\\":\\\"palette_0\\\",\\\"field\\\":{\\\"name\\\":\\\"Deployment count\\\",\\\"origin\\\":\\\"source\\\"},\\\"fieldMetaOptions\\\":{\\\"isEnabled\\\":true,\\\"sigma\\\":3},\\\"type\\\":\\\"ORDINAL\\\",\\\"useCustomColorRamp\\\":false},\\\"type\\\":\\\"DYNAMIC\\\"},\\\"icon\\\":{\\\"options\\\":{\\\"value\\\":\\\"marker\\\"},\\\"type\\\":\\\"STATIC\\\"},\\\"iconOrientation\\\":{\\\"options\\\":{\\\"orientation\\\":0},\\\"type\\\":\\\"STATIC\\\"},\\\"iconSize\\\":{\\\"options\\\":{\\\"field\\\":{\\\"name\\\":\\\"Total spends\\\",\\\"origin\\\":\\\"source\\\"},\\\"fieldMetaOptions\\\":{\\\"isEnabled\\\":true,\\\"sigma\\\":3},\\\"maxSize\\\":32,\\\"minSize\\\":7},\\\"type\\\":\\\"DYNAMIC\\\"},\\\"labelBorderColor\\\":{\\\"options\\\":{\\\"color\\\":\\\"#FFFFFF\\\"},\\\"type\\\":\\\"STATIC\\\"},\\\"labelBorderSize\\\":{\\\"options\\\":{\\\"size\\\":\\\"SMALL\\\"}},\\\"labelColor\\\":{\\\"options\\\":{\\\"color\\\":\\\"#000000\\\"},\\\"type\\\":\\\"STATIC\\\"},\\\"labelPosition\\\":{\\\"options\\\":{\\\"position\\\":\\\"CENTER\\\"}},\\\"labelSize\\\":{\\\"options\\\":{\\\"size\\\":14},\\\"type\\\":\\\"STATIC\\\"},\\\"labelText\\\":{\\\"options\\\":{\\\"field\\\":{\\\"isUnsupported\\\":false,\\\"label\\\":\\\"cloud.geo.name\\\",\\\"name\\\":\\\"cloud.geo.name\\\",\\\"origin\\\":\\\"source\\\",\\\"supportsAutoDomain\\\":true,\\\"type\\\":\\\"string\\\"}},\\\"type\\\":\\\"DYNAMIC\\\"},\\\"labelZoomRange\\\":{\\\"options\\\":{\\\"maxZoom\\\":24,\\\"minZoom\\\":0,\\\"useLayerZoomRange\\\":true}},\\\"lineColor\\\":{\\\"options\\\":{\\\"color\\\":\\\"#ffffff\\\"},\\\"type\\\":\\\"STATIC\\\"},\\\"lineWidth\\\":{\\\"options\\\":{\\\"size\\\":1},\\\"type\\\":\\\"STATIC\\\"},\\\"symbolizeAs\\\":{\\\"options\\\":{\\\"value\\\":\\\"circle\\\"}}},\\\"type\\\":\\\"VECTOR\\\"},\\\"type\\\":\\\"GEOJSON_VECTOR\\\",\\\"visible\\\":true}]\",\"mapStateJSON\":\"{\\\"adHocDataViews\\\":[{\\\"allowHidden\\\":false,\\\"allowNoIndex\\\":false,\\\"fieldAttrs\\\":{},\\\"fieldFormats\\\":{},\\\"id\\\":\\\"d3b7e528216ce7ef65e68e07a803b7ab53e440cafdb52d9d7ee1ef4bbf5d8afa\\\",\\\"name\\\":\\\"metrics-*\\\",\\\"runtimeFieldMap\\\":{},\\\"sourceFilters\\\":[],\\\"timeFieldName\\\":\\\"@timestamp\\\",\\\"title\\\":\\\"metrics-*\\\",\\\"type\\\":\\\"esql\\\"}],\\\"center\\\":{\\\"lat\\\":11.0985,\\\"lon\\\":-4.1538},\\\"filters\\\":[],\\\"query\\\":{\\\"language\\\":\\\"kuery\\\",\\\"query\\\":\\\"data_stream.dataset :\\\\\\\"ess_billing.billing\\\\\\\" \\\"},\\\"refreshConfig\\\":{\\\"interval\\\":60000,\\\"isPaused\\\":true},\\\"settings\\\":{\\\"autoFitToDataBounds\\\":false,\\\"backgroundColor\\\":\\\"#ffffff\\\",\\\"browserLocation\\\":{\\\"zoom\\\":2},\\\"customIcons\\\":[],\\\"disableInteractive\\\":false,\\\"disableTooltipControl\\\":false,\\\"fixedLocation\\\":{\\\"lat\\\":0,\\\"lon\\\":0,\\\"zoom\\\":2},\\\"hideLayerControl\\\":false,\\\"hideToolbarOverlay\\\":false,\\\"hideViewControl\\\":false,\\\"initialLocation\\\":\\\"LAST_SAVED_LOCATION\\\",\\\"keydownScrollZoom\\\":false,\\\"maxZoom\\\":24,\\\"minZoom\\\":0,\\\"showScaleControl\\\":false,\\\"showSpatialFilters\\\":true,\\\"showTimesliderToggleButton\\\":true,\\\"spatialFiltersAlpa\\\":0.3,\\\"spatialFiltersFillColor\\\":\\\"#DA8B45\\\",\\\"spatialFiltersLineColor\\\":\\\"#DA8B45\\\"},\\\"timeFilters\\\":{\\\"from\\\":\\\"now-1y/d\\\",\\\"to\\\":\\\"now\\\"},\\\"zoom\\\":1.42}\",\"title\":\"\",\"uiStateJSON\":\"{\\\"isLayerTOCOpen\\\":true,\\\"openTOCDetails\\\":[\\\"4743fd95-b5b4-45ab-ab7a-acb294f2ce8f\\\"]}\"},\"description\":\"\",\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"hiddenLayers\":[],\"hidePanelTitles\":true,\"isLayerTOCOpen\":true,\"mapBuffer\":{\"maxLat\":85.05113,\"maxLon\":720,\"minLat\":-85.05113,\"minLon\":-540},\"mapCenter\":{\"lat\":9.05491,\"lon\":101.72431,\"zoom\":0.13},\"openTOCDetails\":[\"4743fd95-b5b4-45ab-ab7a-acb294f2ce8f\"]},\"gridData\":{\"h\":19,\"i\":\"256702fa-08ec-479d-a706-7c6299062a89\",\"w\":27,\"x\":21,\"y\":84},\"panelIndex\":\"256702fa-08ec-479d-a706-7c6299062a89\",\"title\":\"\",\"type\":\"map\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-a417037b-2171-4ff8-aafe-3f7e2e503886\",\"type\":\"index-pattern\"},{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{\"a417037b-2171-4ff8-aafe-3f7e2e503886\":{\"columnOrder\":[\"fa9067f0-7641-4988-9297-58dd983cb390\",\"d399e78a-8818-4562-acd2-80b9553066e5\"],\"columns\":{\"d399e78a-8818-4562-acd2-80b9553066e5\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total ECU cost\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":false,\"decimals\":0,\"suffix\":\" ECUs\"}}},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"},\"fa9067f0-7641-4988-9297-58dd983cb390\":{\"customLabel\":true,\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"Time\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":true,\"includeEmptyRows\":true,\"interval\":\"d\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1},\"c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\":{\"columnOrder\":[\"10cdba83-4b9f-446e-a858-86576c05ff37\",\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\",\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\"],\"columns\":{\"10cdba83-4b9f-446e-a858-86576c05ff37\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top values of ess.billing.type + 1 other\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderBy\":{\"columnId\":\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"multi_terms\"},\"secondaryFields\":[\"cloud.machine.type\"],\"size\":9},\"scale\":\"ordinal\",\"sourceField\":\"ess.billing.type\"},\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\":{\"customLabel\":true,\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"Time\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":true,\"includeEmptyRows\":true,\"interval\":\"d\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Deployment ECU cost\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":false,\"decimals\":0,\"suffix\":\" ECUs\"}}},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1}}},\"indexpattern\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{}},\"textBased\":{\"indexPatternRefs\":[{\"id\":\"metrics-*\",\"timeField\":\"@timestamp\",\"title\":\"metrics-*\"}],\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":false,\"yRight\":true},\"fittingFunction\":\"None\",\"layers\":[{\"accessors\":[\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\"],\"layerId\":\"c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"10cdba83-4b9f-446e-a858-86576c05ff37\",\"xAccessor\":\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\"},{\"accessors\":[\"d399e78a-8818-4562-acd2-80b9553066e5\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rules\":[{\"type\":\"other\"}],\"touched\":false}]},\"layerId\":\"a417037b-2171-4ff8-aafe-3f7e2e503886\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"line\",\"showGridlines\":false,\"xAccessor\":\"fa9067f0-7641-4988-9297-58dd983cb390\",\"yConfig\":[{\"color\":\"#000000\",\"forAccessor\":\"d399e78a-8818-4562-acd2-80b9553066e5\"}]}],\"legend\":{\"isVisible\":true,\"legendSize\":\"auto\",\"legendStats\":[\"total\"],\"position\":\"right\",\"showSingleSeries\":true},\"preferredSeriesType\":\"bar_stacked\",\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"description\":\"\",\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":14,\"i\":\"ca7e42b9-9981-4810-80ba-9b23b67e31d5\",\"w\":24,\"x\":0,\"y\":48},\"panelIndex\":\"ca7e42b9-9981-4810-80ba-9b23b67e31d5\",\"title\":\"ECH Capacity Costs per instance flavors over time\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-a417037b-2171-4ff8-aafe-3f7e2e503886\",\"type\":\"index-pattern\"},{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{\"a417037b-2171-4ff8-aafe-3f7e2e503886\":{\"columnOrder\":[\"fa9067f0-7641-4988-9297-58dd983cb390\",\"d399e78a-8818-4562-acd2-80b9553066e5\"],\"columns\":{\"d399e78a-8818-4562-acd2-80b9553066e5\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total ECU cost\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":false,\"decimals\":0,\"suffix\":\" ECUs\"}}},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"},\"fa9067f0-7641-4988-9297-58dd983cb390\":{\"customLabel\":true,\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"Time\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":true,\"includeEmptyRows\":true,\"interval\":\"d\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1},\"c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\":{\"columnOrder\":[\"10cdba83-4b9f-446e-a858-86576c05ff37\",\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\",\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\"],\"columns\":{\"10cdba83-4b9f-446e-a858-86576c05ff37\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top values of ess.billing.type + 1 other\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderBy\":{\"columnId\":\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"multi_terms\"},\"secondaryFields\":[\"cloud.service.type\"],\"size\":9},\"scale\":\"ordinal\",\"sourceField\":\"ess.billing.type\"},\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\":{\"customLabel\":true,\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"Time\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":true,\"includeEmptyRows\":true,\"interval\":\"d\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Deployment ECU cost\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":false,\"decimals\":0,\"suffix\":\" ECUs\"}}},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1}}},\"indexpattern\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{}},\"textBased\":{\"indexPatternRefs\":[{\"id\":\"metrics-*\",\"timeField\":\"@timestamp\",\"title\":\"metrics-*\"}],\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":false,\"yRight\":true},\"fittingFunction\":\"None\",\"layers\":[{\"accessors\":[\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\"],\"layerId\":\"c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"10cdba83-4b9f-446e-a858-86576c05ff37\",\"xAccessor\":\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\"},{\"accessors\":[\"d399e78a-8818-4562-acd2-80b9553066e5\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rules\":[{\"type\":\"other\"}],\"touched\":false}]},\"layerId\":\"a417037b-2171-4ff8-aafe-3f7e2e503886\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"line\",\"showGridlines\":false,\"xAccessor\":\"fa9067f0-7641-4988-9297-58dd983cb390\",\"yConfig\":[{\"color\":\"#000000\",\"forAccessor\":\"d399e78a-8818-4562-acd2-80b9553066e5\"}]}],\"legend\":{\"isVisible\":true,\"legendSize\":\"auto\",\"legendStats\":[\"total\"],\"position\":\"right\",\"showSingleSeries\":true},\"preferredSeriesType\":\"bar_stacked\",\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":14,\"i\":\"50054a4c-0c91-4410-9365-69dde704d232\",\"w\":24,\"x\":24,\"y\":48},\"panelIndex\":\"50054a4c-0c91-4410-9365-69dde704d232\",\"title\":\"Serverless features per service types over time\",\"type\":\"lens\"}]","timeRestore":false,"title":"[Metrics ESS Billing] Billing dashboard","version":3},"coreMigrationVersion":"8.8.0","created_at":"2025-09-11T14:10:30.183Z","id":"ess_billing-billingdashboard","managed":true,"references":[{"id":"ess_billing-billingdashboard","name":"2b4e81ec-acbf-4261-a518-6355b8ad9507:link_41ef1269-cf4b-479b-b6b1-e259df2f610e_dashboard","type":"dashboard"},{"id":"ess_billing-creditsdashboard","name":"2b4e81ec-acbf-4261-a518-6355b8ad9507:link_94e5341a-801b-40fd-91d5-69d0da0b2a83_dashboard","type":"dashboard"},{"id":"metrics-*","name":"2c1d1abc-1103-4a7a-bae0-811bff2cbbd7:indexpattern-datasource-layer-8c4e8172-eb9b-4d3b-822d-2cf041d9a9af","type":"index-pattern"},{"id":"metrics-*","name":"f8867591-437e-4b1d-be5c-b5d5d606e742:indexpattern-datasource-layer-8c4e8172-eb9b-4d3b-822d-2cf041d9a9af","type":"index-pattern"},{"id":"metrics-*","name":"7f12fd27-25ec-49dc-b933-355fd9240e84:indexpattern-datasource-layer-8c4e8172-eb9b-4d3b-822d-2cf041d9a9af","type":"index-pattern"},{"id":"metrics-*","name":"323689e7-0739-46dc-bf47-8f36487e7db4:indexpattern-datasource-layer-8c4e8172-eb9b-4d3b-822d-2cf041d9a9af","type":"index-pattern"},{"id":"metrics-*","name":"1786e834-ffd4-4303-b466-2fe2c5f9247b:indexpattern-datasource-layer-8c4e8172-eb9b-4d3b-822d-2cf041d9a9af","type":"index-pattern"},{"id":"metrics-*","name":"a3b36499-5bb7-4a5f-9ef5-9a9f5e0cf7e3:indexpattern-datasource-layer-26b528c1-3098-4152-ae1f-1c1e59d61e04","type":"index-pattern"},{"id":"metrics-*","name":"3d7876e6-13c8-4a0c-b512-0d12ca9dbbce:indexpattern-datasource-layer-c9af8b12-7fac-4ff6-9e4e-796c744c3f1d","type":"index-pattern"},{"id":"metrics-*","name":"bb12c1c0-bdd5-4342-bf93-6aa570ae79d6:indexpattern-datasource-layer-a417037b-2171-4ff8-aafe-3f7e2e503886","type":"index-pattern"},{"id":"metrics-*","name":"bb12c1c0-bdd5-4342-bf93-6aa570ae79d6:indexpattern-datasource-layer-c9af8b12-7fac-4ff6-9e4e-796c744c3f1d","type":"index-pattern"},{"id":"metrics-*","name":"57afeec6-583c-4f23-9264-d6243d92957f:indexpattern-datasource-layer-26b528c1-3098-4152-ae1f-1c1e59d61e04","type":"index-pattern"},{"id":"metrics-*","name":"62b36fc0-fd3f-42c3-adf8-678e39af680b:indexpattern-datasource-layer-a417037b-2171-4ff8-aafe-3f7e2e503886","type":"index-pattern"},{"id":"metrics-*","name":"62b36fc0-fd3f-42c3-adf8-678e39af680b:indexpattern-datasource-layer-c9af8b12-7fac-4ff6-9e4e-796c744c3f1d","type":"index-pattern"},{"id":"metrics-*","name":"dd9d7fe4-80a0-4e18-94cb-f2bb4c1f02a4:indexpattern-datasource-layer-26b528c1-3098-4152-ae1f-1c1e59d61e04","type":"index-pattern"},{"id":"metrics-*","name":"04b837c4-86dd-4535-a732-5b0de9a94139:indexpattern-datasource-layer-10762a58-7c5c-4aec-9fd3-8cee77354b87","type":"index-pattern"},{"id":"metrics-*","name":"04b837c4-86dd-4535-a732-5b0de9a94139:indexpattern-datasource-layer-c9af8b12-7fac-4ff6-9e4e-796c744c3f1d","type":"index-pattern"},{"id":"metrics-*","name":"0f377612-d063-410a-8c9d-17b82bb78222:indexpattern-datasource-layer-10762a58-7c5c-4aec-9fd3-8cee77354b87","type":"index-pattern"},{"id":"metrics-*","name":"0f377612-d063-410a-8c9d-17b82bb78222:indexpattern-datasource-layer-c9af8b12-7fac-4ff6-9e4e-796c744c3f1d","type":"index-pattern"},{"id":"metrics-*","name":"6c1840ba-460b-4882-8dd5-92aeb27c33a9:indexpattern-datasource-layer-d4458216-7d1d-4314-aeca-e47939db8a25","type":"index-pattern"},{"id":"metrics-*","name":"ca7e42b9-9981-4810-80ba-9b23b67e31d5:indexpattern-datasource-layer-a417037b-2171-4ff8-aafe-3f7e2e503886","type":"index-pattern"},{"id":"metrics-*","name":"ca7e42b9-9981-4810-80ba-9b23b67e31d5:indexpattern-datasource-layer-c9af8b12-7fac-4ff6-9e4e-796c744c3f1d","type":"index-pattern"},{"id":"metrics-*","name":"50054a4c-0c91-4410-9365-69dde704d232:indexpattern-datasource-layer-a417037b-2171-4ff8-aafe-3f7e2e503886","type":"index-pattern"},{"id":"metrics-*","name":"50054a4c-0c91-4410-9365-69dde704d232:indexpattern-datasource-layer-c9af8b12-7fac-4ff6-9e4e-796c744c3f1d","type":"index-pattern"},{"id":"metrics-*","name":"controlGroup_148407b7-0d24-4a6d-8d7b-cda1deb607b0:optionsListDataView","type":"index-pattern"},{"id":"metrics-*","name":"controlGroup_148d1220-9036-47a3-b5c1-1cfb2242282f:optionsListDataView","type":"index-pattern"},{"id":"fleet-managed-default","name":"tag-ref-fleet-managed-default","type":"tag"},{"id":"fleet-pkg-ess_billing-default","name":"tag-ref-fleet-pkg-ess_billing-default","type":"tag"}],"type":"dashboard","typeMigrationVersion":"10.3.0","updated_at":"2025-09-11T14:10:31.125Z","version":"WzEwOTQ0LDQ3XQ=="}
{"attributes":{"allowHidden":false,"fieldAttrs":"{}","fieldFormatMap":"{}","fields":"[]","name":"Chargeback: Billing Cluster Cost","runtimeFieldMap":"{}","sourceFilters":"[]","title":"billing_cluster_cost_lookup"},"coreMigrationVersion":"8.8.0","created_at":"2025-08-04T13:17:05.384Z","created_by":"u_2001809318_cloud","id":"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f","managed":false,"references":[],"type":"index-pattern","typeMigrationVersion":"8.0.0","updated_at":"2025-08-04T13:17:05.384Z","updated_by":"u_2001809318_cloud","version":"Wzg1NTUsNDBd"}
{"attributes":{"color":"#4DD2CA","description":"","name":"Chargeback"},"coreMigrationVersion":"8.8.0","created_at":"2025-06-27T14:10:50.405Z","id":"fleet-pkg-chargeback-default","managed":true,"references":[],"type":"tag","typeMigrationVersion":"8.0.0","updated_at":"2025-06-27T14:10:50.405Z","version":"WzY4ODU5LDM4XQ=="}
{"attributes":{"controlGroupInput":{"chainingSystem":"HIERARCHICAL","controlStyle":"oneLine","ignoreParentSettingsJSON":"{\"ignoreFilters\":false,\"ignoreQuery\":false,\"ignoreTimerange\":false,\"ignoreValidations\":false}","panelsJSON":"{\"ab7831d2-e2cb-4ece-a4a6-b22c17f30aec\":{\"explicitInput\":{\"dataViewId\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"exclude\":false,\"existsSelected\":false,\"fieldName\":\"deployment_id\",\"id\":\"ab7831d2-e2cb-4ece-a4a6-b22c17f30aec\",\"searchTechnique\":\"prefix\",\"selectedOptions\":[],\"sort\":{\"by\":\"_count\",\"direction\":\"desc\"},\"title\":\"Deployment ID\"},\"grow\":false,\"order\":0,\"type\":\"optionsListControl\",\"width\":\"large\"}}","showApplySelections":false},"description":"Provides visual insights into cluster-level cost and usage metrics, helping track Elastic consumption across tiers, deployments, and data streams. Built from transformed billing and usage data, this dashboard enables transparent chargeback calculations and trend analysis.","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}"},"optionsJSON":"{\"hidePanelTitles\":false,\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"useMargins\":true}","panelsJSON":"[{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"name\":\"billing_cluster_cost_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"timeField\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\"}],\"layers\":{\"c2dbde04-0769-4485-b4fa-4cb05a1d975e\":{\"columns\":[{\"columnId\":\"@timestamp\",\"customLabel\":true,\"fieldName\":\"@timestamp\",\"label\":\"Date\",\"meta\":{\"esType\":\"date\",\"type\":\"date\"}},{\"columnId\":\"deployment\",\"customLabel\":true,\"fieldName\":\"deployment\",\"label\":\"Deployment\",\"meta\":{\"esType\":\"keyword\",\"type\":\"string\"}},{\"columnId\":\"total_ecu_value\",\"customLabel\":true,\"fieldName\":\"total_ecu_value\",\"inMetricDimension\":true,\"label\":\"Normalised cost\",\"meta\":{\"esType\":\"double\",\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}}],\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| EVAL total_ecu_value = total_ecu * conf_ecu_rate, deployment = CONCAT(deployment_name, \\\" (\\\", LEFT(deployment_id, 6), \\\")\\\")\\n| KEEP @timestamp, deployment, total_ecu_value | SORT @timestamp desc | LIMIT 5000\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| EVAL total_ecu_value = total_ecu * conf_ecu_rate, deployment = CONCAT(deployment_name, \\\" (\\\", LEFT(deployment_id, 6), \\\")\\\")\\n| KEEP @timestamp, deployment, total_ecu_value | SORT @timestamp desc | LIMIT 5000\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"fittingFunction\":\"Linear\",\"gridlinesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"layers\":[{\"accessors\":[\"total_ecu_value\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"c2dbde04-0769-4485-b4fa-4cb05a1d975e\",\"layerType\":\"data\",\"seriesType\":\"bar_stacked\",\"splitAccessor\":\"deployment\",\"xAccessor\":\"@timestamp\"}],\"legend\":{\"isVisible\":true,\"position\":\"right\"},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"valueLabels\":\"hide\"}},\"title\":\"Normalised cost over time\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| EVAL total_ecu_value = total_ecu * conf_ecu_rate, deployment = CONCAT(deployment_name, \\\" (\\\", LEFT(deployment_id, 6), \\\")\\\")\\n| KEEP @timestamp, deployment, total_ecu_value | SORT @timestamp desc | LIMIT 5000\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"timeRange\":{\"from\":\"now-6M\",\"to\":\"now\"}},\"gridData\":{\"h\":9,\"i\":\"d9069c7e-bfaf-4045-aedf-ca1042c21010\",\"w\":34,\"x\":0,\"y\":0},\"panelIndex\":\"d9069c7e-bfaf-4045-aedf-ca1042c21010\",\"title\":\"Normalised cost over the last 6 months\",\"type\":\"lens\"},{\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"id\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"In this dashboard, normalised cost is the ECU (Elastic Consumption Units) * conversion rate (`conf_ecu_rate`).\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}}},\"gridData\":{\"h\":5,\"i\":\"27ce47e9-a75f-4a58-9dd5-da735ef85ab2\",\"w\":8,\"x\":34,\"y\":0},\"panelIndex\":\"27ce47e9-a75f-4a58-9dd5-da735ef85ab2\",\"title\":\"Normalised cost\",\"type\":\"visualization\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"8f632b34627f697e9702333f8ef042ab73e3436b01f9a29710a96cc9dad323b9\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"8f632b34627f697e9702333f8ef042ab73e3436b01f9a29710a96cc9dad323b9\",\"name\":\"chargeback_conf_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"title\":\"chargeback_conf_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"8f632b34627f697e9702333f8ef042ab73e3436b01f9a29710a96cc9dad323b9\",\"title\":\"chargeback_conf_lookup\"}],\"layers\":{\"005d9023-92e0-4783-a349-4a2e05b0bce4\":{\"columns\":[{\"columnId\":\"conf_indexing_weight\",\"customLabel\":true,\"fieldName\":\"conf_indexing_weight\",\"inMetricDimension\":true,\"label\":\"Weight\",\"meta\":{\"esType\":\"integer\",\"type\":\"number\"}},{\"columnId\":\"conf_query_weight\",\"customLabel\":true,\"fieldName\":\"conf_query_weight\",\"inMetricDimension\":true,\"label\":\"Weight\",\"meta\":{\"esType\":\"integer\",\"type\":\"number\"}},{\"columnId\":\"conf_storage_weight\",\"customLabel\":false,\"fieldName\":\"conf_storage_weight\",\"inMetricDimension\":true,\"label\":\"Weight\",\"meta\":{\"esType\":\"integer\",\"type\":\"number\"}}],\"index\":\"8f632b34627f697e9702333f8ef042ab73e3436b01f9a29710a96cc9dad323b9\",\"query\":{\"esql\":\"FROM chargeback_conf_lookup | KEEP *weight\"}}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM chargeback_conf_lookup | KEEP *weight\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"fittingFunction\":\"Linear\",\"gridlinesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"layers\":[{\"accessors\":[\"conf_indexing_weight\",\"conf_query_weight\",\"conf_storage_weight\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"005d9023-92e0-4783-a349-4a2e05b0bce4\",\"layerType\":\"data\",\"seriesType\":\"bar_percentage_stacked\"}],\"legend\":{\"horizontalAlignment\":\"right\",\"isInside\":true,\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false,\"verticalAlignment\":\"bottom\"},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"valueLabels\":\"hide\"}},\"title\":\"conf_indexing_weight \\u0026 conf_query_weight \\u0026 conf_storage_weight of (empty)\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM chargeback_conf_lookup | KEEP *weight\"},\"searchSessionId\":\"62d2fe44-dd84-4cd0-ac53-38b090b0eff6\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":9,\"i\":\"a3a091e7-6bff-4edf-bc65-993e8a3648de\",\"w\":6,\"x\":42,\"y\":0},\"panelIndex\":\"a3a091e7-6bff-4edf-bc65-993e8a3648de\",\"title\":\"Blended rate weighting percentages\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"8f632b34627f697e9702333f8ef042ab73e3436b01f9a29710a96cc9dad323b9\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"8f632b34627f697e9702333f8ef042ab73e3436b01f9a29710a96cc9dad323b9\",\"name\":\"chargeback_conf_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"title\":\"chargeback_conf_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"8f632b34627f697e9702333f8ef042ab73e3436b01f9a29710a96cc9dad323b9\",\"title\":\"chargeback_conf_lookup\"}],\"layers\":{\"4dba9fd5-8ec5-498a-b710-1512bd5dc18f\":{\"columns\":[{\"columnId\":\"conf_ecu_rate_unit\",\"customLabel\":true,\"fieldName\":\"conf_ecu_rate_unit\",\"label\":\"Unit\",\"meta\":{\"esType\":\"keyword\",\"type\":\"string\"}},{\"columnId\":\"conf_ecu_rate\",\"customLabel\":true,\"fieldName\":\"conf_ecu_rate\",\"inMetricDimension\":true,\"label\":\"Rate\",\"meta\":{\"esType\":\"double\",\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}}],\"index\":\"8f632b34627f697e9702333f8ef042ab73e3436b01f9a29710a96cc9dad323b9\",\"query\":{\"esql\":\"FROM chargeback_conf_lookup | keep conf_ecu_rate_unit, conf_ecu_rate\"}}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM chargeback_conf_lookup | keep conf_ecu_rate_unit, conf_ecu_rate\"},\"visualization\":{\"columns\":[{\"columnId\":\"conf_ecu_rate_unit\"},{\"columnId\":\"conf_ecu_rate\"}],\"layerId\":\"4dba9fd5-8ec5-498a-b710-1512bd5dc18f\",\"layerType\":\"data\"}},\"visualizationType\":\"lnsDatatable\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM chargeback_conf_lookup | keep conf_ecu_rate_unit, conf_ecu_rate\"},\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":4,\"i\":\"54ff8784-cfb6-41dc-ad15-50547f49f9e7\",\"w\":8,\"x\":34,\"y\":5},\"panelIndex\":\"54ff8784-cfb6-41dc-ad15-50547f49f9e7\",\"type\":\"lens\"},{\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"id\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"# Deployment statistics\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}}},\"gridData\":{\"h\":3,\"i\":\"08bdbcda-fa42-4fb2-bb50-b4ed2620ef6b\",\"w\":48,\"x\":0,\"y\":8},\"panelIndex\":\"08bdbcda-fa42-4fb2-bb50-b4ed2620ef6b\",\"type\":\"visualization\"},{\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"# Data tier and data stream overview\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}}},\"gridData\":{\"h\":3,\"i\":\"784ed861-b61f-4c71-a3bc-02cb513a8019\",\"w\":48,\"x\":0,\"y\":26},\"panelIndex\":\"784ed861-b61f-4c71-a3bc-02cb513a8019\",\"title\":\"\",\"type\":\"visualization\"},{\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"## Indexing\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}}},\"gridData\":{\"h\":3,\"i\":\"4d8d5ff0-b63f-4d39-be03-e6f85a8b60ce\",\"w\":12,\"x\":0,\"y\":39},\"panelIndex\":\"4d8d5ff0-b63f-4d39-be03-e6f85a8b60ce\",\"title\":\"\",\"type\":\"visualization\"},{\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"## Querying\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}}},\"gridData\":{\"h\":3,\"i\":\"40a91be7-f01d-47ce-ba7f-683bcee42626\",\"w\":12,\"x\":12,\"y\":39},\"panelIndex\":\"40a91be7-f01d-47ce-ba7f-683bcee42626\",\"title\":\"\",\"type\":\"visualization\"},{\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"## Storage\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}}},\"gridData\":{\"h\":3,\"i\":\"d0c647b4-4b26-49d3-b54a-1ddbdf995143\",\"w\":12,\"x\":24,\"y\":39},\"panelIndex\":\"d0c647b4-4b26-49d3-b54a-1ddbdf995143\",\"title\":\"\",\"type\":\"visualization\"},{\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"## Blended\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}}},\"gridData\":{\"h\":3,\"i\":\"540d6135-d996-43ed-a192-30d51e2e5454\",\"w\":12,\"x\":36,\"y\":39},\"panelIndex\":\"540d6135-d996-43ed-a192-30d51e2e5454\",\"title\":\"\",\"type\":\"visualization\"},{\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"# Data tier and data stream per day\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}}},\"gridData\":{\"h\":3,\"i\":\"b1e12ff9-83d2-4dd7-a16e-ec4597d14dbc\",\"w\":48,\"x\":0,\"y\":72},\"panelIndex\":\"b1e12ff9-83d2-4dd7-a16e-ec4597d14dbc\",\"title\":\"\",\"type\":\"visualization\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"name\":\"billing_cluster_cost_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"timeField\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\"}],\"layers\":{\"1a2f8269-f56f-4c02-8506-76b723acc828\":{\"columns\":[{\"columnId\":\"agg_querying\",\"customLabel\":true,\"fieldName\":\"agg_querying\",\"inMetricDimension\":true,\"label\":\"Normalised cost\",\"meta\":{\"esType\":\"double\",\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}},{\"columnId\":\"@timestamp\",\"customLabel\":true,\"fieldName\":\"@timestamp\",\"label\":\"Date\",\"meta\":{\"esType\":\"date\",\"type\":\"date\"}},{\"columnId\":\"datastream\",\"customLabel\":true,\"fieldName\":\"datastream\",\"label\":\"Data stream\",\"meta\":{\"esType\":\"keyword\",\"type\":\"string\"}}],\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| EVAL \\n    querying = CASE (\\n        deployment_sum_query_time \\u003e 0,\\n        datastream_sum_query_time / deployment_sum_query_time * total_ecu\\n    ) * conf_ecu_rate\\n| STATS  \\n    agg_querying = sum(querying) \\n    BY \\n        @timestamp, \\n        datastream\\n| WHERE agg_querying \\u003e 0\\n| SORT agg_querying DESC\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| EVAL \\n    querying = CASE (\\n        deployment_sum_query_time \\u003e 0,\\n        datastream_sum_query_time / deployment_sum_query_time * total_ecu\\n    ) * conf_ecu_rate\\n| STATS  \\n    agg_querying = sum(querying) \\n    BY \\n        @timestamp, \\n        datastream\\n| WHERE agg_querying \\u003e 0\\n| SORT agg_querying DESC\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"fittingFunction\":\"Linear\",\"gridlinesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"layers\":[{\"accessors\":[\"agg_querying\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"1a2f8269-f56f-4c02-8506-76b723acc828\",\"layerType\":\"data\",\"seriesType\":\"bar_stacked\",\"splitAccessor\":\"datastream\",\"xAccessor\":\"@timestamp\"}],\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"valueLabels\":\"hide\"}},\"title\":\"agg_querying over @timestamp\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| EVAL \\n    querying = CASE (\\n        deployment_sum_query_time \\u003e 0,\\n        datastream_sum_query_time / deployment_sum_query_time * total_ecu\\n    ) * conf_ecu_rate\\n| STATS  \\n    agg_querying = sum(querying) \\n    BY \\n        @timestamp, \\n        datastream\\n| WHERE agg_querying \\u003e 0\\n| SORT agg_querying DESC\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":14,\"i\":\"83bbd574-571b-4401-af7f-d0998cd9af2e\",\"w\":16,\"x\":0,\"y\":95},\"panelIndex\":\"83bbd574-571b-4401-af7f-d0998cd9af2e\",\"title\":\"Querying: Normalised cost per data stream per day\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"name\":\"billing_cluster_cost_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"timeField\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\"}],\"layers\":{\"d24af063-ec41-4736-bf4e-70f1fe4da4cf\":{\"columns\":[{\"columnId\":\"agg_indexing\",\"customLabel\":true,\"fieldName\":\"agg_indexing\",\"inMetricDimension\":true,\"label\":\"Normalised cost\",\"meta\":{\"esType\":\"double\",\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}},{\"columnId\":\"@timestamp\",\"customLabel\":true,\"fieldName\":\"@timestamp\",\"label\":\"Date\",\"meta\":{\"esType\":\"date\",\"type\":\"date\"}},{\"columnId\":\"tier\",\"customLabel\":true,\"fieldName\":\"tier\",\"label\":\"Data tier\",\"meta\":{\"esType\":\"keyword\",\"type\":\"string\"}}],\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| EVAL \\n    indexing = CASE (\\n        deployment_sum_indexing_time \\u003e 0,\\n        tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu\\n    ) * conf_ecu_rate\\n| STATS  \\n    agg_indexing = sum(indexing)\\n    BY \\n        @timestamp,\\n        tier\\n| WHERE agg_indexing \\u003e 0\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| EVAL \\n    indexing = CASE (\\n        deployment_sum_indexing_time \\u003e 0,\\n        tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu\\n    ) * conf_ecu_rate\\n| STATS  \\n    agg_indexing = sum(indexing)\\n    BY \\n        @timestamp,\\n        tier\\n| WHERE agg_indexing \\u003e 0\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"fittingFunction\":\"Linear\",\"gridlinesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"layers\":[{\"accessors\":[\"agg_indexing\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"d24af063-ec41-4736-bf4e-70f1fe4da4cf\",\"layerType\":\"data\",\"seriesType\":\"bar_stacked\",\"splitAccessor\":\"tier\",\"xAccessor\":\"@timestamp\"}],\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"valueLabels\":\"hide\"}},\"title\":\"agg_indexing over @timestamp\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| EVAL \\n    indexing = CASE (\\n        deployment_sum_indexing_time \\u003e 0,\\n        tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu\\n    ) * conf_ecu_rate\\n| STATS  \\n    agg_indexing = sum(indexing)\\n    BY \\n        @timestamp,\\n        tier\\n| WHERE agg_indexing \\u003e 0\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":14,\"i\":\"45a29dd3-1990-4717-bf6b-25a5d85d2344\",\"w\":16,\"x\":16,\"y\":78},\"panelIndex\":\"45a29dd3-1990-4717-bf6b-25a5d85d2344\",\"title\":\"Indexing: Normalised cost per tier per day\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"3db0d6b31d8afd75067c7a445bb4f066a52d9d451e8237e51956bd0d7e1ecb52\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"3db0d6b31d8afd75067c7a445bb4f066a52d9d451e8237e51956bd0d7e1ecb52\",\"name\":\"monitoring-indices\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"monitoring-indices\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"3db0d6b31d8afd75067c7a445bb4f066a52d9d451e8237e51956bd0d7e1ecb52\",\"timeField\":\"@timestamp\",\"title\":\"monitoring-indices\"}],\"layers\":{\"d5520b0e-567f-4f0a-b424-fc79eb79e2cc\":{\"columns\":[{\"columnId\":\"@timestamp\",\"customLabel\":true,\"fieldName\":\"@timestamp\",\"label\":\"Date\",\"meta\":{\"esType\":\"date\",\"type\":\"date\"}},{\"columnId\":\"datastream\",\"customLabel\":true,\"fieldName\":\"datastream\",\"label\":\"Data stream\",\"meta\":{\"esType\":\"keyword\",\"type\":\"string\"}},{\"columnId\":\"agg_indexing\",\"customLabel\":true,\"fieldName\":\"agg_indexing\",\"inMetricDimension\":true,\"label\":\"% Normalised cost\",\"meta\":{\"esType\":\"long\",\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"percent\",\"params\":{\"decimals\":0}}}}],\"index\":\"3db0d6b31d8afd75067c7a445bb4f066a52d9d451e8237e51956bd0d7e1ecb52\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| EVAL \\n    indexing = CASE (\\n        deployment_sum_indexing_time \\u003e 0,\\n        datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu\\n    ) * conf_ecu_rate\\n| STATS  \\n    agg_indexing = sum(indexing)\\n    BY \\n        @timestamp,\\n        datastream\\n| WHERE agg_indexing \\u003e 0\\n| SORT agg_indexing DESC\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| EVAL \\n    indexing = CASE (\\n        deployment_sum_indexing_time \\u003e 0,\\n        datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu\\n    ) * conf_ecu_rate\\n| STATS  \\n    agg_indexing = sum(indexing)\\n    BY \\n        @timestamp,\\n        datastream\\n| WHERE agg_indexing \\u003e 0\\n| SORT agg_indexing DESC\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"fittingFunction\":\"Linear\",\"gridlinesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"layers\":[{\"accessors\":[\"agg_indexing\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"d5520b0e-567f-4f0a-b424-fc79eb79e2cc\",\"layerType\":\"data\",\"seriesType\":\"bar_percentage_stacked\",\"splitAccessor\":\"datastream\",\"xAccessor\":\"@timestamp\"}],\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"valueLabels\":\"hide\"}},\"title\":\"agg_indexing over @timestamp\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| EVAL \\n    indexing = CASE (\\n        deployment_sum_indexing_time \\u003e 0,\\n        datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu\\n    ) * conf_ecu_rate\\n| STATS  \\n    agg_indexing = sum(indexing)\\n    BY \\n        @timestamp,\\n        datastream\\n| WHERE agg_indexing \\u003e 0\\n| SORT agg_indexing DESC\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":14,\"i\":\"9bc8fa5a-d47a-4a79-ab6a-032d726f085f\",\"w\":16,\"x\":32,\"y\":78},\"panelIndex\":\"9bc8fa5a-d47a-4a79-ab6a-032d726f085f\",\"title\":\"Indexing: % Normalised cost per data stream per day\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"name\":\"billing_cluster_cost_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"timeField\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\"}],\"layers\":{\"61842c44-afd9-429c-bf2e-18a4a079e5e8\":{\"columns\":[{\"columnId\":\"agg_querying\",\"customLabel\":true,\"fieldName\":\"agg_querying\",\"inMetricDimension\":true,\"label\":\"Normalised cost\",\"meta\":{\"esType\":\"double\",\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}},{\"columnId\":\"@timestamp\",\"customLabel\":true,\"fieldName\":\"@timestamp\",\"label\":\"Date\",\"meta\":{\"esType\":\"date\",\"type\":\"date\"}},{\"columnId\":\"tier\",\"customLabel\":false,\"fieldName\":\"tier\",\"label\":\"tier\",\"meta\":{\"esType\":\"keyword\",\"type\":\"string\"}}],\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| EVAL \\n    querying = CASE (\\n        deployment_sum_query_time \\u003e 0,\\n        tier_sum_query_time / deployment_sum_query_time * total_ecu\\n    ) * conf_ecu_rate\\n| STATS  \\n    agg_querying = sum(querying)\\n    BY \\n        @timestamp,\\n        tier\\n| WHERE agg_querying \\u003e 0\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| EVAL \\n    querying = CASE (\\n        deployment_sum_query_time \\u003e 0,\\n        tier_sum_query_time / deployment_sum_query_time * total_ecu\\n    ) * conf_ecu_rate\\n| STATS  \\n    agg_querying = sum(querying)\\n    BY \\n        @timestamp,\\n        tier\\n| WHERE agg_querying \\u003e 0\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"fittingFunction\":\"Linear\",\"gridlinesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"layers\":[{\"accessors\":[\"agg_querying\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"61842c44-afd9-429c-bf2e-18a4a079e5e8\",\"layerType\":\"data\",\"seriesType\":\"bar_stacked\",\"splitAccessor\":\"tier\",\"xAccessor\":\"@timestamp\"}],\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"valueLabels\":\"hide\"}},\"title\":\"agg_querying over @timestamp\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| EVAL \\n    querying = CASE (\\n        deployment_sum_query_time \\u003e 0,\\n        tier_sum_query_time / deployment_sum_query_time * total_ecu\\n    ) * conf_ecu_rate\\n| STATS  \\n    agg_querying = sum(querying)\\n    BY \\n        @timestamp,\\n        tier\\n| WHERE agg_querying \\u003e 0\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":14,\"i\":\"b0df8c79-87d4-4a7a-8c7b-4752862fb2dd\",\"w\":16,\"x\":16,\"y\":95},\"panelIndex\":\"b0df8c79-87d4-4a7a-8c7b-4752862fb2dd\",\"title\":\"Querying: Noralised cost per tier per day\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"name\":\"billing_cluster_cost_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"timeField\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\"}],\"layers\":{\"ba345378-8ee0-40ec-9fb0-d26588d09107\":{\"columns\":[{\"columnId\":\"c33c8ff5-8a22-4f4f-9b92-5e16485f5d9a\",\"customLabel\":true,\"fieldName\":\"deployment\",\"label\":\"Deployment\",\"meta\":{\"esType\":\"keyword\",\"sourceParams\":{\"indexPattern\":\"billing_cluster_cost_lookup\"},\"type\":\"string\"}},{\"columnId\":\"2ab259ce-29c3-4c5c-817b-b7f036c62be8\",\"customLabel\":true,\"fieldName\":\"agg_blended\",\"label\":\"Normalised cost\",\"meta\":{\"esType\":\"double\",\"sourceParams\":{\"indexPattern\":\"billing_cluster_cost_lookup\"},\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}},{\"columnId\":\"af3de6ff-d14d-4cea-bb56-4ee9012054b6\",\"customLabel\":true,\"fieldName\":\"tier\",\"label\":\"Data tier\",\"meta\":{\"esType\":\"keyword\",\"sourceParams\":{\"indexPattern\":\"billing_cluster_cost_lookup\"},\"type\":\"string\"}}],\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL indexing = CASE (deployment_sum_indexing_time \\u003e 0, tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu), querying = CASE (deployment_sum_query_time \\u003e 0, tier_sum_query_time / deployment_sum_query_time * total_ecu), data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu), store = CASE (deployment_sum_store_size \\u003e 0, tier_sum_store_size / deployment_sum_store_size * total_ecu), storage = CASE (store == 0, data_set, store), total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight, total_weight_cold = conf_storage_weight + conf_query_weight, blended = CASE (tier == \\\"hot/content\\\", ((storage * conf_storage_weight) + (querying * conf_query_weight) + (indexing * conf_indexing_weight)) / total_weight_hot, ((storage * conf_storage_weight) + (querying * conf_query_weight)) / total_weight_cold) * conf_ecu_rate, deployment = CONCAT(deployment_name, \\\" (\\\", LEFT(deployment_id, 6), \\\")\\\")\\n| STATS agg_blended = sum(blended) BY deployment, tier\\n| KEEP deployment, tier, agg_blended\\n| WHERE agg_blended \\u003e 0\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL indexing = CASE (deployment_sum_indexing_time \\u003e 0, tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu), querying = CASE (deployment_sum_query_time \\u003e 0, tier_sum_query_time / deployment_sum_query_time * total_ecu), data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu), store = CASE (deployment_sum_store_size \\u003e 0, tier_sum_store_size / deployment_sum_store_size * total_ecu), storage = CASE (store == 0, data_set, store), total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight, total_weight_cold = conf_storage_weight + conf_query_weight, blended = CASE (tier == \\\"hot/content\\\", ((storage * conf_storage_weight) + (querying * conf_query_weight) + (indexing * conf_indexing_weight)) / total_weight_hot, ((storage * conf_storage_weight) + (querying * conf_query_weight)) / total_weight_cold) * conf_ecu_rate, deployment = CONCAT(deployment_name, \\\" (\\\", LEFT(deployment_id, 6), \\\")\\\")\\n| STATS agg_blended = sum(blended) BY deployment, tier\\n| KEEP deployment, tier, agg_blended\\n| WHERE agg_blended \\u003e 0\"},\"visualization\":{\"columns\":[{\"columnId\":\"c33c8ff5-8a22-4f4f-9b92-5e16485f5d9a\",\"isMetric\":false,\"isTransposed\":false},{\"columnId\":\"2ab259ce-29c3-4c5c-817b-b7f036c62be8\",\"isMetric\":true,\"isTransposed\":false},{\"columnId\":\"af3de6ff-d14d-4cea-bb56-4ee9012054b6\",\"isMetric\":false,\"isTransposed\":true}],\"layerId\":\"ba345378-8ee0-40ec-9fb0-d26588d09107\",\"layerType\":\"data\"}},\"title\":\"Table \",\"visualizationType\":\"lnsDatatable\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL indexing = CASE (deployment_sum_indexing_time \\u003e 0, tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu), querying = CASE (deployment_sum_query_time \\u003e 0, tier_sum_query_time / deployment_sum_query_time * total_ecu), data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu), store = CASE (deployment_sum_store_size \\u003e 0, tier_sum_store_size / deployment_sum_store_size * total_ecu), storage = CASE (store == 0, data_set, store), total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight, total_weight_cold = conf_storage_weight + conf_query_weight, blended = CASE (tier == \\\"hot/content\\\", ((storage * conf_storage_weight) + (querying * conf_query_weight) + (indexing * conf_indexing_weight)) / total_weight_hot, ((storage * conf_storage_weight) + (querying * conf_query_weight)) / total_weight_cold) * conf_ecu_rate, deployment = CONCAT(deployment_name, \\\" (\\\", LEFT(deployment_id, 6), \\\")\\\")\\n| STATS agg_blended = sum(blended) BY deployment, tier\\n| KEEP deployment, tier, agg_blended\\n| WHERE agg_blended \\u003e 0\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":15,\"i\":\"8049f13b-c56d-4a6e-a4e3-5cf4274fef60\",\"w\":24,\"x\":0,\"y\":11},\"panelIndex\":\"8049f13b-c56d-4a6e-a4e3-5cf4274fef60\",\"title\":\"Normalised cost per deployment and tier\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"name\":\"billing_cluster_cost_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"timeField\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\"}],\"layers\":{\"91b4be84-6eb5-4b77-ad13-b85d992f3bbf\":{\"columns\":[{\"columnId\":\"deployment\",\"customLabel\":true,\"fieldName\":\"deployment\",\"label\":\"Deployment\",\"meta\":{\"esType\":\"keyword\",\"type\":\"string\"}},{\"columnId\":\"tier\",\"customLabel\":true,\"fieldName\":\"tier\",\"label\":\"Data tier\",\"meta\":{\"esType\":\"keyword\",\"type\":\"string\"}},{\"columnId\":\"agg_blended\",\"customLabel\":true,\"fieldName\":\"agg_blended\",\"inMetricDimension\":true,\"label\":\"Normalised cost\",\"meta\":{\"esType\":\"double\",\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}}],\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL indexing = CASE (deployment_sum_indexing_time \\u003e 0, tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu), querying = CASE (deployment_sum_query_time \\u003e 0, tier_sum_query_time / deployment_sum_query_time * total_ecu), data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu), store = CASE (deployment_sum_store_size \\u003e 0, tier_sum_store_size / deployment_sum_store_size * total_ecu), storage = CASE (store == 0, data_set, store), total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight, total_weight_cold = conf_storage_weight + conf_query_weight, blended = CASE (tier == \\\"hot/content\\\", ((storage * conf_storage_weight) + (querying * conf_query_weight) + (indexing * conf_indexing_weight)) / total_weight_hot, ((storage * conf_storage_weight) + (querying * conf_query_weight)) / total_weight_cold) * conf_ecu_rate, deployment = CONCAT(deployment_name, \\\" (\\\", LEFT(deployment_id, 6), \\\")\\\")\\n| STATS agg_blended = sum(blended) BY deployment, tier\\n| KEEP deployment, tier, agg_blended\\n| WHERE agg_blended \\u003e 0\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL indexing = CASE (deployment_sum_indexing_time \\u003e 0, tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu), querying = CASE (deployment_sum_query_time \\u003e 0, tier_sum_query_time / deployment_sum_query_time * total_ecu), data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu), store = CASE (deployment_sum_store_size \\u003e 0, tier_sum_store_size / deployment_sum_store_size * total_ecu), storage = CASE (store == 0, data_set, store), total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight, total_weight_cold = conf_storage_weight + conf_query_weight, blended = CASE (tier == \\\"hot/content\\\", ((storage * conf_storage_weight) + (querying * conf_query_weight) + (indexing * conf_indexing_weight)) / total_weight_hot, ((storage * conf_storage_weight) + (querying * conf_query_weight)) / total_weight_cold) * conf_ecu_rate, deployment = CONCAT(deployment_name, \\\" (\\\", LEFT(deployment_id, 6), \\\")\\\")\\n| STATS agg_blended = sum(blended) BY deployment, tier\\n| KEEP deployment, tier, agg_blended\\n| WHERE agg_blended \\u003e 0\"},\"visualization\":{\"layers\":[{\"categoryDisplay\":\"default\",\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"91b4be84-6eb5-4b77-ad13-b85d992f3bbf\",\"layerType\":\"data\",\"legendDisplay\":\"default\",\"metrics\":[\"agg_blended\"],\"nestedLegend\":false,\"numberDisplay\":\"percent\",\"primaryGroups\":[\"deployment\",\"tier\"]}],\"shape\":\"treemap\"}},\"title\":\"Pie\",\"visualizationType\":\"lnsPie\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL indexing = CASE (deployment_sum_indexing_time \\u003e 0, tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu), querying = CASE (deployment_sum_query_time \\u003e 0, tier_sum_query_time / deployment_sum_query_time * total_ecu), data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu), store = CASE (deployment_sum_store_size \\u003e 0, tier_sum_store_size / deployment_sum_store_size * total_ecu), storage = CASE (store == 0, data_set, store), total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight, total_weight_cold = conf_storage_weight + conf_query_weight, blended = CASE (tier == \\\"hot/content\\\", ((storage * conf_storage_weight) + (querying * conf_query_weight) + (indexing * conf_indexing_weight)) / total_weight_hot, ((storage * conf_storage_weight) + (querying * conf_query_weight)) / total_weight_cold) * conf_ecu_rate, deployment = CONCAT(deployment_name, \\\" (\\\", LEFT(deployment_id, 6), \\\")\\\")\\n| STATS agg_blended = sum(blended) BY deployment, tier\\n| KEEP deployment, tier, agg_blended\\n| WHERE agg_blended \\u003e 0\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":15,\"i\":\"normalised-cost-per-deployment-and-tier\",\"w\":24,\"x\":24,\"y\":11},\"panelIndex\":\"normalised-cost-per-deployment-and-tier\",\"title\":\"Normalised cost per deployment and tier\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"name\":\"billing_cluster_cost_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"timeField\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\"}],\"layers\":{\"a21abe71-d247-47eb-8c2f-81f2cf30b387\":{\"columns\":[{\"columnId\":\"agg_blended\",\"customLabel\":false,\"fieldName\":\"agg_blended\",\"inMetricDimension\":true,\"label\":\"Blended\",\"meta\":{\"esType\":\"double\",\"sourceParams\":{\"indexPattern\":\"billing_cluster_cost_lookup\"},\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}},{\"columnId\":\"datastream\",\"customLabel\":true,\"fieldName\":\"datastream\",\"inMetricDimension\":true,\"label\":\"Data stream\",\"meta\":{\"esType\":\"keyword\",\"type\":\"string\"}}],\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL\\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu),\\n    querying = CASE (deployment_sum_query_time \\u003e 0, datastream_sum_query_time / deployment_sum_query_time * total_ecu),\\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store),\\n    total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight,\\n    total_weight_cold = conf_storage_weight + conf_query_weight,\\n    blended = CASE (\\n        tier == \\\"hot/content\\\",\\n        ((storage * conf_storage_weight) + (querying * conf_query_weight) + (indexing * conf_indexing_weight)) / total_weight_hot,\\n        ((storage * conf_storage_weight) + (querying * conf_query_weight)) / total_weight_cold\\n    ) * conf_ecu_rate\\n| STATS\\n    agg_blended = sum(blended)\\n    BY\\n        datastream,\\n        tier\\n| WHERE agg_blended \\u003e 0\\n| SORT agg_blended DESC\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL\\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu),\\n    querying = CASE (deployment_sum_query_time \\u003e 0, datastream_sum_query_time / deployment_sum_query_time * total_ecu),\\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store),\\n    total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight,\\n    total_weight_cold = conf_storage_weight + conf_query_weight,\\n    blended = CASE (\\n        tier == \\\"hot/content\\\",\\n        ((storage * conf_storage_weight) + (querying * conf_query_weight) + (indexing * conf_indexing_weight)) / total_weight_hot,\\n        ((storage * conf_storage_weight) + (querying * conf_query_weight)) / total_weight_cold\\n    ) * conf_ecu_rate\\n| STATS\\n    agg_blended = sum(blended)\\n    BY\\n        datastream,\\n        tier\\n| WHERE agg_blended \\u003e 0\\n| SORT agg_blended DESC\"},\"visualization\":{\"layers\":[{\"categoryDisplay\":\"default\",\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"emptySizeRatio\":0.3,\"layerId\":\"a21abe71-d247-47eb-8c2f-81f2cf30b387\",\"layerType\":\"data\",\"legendDisplay\":\"default\",\"metrics\":[\"agg_blended\"],\"nestedLegend\":false,\"numberDisplay\":\"percent\",\"primaryGroups\":[\"datastream\"]}],\"shape\":\"donut\"}},\"title\":\"agg_blended of datastream\",\"visualizationType\":\"lnsPie\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL\\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu),\\n    querying = CASE (deployment_sum_query_time \\u003e 0, datastream_sum_query_time / deployment_sum_query_time * total_ecu),\\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store),\\n    total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight,\\n    total_weight_cold = conf_storage_weight + conf_query_weight,\\n    blended = CASE (\\n        tier == \\\"hot/content\\\",\\n        ((storage * conf_storage_weight) + (querying * conf_query_weight) + (indexing * conf_indexing_weight)) / total_weight_hot,\\n        ((storage * conf_storage_weight) + (querying * conf_query_weight)) / total_weight_cold\\n    ) * conf_ecu_rate\\n| STATS\\n    agg_blended = sum(blended)\\n    BY\\n        datastream,\\n        tier\\n| WHERE agg_blended \\u003e 0\\n| SORT agg_blended DESC\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":15,\"i\":\"cb467fdf-5cb1-41b5-8235-8b823cbd9310\",\"w\":12,\"x\":36,\"y\":42},\"panelIndex\":\"cb467fdf-5cb1-41b5-8235-8b823cbd9310\",\"title\":\"Blended: Normalised cost totals by data stream\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"name\":\"billing_cluster_cost_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"timeField\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\"}],\"layers\":{\"0f6d5278-b325-49bc-9eb7-2febd2a5de0f\":{\"columns\":[{\"columnId\":\"agg_indexing\",\"customLabel\":true,\"fieldName\":\"agg_indexing\",\"inMetricDimension\":true,\"label\":\"Indexing\",\"meta\":{\"esType\":\"double\",\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}},{\"columnId\":\"datastream\",\"customLabel\":true,\"fieldName\":\"datastream\",\"label\":\"Data stream\",\"meta\":{\"esType\":\"keyword\",\"type\":\"string\"}}],\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu) * conf_ecu_rate\\n| STATS  \\n    agg_indexing = sum(indexing)\\n    BY \\n        datastream\\n| WHERE agg_indexing \\u003e 0\\n| SORT agg_indexing DESC\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu) * conf_ecu_rate\\n| STATS  \\n    agg_indexing = sum(indexing)\\n    BY \\n        datastream\\n| WHERE agg_indexing \\u003e 0\\n| SORT agg_indexing DESC\"},\"visualization\":{\"layers\":[{\"categoryDisplay\":\"default\",\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"emptySizeRatio\":0.3,\"layerId\":\"0f6d5278-b325-49bc-9eb7-2febd2a5de0f\",\"layerType\":\"data\",\"legendDisplay\":\"default\",\"metrics\":[\"agg_indexing\"],\"nestedLegend\":false,\"numberDisplay\":\"percent\",\"primaryGroups\":[\"datastream\"]}],\"shape\":\"donut\"}},\"title\":\"Bar vertical stacked\",\"visualizationType\":\"lnsPie\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu) * conf_ecu_rate\\n| STATS  \\n    agg_indexing = sum(indexing)\\n    BY \\n        datastream\\n| WHERE agg_indexing \\u003e 0\\n| SORT agg_indexing DESC\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":15,\"i\":\"ed65354e-848c-4d93-bcd6-b9c50793e242\",\"w\":12,\"x\":0,\"y\":42},\"panelIndex\":\"ed65354e-848c-4d93-bcd6-b9c50793e242\",\"title\":\"Indexing: Normalised cost totals by data stream\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"name\":\"billing_cluster_cost_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"timeField\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\"}],\"layers\":{\"3b03b6a8-35ae-4554-8bd6-a887d8b36748\":{\"columns\":[{\"columnId\":\"agg_querying\",\"customLabel\":true,\"fieldName\":\"agg_querying\",\"inMetricDimension\":true,\"label\":\"Querying\",\"meta\":{\"esType\":\"double\",\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}},{\"columnId\":\"datastream\",\"customLabel\":true,\"fieldName\":\"datastream\",\"label\":\"Data stream\",\"meta\":{\"esType\":\"keyword\",\"type\":\"string\"}}],\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    querying = CASE (deployment_sum_query_time \\u003e 0, datastream_sum_query_time / deployment_sum_query_time * total_ecu) * conf_ecu_rate\\n| STATS  \\n    agg_querying = sum(querying)\\n    BY \\n        datastream\\n| WHERE agg_querying \\u003e 0\\n| SORT agg_querying DESC\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    querying = CASE (deployment_sum_query_time \\u003e 0, datastream_sum_query_time / deployment_sum_query_time * total_ecu) * conf_ecu_rate\\n| STATS  \\n    agg_querying = sum(querying)\\n    BY \\n        datastream\\n| WHERE agg_querying \\u003e 0\\n| SORT agg_querying DESC\"},\"visualization\":{\"layers\":[{\"categoryDisplay\":\"default\",\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"emptySizeRatio\":0.3,\"layerId\":\"3b03b6a8-35ae-4554-8bd6-a887d8b36748\",\"layerType\":\"data\",\"legendDisplay\":\"default\",\"metrics\":[\"agg_querying\"],\"nestedLegend\":false,\"numberDisplay\":\"percent\",\"primaryGroups\":[\"datastream\"]}],\"shape\":\"donut\"}},\"title\":\"Bar vertical stacked\",\"visualizationType\":\"lnsPie\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    querying = CASE (deployment_sum_query_time \\u003e 0, datastream_sum_query_time / deployment_sum_query_time * total_ecu) * conf_ecu_rate\\n| STATS  \\n    agg_querying = sum(querying)\\n    BY \\n        datastream\\n| WHERE agg_querying \\u003e 0\\n| SORT agg_querying DESC\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":15,\"i\":\"4a2ecf27-21c7-4fff-986b-05b25e0ce8f8\",\"w\":12,\"x\":12,\"y\":42},\"panelIndex\":\"4a2ecf27-21c7-4fff-986b-05b25e0ce8f8\",\"title\":\"Querying: Normalised cost totals by data stream\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"name\":\"billing_cluster_cost_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"timeField\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\"}],\"layers\":{\"2813628b-2a20-484c-9a19-11955d86e9ff\":{\"columns\":[{\"columnId\":\"agg_storage\",\"customLabel\":true,\"fieldName\":\"agg_storage\",\"inMetricDimension\":true,\"label\":\"Storage\",\"meta\":{\"esType\":\"double\",\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}},{\"columnId\":\"datastream\",\"customLabel\":true,\"fieldName\":\"datastream\",\"label\":\"Data stream\",\"meta\":{\"esType\":\"keyword\",\"type\":\"string\"}}],\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate\\n| STATS  \\n    agg_storage = sum(storage)\\n    BY \\n        datastream\\n| WHERE agg_storage \\u003e 0\\n| SORT agg_storage DESC\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate\\n| STATS  \\n    agg_storage = sum(storage)\\n    BY \\n        datastream\\n| WHERE agg_storage \\u003e 0\\n| SORT agg_storage DESC\"},\"visualization\":{\"layers\":[{\"categoryDisplay\":\"default\",\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"emptySizeRatio\":0.3,\"layerId\":\"2813628b-2a20-484c-9a19-11955d86e9ff\",\"layerType\":\"data\",\"legendDisplay\":\"default\",\"metrics\":[\"agg_storage\"],\"nestedLegend\":false,\"numberDisplay\":\"percent\",\"primaryGroups\":[\"datastream\"]}],\"shape\":\"donut\"}},\"title\":\"Bar vertical stacked\",\"visualizationType\":\"lnsPie\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate\\n| STATS  \\n    agg_storage = sum(storage)\\n    BY \\n        datastream\\n| WHERE agg_storage \\u003e 0\\n| SORT agg_storage DESC\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":15,\"i\":\"3269b898-7190-40b6-ad0e-d29fcf98e762\",\"w\":12,\"x\":24,\"y\":42},\"panelIndex\":\"3269b898-7190-40b6-ad0e-d29fcf98e762\",\"title\":\"Storage: Normalised cost totals by data stream\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldAttrs\":null,\"fieldFormats\":{},\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"name\":\"billing_cluster_cost_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"timeField\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\"}],\"initialContext\":null,\"layers\":{\"e7e008d5-4100-482b-af1b-01db94a4274c\":{\"columns\":[{\"columnId\":\"3d98e1e4-e4df-47a2-9c7f-1efd2ecf0098\",\"customLabel\":true,\"fieldName\":\"datastream\",\"label\":\"Data stream\",\"meta\":{\"esType\":\"keyword\",\"sourceParams\":{\"indexPattern\":\"billing_cluster_cost_lookup\"},\"type\":\"string\"},\"variable\":null},{\"columnId\":\"93aa5ff0-235f-4d8f-b926-748804244c15\",\"customLabel\":true,\"fieldName\":\"tier\",\"label\":\"Data tier\",\"meta\":{\"esType\":\"keyword\",\"sourceParams\":{\"indexPattern\":\"billing_cluster_cost_lookup\"},\"type\":\"string\"},\"variable\":null},{\"columnId\":\"4db503d0-ae68-4f07-9b2f-42a2ef99af1f\",\"customLabel\":true,\"fieldName\":\"ecu_indexing\",\"label\":\"Indexing\",\"meta\":{\"esType\":\"double\",\"sourceParams\":{\"indexPattern\":\"billing_cluster_cost_lookup\"},\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}},\"variable\":null},{\"columnId\":\"18a2dacc-eb7c-450d-8eee-8cc9a09a6362\",\"customLabel\":true,\"fieldName\":\"ecu_querying\",\"label\":\"Querying\",\"meta\":{\"esType\":\"double\",\"sourceParams\":{\"indexPattern\":\"billing_cluster_cost_lookup\"},\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}},\"variable\":null},{\"columnId\":\"6cd474f2-dda5-4131-b0d9-9f99b0f64232\",\"customLabel\":true,\"fieldName\":\"ecu_storage\",\"label\":\"Storage\",\"meta\":{\"esType\":\"double\",\"sourceParams\":{\"indexPattern\":\"billing_cluster_cost_lookup\"},\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}},\"variable\":null},{\"columnId\":\"59ed77e7-b251-475a-8f30-b905e253f944\",\"customLabel\":true,\"fieldName\":\"ecu_blended\",\"label\":\"Blended\",\"meta\":{\"esType\":\"double\",\"sourceParams\":{\"indexPattern\":\"billing_cluster_cost_lookup\"},\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}},\"variable\":null}],\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_tier_and_datastream_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| EVAL\\n    indexing = CASE(deployment_sum_indexing_time \\u003e 0, tier_and_datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu) * conf_ecu_rate,\\n    querying = CASE(deployment_sum_query_time \\u003e 0, tier_and_datastream_sum_query_time / deployment_sum_query_time * total_ecu) * conf_ecu_rate,\\n    data_set = CASE(deployment_sum_data_set_store_size \\u003e 0, tier_and_datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE(deployment_sum_store_size \\u003e 0, tier_and_datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE(store == 0, data_set, store) * conf_ecu_rate,\\n    total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight,\\n    total_weight_cold = conf_storage_weight + conf_query_weight,\\n    blended = CASE(\\n        tier == \\\"hot/content\\\",\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight) + (indexing / conf_ecu_rate * conf_indexing_weight)) / total_weight_hot,\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight)) / total_weight_cold\\n    ) * conf_ecu_rate\\n| STATS\\n    ecu_indexing = sum(indexing),\\n    ecu_querying = sum(querying),\\n    ecu_storage = sum(storage),\\n    ecu_blended = sum(blended)\\n    BY datastream, tier\\n| SORT ecu_blended DESC\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_tier_and_datastream_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| EVAL\\n    indexing = CASE(deployment_sum_indexing_time \\u003e 0, tier_and_datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu) * conf_ecu_rate,\\n    querying = CASE(deployment_sum_query_time \\u003e 0, tier_and_datastream_sum_query_time / deployment_sum_query_time * total_ecu) * conf_ecu_rate,\\n    data_set = CASE(deployment_sum_data_set_store_size \\u003e 0, tier_and_datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE(deployment_sum_store_size \\u003e 0, tier_and_datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE(store == 0, data_set, store) * conf_ecu_rate,\\n    total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight,\\n    total_weight_cold = conf_storage_weight + conf_query_weight,\\n    blended = CASE(\\n        tier == \\\"hot/content\\\",\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight) + (indexing / conf_ecu_rate * conf_indexing_weight)) / total_weight_hot,\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight)) / total_weight_cold\\n    ) * conf_ecu_rate\\n| STATS\\n    ecu_indexing = sum(indexing),\\n    ecu_querying = sum(querying),\\n    ecu_storage = sum(storage),\\n    ecu_blended = sum(blended)\\n    BY datastream, tier\\n| SORT ecu_blended DESC\"},\"visualization\":{\"columns\":[{\"columnId\":\"3d98e1e4-e4df-47a2-9c7f-1efd2ecf0098\",\"isMetric\":false,\"isTransposed\":false,\"width\":536.6666666666667},{\"columnId\":\"93aa5ff0-235f-4d8f-b926-748804244c15\",\"isMetric\":false,\"isTransposed\":false},{\"columnId\":\"4db503d0-ae68-4f07-9b2f-42a2ef99af1f\",\"isMetric\":true,\"isTransposed\":false},{\"columnId\":\"18a2dacc-eb7c-450d-8eee-8cc9a09a6362\",\"isMetric\":true,\"isTransposed\":false},{\"columnId\":\"6cd474f2-dda5-4131-b0d9-9f99b0f64232\",\"isMetric\":true,\"isTransposed\":false},{\"columnId\":\"59ed77e7-b251-475a-8f30-b905e253f944\",\"isMetric\":true,\"isTransposed\":false}],\"layerId\":\"e7e008d5-4100-482b-af1b-01db94a4274c\",\"layerType\":\"data\",\"sorting\":null}},\"title\":\"ecu_indexing \\u0026 ecu_querying \\u0026 ecu_storage \\u0026 ecu_blended of datastream\",\"visualizationType\":\"lnsDatatable\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_tier_and_datastream_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| EVAL\\n    indexing = CASE(deployment_sum_indexing_time \\u003e 0, tier_and_datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu) * conf_ecu_rate,\\n    querying = CASE(deployment_sum_query_time \\u003e 0, tier_and_datastream_sum_query_time / deployment_sum_query_time * total_ecu) * conf_ecu_rate,\\n    data_set = CASE(deployment_sum_data_set_store_size \\u003e 0, tier_and_datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE(deployment_sum_store_size \\u003e 0, tier_and_datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE(store == 0, data_set, store) * conf_ecu_rate,\\n    total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight,\\n    total_weight_cold = conf_storage_weight + conf_query_weight,\\n    blended = CASE(\\n        tier == \\\"hot/content\\\",\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight) + (indexing / conf_ecu_rate * conf_indexing_weight)) / total_weight_hot,\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight)) / total_weight_cold\\n    ) * conf_ecu_rate\\n| STATS\\n    ecu_indexing = sum(indexing),\\n    ecu_querying = sum(querying),\\n    ecu_storage = sum(storage),\\n    ecu_blended = sum(blended)\\n    BY datastream, tier\\n| SORT ecu_blended DESC\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":15,\"i\":\"964a716b-bb61-4cc0-ba77-c1e73e2da836\",\"w\":48,\"x\":0,\"y\":57},\"panelIndex\":\"964a716b-bb61-4cc0-ba77-c1e73e2da836\",\"title\":\"Normalised cost per data stream per tier\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"name\":\"billing_cluster_cost_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"timeField\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\"}],\"layers\":{\"52906f25-a114-4d45-b425-f0ff154f4ac1\":{\"columns\":[{\"columnId\":\"agg_blended\",\"customLabel\":true,\"fieldName\":\"agg_blended\",\"inMetricDimension\":true,\"label\":\"Normalised cost\",\"meta\":{\"esType\":\"double\",\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}},{\"columnId\":\"@timestamp\",\"customLabel\":true,\"fieldName\":\"@timestamp\",\"label\":\"Date\",\"meta\":{\"esType\":\"date\",\"type\":\"date\"}},{\"columnId\":\"datastream\",\"customLabel\":false,\"fieldName\":\"datastream\",\"label\":\"datastream\",\"meta\":{\"esType\":\"keyword\",\"type\":\"string\"}}],\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL\\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu),\\n    querying = CASE (deployment_sum_query_time \\u003e 0, datastream_sum_query_time / deployment_sum_query_time * total_ecu),\\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store),\\n    total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight,\\n    blended = ((storage * conf_storage_weight) + (querying * conf_query_weight) + (indexing * conf_indexing_weight)) / total_weight_hot * conf_ecu_rate\\n| STATS\\n    agg_blended = sum(blended)\\n    BY\\n        @timestamp,\\n        datastream\\n| WHERE agg_blended \\u003e 0\\n| SORT agg_blended DESC\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL\\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu),\\n    querying = CASE (deployment_sum_query_time \\u003e 0, datastream_sum_query_time / deployment_sum_query_time * total_ecu),\\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store),\\n    total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight,\\n    blended = ((storage * conf_storage_weight) + (querying * conf_query_weight) + (indexing * conf_indexing_weight)) / total_weight_hot * conf_ecu_rate\\n| STATS\\n    agg_blended = sum(blended)\\n    BY\\n        @timestamp,\\n        datastream\\n| WHERE agg_blended \\u003e 0\\n| SORT agg_blended DESC\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"fittingFunction\":\"Linear\",\"gridlinesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"layers\":[{\"accessors\":[\"agg_blended\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"52906f25-a114-4d45-b425-f0ff154f4ac1\",\"layerType\":\"data\",\"seriesType\":\"bar_stacked\",\"splitAccessor\":\"datastream\",\"xAccessor\":\"@timestamp\"}],\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"valueLabels\":\"hide\"}},\"title\":\"agg_blended over @timestamp\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL\\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu),\\n    querying = CASE (deployment_sum_query_time \\u003e 0, datastream_sum_query_time / deployment_sum_query_time * total_ecu),\\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store),\\n    total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight,\\n    blended = ((storage * conf_storage_weight) + (querying * conf_query_weight) + (indexing * conf_indexing_weight)) / total_weight_hot * conf_ecu_rate\\n| STATS\\n    agg_blended = sum(blended)\\n    BY\\n        @timestamp,\\n        datastream\\n| WHERE agg_blended \\u003e 0\\n| SORT agg_blended DESC\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":14,\"i\":\"4c97109a-2048-470f-ae18-8c424ba2c12e\",\"w\":16,\"x\":0,\"y\":130},\"panelIndex\":\"4c97109a-2048-470f-ae18-8c424ba2c12e\",\"title\":\"Blended value: Normalised cost per data stream per day\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"name\":\"billing_cluster_cost_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"timeField\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\"}],\"layers\":{\"b72a0ab5-dbf5-4fd2-bdef-c855fe354bee\":{\"columns\":[{\"columnId\":\"agg_storage\",\"customLabel\":true,\"fieldName\":\"agg_storage\",\"inMetricDimension\":true,\"label\":\"Normalised cost\",\"meta\":{\"esType\":\"double\",\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}},{\"columnId\":\"@timestamp\",\"customLabel\":true,\"fieldName\":\"@timestamp\",\"label\":\"Date\",\"meta\":{\"esType\":\"date\",\"type\":\"date\"}},{\"columnId\":\"datastream\",\"customLabel\":true,\"fieldName\":\"datastream\",\"label\":\"Data stream\",\"meta\":{\"esType\":\"keyword\",\"type\":\"string\"}}],\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate\\n| STATS  \\n    agg_storage = sum(storage)\\n    BY \\n        @timestamp, \\n        datastream\\n| WHERE agg_storage \\u003e 0\\n| SORT agg_storage DESC\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate\\n| STATS  \\n    agg_storage = sum(storage)\\n    BY \\n        @timestamp, \\n        datastream\\n| WHERE agg_storage \\u003e 0\\n| SORT agg_storage DESC\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"fittingFunction\":\"Linear\",\"gridlinesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"layers\":[{\"accessors\":[\"agg_storage\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"b72a0ab5-dbf5-4fd2-bdef-c855fe354bee\",\"layerType\":\"data\",\"seriesType\":\"bar_stacked\",\"splitAccessor\":\"datastream\",\"xAccessor\":\"@timestamp\"}],\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"valueLabels\":\"hide\"}},\"title\":\"agg_storage over @timestamp\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate\\n| STATS  \\n    agg_storage = sum(storage)\\n    BY \\n        @timestamp, \\n        datastream\\n| WHERE agg_storage \\u003e 0\\n| SORT agg_storage DESC\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":15,\"i\":\"6430d172-9b7f-45a0-a836-c46af0276b19\",\"w\":16,\"x\":0,\"y\":112},\"panelIndex\":\"6430d172-9b7f-45a0-a836-c46af0276b19\",\"title\":\"Storage: Nomalised cost per data stream per day\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"name\":\"billing_cluster_cost_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"timeField\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\"}],\"layers\":{\"91bcc41e-3a2c-434d-8df7-29c01340e712\":{\"columns\":[{\"columnId\":\"agg_querying\",\"customLabel\":true,\"fieldName\":\"agg_querying\",\"inMetricDimension\":true,\"label\":\"% Normalised cost\",\"meta\":{\"esType\":\"double\",\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}},{\"columnId\":\"@timestamp\",\"customLabel\":true,\"fieldName\":\"@timestamp\",\"label\":\"Date\",\"meta\":{\"esType\":\"date\",\"type\":\"date\"}},{\"columnId\":\"datastream\",\"customLabel\":true,\"fieldName\":\"datastream\",\"label\":\"Data stream\",\"meta\":{\"esType\":\"keyword\",\"type\":\"string\"}}],\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    querying = CASE (deployment_sum_query_time \\u003e 0, datastream_sum_query_time / deployment_sum_query_time * total_ecu) * conf_ecu_rate\\n| STATS \\n    agg_querying = sum(querying)\\n    BY \\n        @timestamp, \\n        datastream\\n| WHERE agg_querying \\u003e 0\\n| SORT agg_querying DESC\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    querying = CASE (deployment_sum_query_time \\u003e 0, datastream_sum_query_time / deployment_sum_query_time * total_ecu) * conf_ecu_rate\\n| STATS \\n    agg_querying = sum(querying)\\n    BY \\n        @timestamp, \\n        datastream\\n| WHERE agg_querying \\u003e 0\\n| SORT agg_querying DESC\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"fittingFunction\":\"Linear\",\"gridlinesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"layers\":[{\"accessors\":[\"agg_querying\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"91bcc41e-3a2c-434d-8df7-29c01340e712\",\"layerType\":\"data\",\"seriesType\":\"bar_percentage_stacked\",\"splitAccessor\":\"datastream\",\"xAccessor\":\"@timestamp\"}],\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"valueLabels\":\"hide\"}},\"title\":\"agg_querying over @timestamp\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    querying = CASE (deployment_sum_query_time \\u003e 0, datastream_sum_query_time / deployment_sum_query_time * total_ecu) * conf_ecu_rate\\n| STATS \\n    agg_querying = sum(querying)\\n    BY \\n        @timestamp, \\n        datastream\\n| WHERE agg_querying \\u003e 0\\n| SORT agg_querying DESC\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":14,\"i\":\"b3e62c24-abb9-431e-a228-cbc5e7b8b02a\",\"w\":16,\"x\":32,\"y\":95},\"panelIndex\":\"b3e62c24-abb9-431e-a228-cbc5e7b8b02a\",\"title\":\"Querying: % Normalised cost per data stream per day\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"name\":\"billing_cluster_cost_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"timeField\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\"}],\"layers\":{\"b72a0ab5-dbf5-4fd2-bdef-c855fe354bee\":{\"columns\":[{\"columnId\":\"agg_storage\",\"customLabel\":true,\"fieldName\":\"agg_storage\",\"inMetricDimension\":true,\"label\":\"% Normalised cost\",\"meta\":{\"esType\":\"double\",\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}},{\"columnId\":\"@timestamp\",\"customLabel\":true,\"fieldName\":\"@timestamp\",\"label\":\"Date\",\"meta\":{\"esType\":\"date\",\"type\":\"date\"}},{\"columnId\":\"datastream\",\"customLabel\":true,\"fieldName\":\"datastream\",\"label\":\"Data stream\",\"meta\":{\"esType\":\"keyword\",\"type\":\"string\"}}],\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate\\n| STATS  \\n    agg_storage = sum(storage)\\n    BY \\n        @timestamp, \\n        datastream\\n| WHERE agg_storage \\u003e 0\\n| SORT agg_storage DESC\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate\\n| STATS  \\n    agg_storage = sum(storage)\\n    BY \\n        @timestamp, \\n        datastream\\n| WHERE agg_storage \\u003e 0\\n| SORT agg_storage DESC\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"fittingFunction\":\"Linear\",\"gridlinesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"layers\":[{\"accessors\":[\"agg_storage\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"b72a0ab5-dbf5-4fd2-bdef-c855fe354bee\",\"layerType\":\"data\",\"seriesType\":\"bar_percentage_stacked\",\"splitAccessor\":\"datastream\",\"xAccessor\":\"@timestamp\"}],\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"valueLabels\":\"hide\"}},\"title\":\"agg_storage over @timestamp\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate\\n| STATS  \\n    agg_storage = sum(storage)\\n    BY \\n        @timestamp, \\n        datastream\\n| WHERE agg_storage \\u003e 0\\n| SORT agg_storage DESC\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":15,\"i\":\"a672f0fa-cdf6-4e27-a2c8-f753eef30a06\",\"w\":16,\"x\":32,\"y\":112},\"panelIndex\":\"a672f0fa-cdf6-4e27-a2c8-f753eef30a06\",\"title\":\"Storage: % Normalised cost per data stream per day\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"name\":\"billing_cluster_cost_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"timeField\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\"}],\"layers\":{\"8c2f087d-e623-4f6f-b232-97ab4284e4db\":{\"columns\":[{\"columnId\":\"@timestamp\",\"customLabel\":true,\"fieldName\":\"@timestamp\",\"inMetricDimension\":true,\"label\":\"Date\",\"meta\":{\"esType\":\"date\",\"type\":\"date\"}},{\"columnId\":\"30c47aa5-b389-479c-a2b6-d91c77a952b9\",\"customLabel\":true,\"fieldName\":\"agg_blended\",\"label\":\"% Normalised cost\",\"meta\":{\"esType\":\"double\",\"sourceParams\":{\"indexPattern\":\"billing_cluster_cost_lookup\"},\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}},{\"columnId\":\"57d5389c-1311-460d-afe2-cecc4a8d16f4\",\"customLabel\":true,\"fieldName\":\"datastream\",\"label\":\"Data stream\",\"meta\":{\"esType\":\"keyword\",\"sourceParams\":{\"indexPattern\":\"billing_cluster_cost_lookup\"},\"type\":\"string\"}}],\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL\\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu) * conf_ecu_rate,\\n    querying = CASE (deployment_sum_query_time \\u003e 0, datastream_sum_query_time / deployment_sum_query_time * total_ecu) * conf_ecu_rate,\\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate,\\n    total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight,\\n    total_weight_cold = conf_storage_weight + conf_query_weight,\\n    blended = CASE (\\n        tier == \\\"hot/content\\\",\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight) + (indexing / conf_ecu_rate * conf_indexing_weight)) / total_weight_hot,\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight)) / total_weight_cold\\n    ) * conf_ecu_rate\\n| STATS\\n    agg_blended = sum(blended)\\n    BY\\n        @timestamp,\\n        datastream,\\n        tier\\n| WHERE agg_blended \\u003e 0\\n| SORT agg_blended DESC\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL\\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu) * conf_ecu_rate,\\n    querying = CASE (deployment_sum_query_time \\u003e 0, datastream_sum_query_time / deployment_sum_query_time * total_ecu) * conf_ecu_rate,\\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate,\\n    total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight,\\n    total_weight_cold = conf_storage_weight + conf_query_weight,\\n    blended = CASE (\\n        tier == \\\"hot/content\\\",\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight) + (indexing / conf_ecu_rate * conf_indexing_weight)) / total_weight_hot,\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight)) / total_weight_cold\\n    ) * conf_ecu_rate\\n| STATS\\n    agg_blended = sum(blended)\\n    BY\\n        @timestamp,\\n        datastream,\\n        tier\\n| WHERE agg_blended \\u003e 0\\n| SORT agg_blended DESC\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"fittingFunction\":\"Linear\",\"gridlinesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"layers\":[{\"accessors\":[\"30c47aa5-b389-479c-a2b6-d91c77a952b9\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"8c2f087d-e623-4f6f-b232-97ab4284e4db\",\"layerType\":\"data\",\"seriesType\":\"bar_percentage_stacked\",\"splitAccessor\":\"57d5389c-1311-460d-afe2-cecc4a8d16f4\",\"xAccessor\":\"@timestamp\"}],\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"valueLabels\":\"hide\"}},\"title\":\"agg_indexing \\u0026 agg_querying \\u0026 agg_storage \\u0026 agg_blended over @timestamp\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL\\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu) * conf_ecu_rate,\\n    querying = CASE (deployment_sum_query_time \\u003e 0, datastream_sum_query_time / deployment_sum_query_time * total_ecu) * conf_ecu_rate,\\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, datastream_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, datastream_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate,\\n    total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight,\\n    total_weight_cold = conf_storage_weight + conf_query_weight,\\n    blended = CASE (\\n        tier == \\\"hot/content\\\",\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight) + (indexing / conf_ecu_rate * conf_indexing_weight)) / total_weight_hot,\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight)) / total_weight_cold\\n    ) * conf_ecu_rate\\n| STATS\\n    agg_blended = sum(blended)\\n    BY\\n        @timestamp,\\n        datastream,\\n        tier\\n| WHERE agg_blended \\u003e 0\\n| SORT agg_blended DESC\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":14,\"i\":\"4dbbad0a-7ceb-443b-912b-0c1ae9fb3a6a\",\"w\":16,\"x\":32,\"y\":130},\"panelIndex\":\"4dbbad0a-7ceb-443b-912b-0c1ae9fb3a6a\",\"title\":\"Blended value: % Normalised cost per data stream per day\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"name\":\"billing_cluster_cost_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"timeField\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\"}],\"layers\":{\"43f9cfe6-d828-4773-ab65-129f92cf7f4d\":{\"columns\":[{\"columnId\":\"@timestamp\",\"customLabel\":true,\"fieldName\":\"@timestamp\",\"inMetricDimension\":true,\"label\":\"Date\",\"meta\":{\"esType\":\"date\",\"type\":\"date\"}},{\"columnId\":\"50a91b89-2e68-4a69-90a0-d2ab79115b96\",\"customLabel\":true,\"fieldName\":\"tier\",\"label\":\"Data tier\",\"meta\":{\"esType\":\"keyword\",\"sourceParams\":{\"indexPattern\":\"billing_cluster_cost_lookup\"},\"type\":\"string\"}},{\"columnId\":\"1501af72-2509-4ae0-88a0-c1481e438377\",\"customLabel\":true,\"fieldName\":\"agg_blended\",\"label\":\"Normalised cost\",\"meta\":{\"esType\":\"double\",\"sourceParams\":{\"indexPattern\":\"billing_cluster_cost_lookup\"},\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}}],\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL\\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu) * conf_ecu_rate,\\n    querying = CASE (deployment_sum_query_time \\u003e 0, tier_sum_query_time / deployment_sum_query_time * total_ecu) * conf_ecu_rate,\\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, tier_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate,\\n    total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight,\\n    total_weight_cold = conf_storage_weight + conf_query_weight,\\n    blended = CASE (\\n        tier == \\\"hot/content\\\",\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight) + (indexing / conf_ecu_rate * conf_indexing_weight)) / total_weight_hot,\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight)) / total_weight_cold\\n    ) * conf_ecu_rate\\n| STATS\\n    agg_blended = sum(blended)\\n    BY\\n        @timestamp,\\n        tier\\n| WHERE agg_blended \\u003e 0\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL\\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu) * conf_ecu_rate,\\n    querying = CASE (deployment_sum_query_time \\u003e 0, tier_sum_query_time / deployment_sum_query_time * total_ecu) * conf_ecu_rate,\\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, tier_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate,\\n    total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight,\\n    total_weight_cold = conf_storage_weight + conf_query_weight,\\n    blended = CASE (\\n        tier == \\\"hot/content\\\",\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight) + (indexing / conf_ecu_rate * conf_indexing_weight)) / total_weight_hot,\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight)) / total_weight_cold\\n    ) * conf_ecu_rate\\n| STATS\\n    agg_blended = sum(blended)\\n    BY\\n        @timestamp,\\n        tier\\n| WHERE agg_blended \\u003e 0\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"fittingFunction\":\"Linear\",\"gridlinesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"layers\":[{\"accessors\":[\"1501af72-2509-4ae0-88a0-c1481e438377\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"43f9cfe6-d828-4773-ab65-129f92cf7f4d\",\"layerType\":\"data\",\"seriesType\":\"bar_stacked\",\"splitAccessor\":\"50a91b89-2e68-4a69-90a0-d2ab79115b96\",\"xAccessor\":\"@timestamp\"}],\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"valueLabels\":\"hide\"}},\"title\":\"agg_indexing \\u0026 agg_querying \\u0026 agg_storage \\u0026 agg_blended over @timestamp\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL\\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu) * conf_ecu_rate,\\n    querying = CASE (deployment_sum_query_time \\u003e 0, tier_sum_query_time / deployment_sum_query_time * total_ecu) * conf_ecu_rate,\\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, tier_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate,\\n    total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight,\\n    total_weight_cold = conf_storage_weight + conf_query_weight,\\n    blended = CASE (\\n        tier == \\\"hot/content\\\",\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight) + (indexing / conf_ecu_rate * conf_indexing_weight)) / total_weight_hot,\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight)) / total_weight_cold\\n    ) * conf_ecu_rate\\n| STATS\\n    agg_blended = sum(blended)\\n    BY\\n        @timestamp,\\n        tier\\n| WHERE agg_blended \\u003e 0\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":14,\"i\":\"5732f95c-3cc0-46c8-a8ab-14f8c6937f9f\",\"w\":16,\"x\":16,\"y\":130},\"panelIndex\":\"5732f95c-3cc0-46c8-a8ab-14f8c6937f9f\",\"title\":\"Blended value: Normalised cost per tier per day\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"name\":\"billing_cluster_cost_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"timeField\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\"}],\"layers\":{\"0ee24895-1496-4b23-96ec-ec09a8f49332\":{\"columns\":[{\"columnId\":\"agg_indexing\",\"customLabel\":true,\"fieldName\":\"agg_indexing\",\"inMetricDimension\":true,\"label\":\"Normalised cost\",\"meta\":{\"esType\":\"double\",\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}},{\"columnId\":\"@timestamp\",\"customLabel\":true,\"fieldName\":\"@timestamp\",\"label\":\"Date\",\"meta\":{\"esType\":\"date\",\"type\":\"date\"}},{\"columnId\":\"datastream\",\"customLabel\":true,\"fieldName\":\"datastream\",\"label\":\"Data stream\",\"meta\":{\"esType\":\"keyword\",\"type\":\"string\"}}],\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu) * conf_ecu_rate\\n| STATS  \\n    agg_indexing = sum(indexing)\\n    BY \\n        @timestamp, \\n        datastream\\n| WHERE agg_indexing \\u003e 0\\n| SORT agg_indexing DESC\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu) * conf_ecu_rate\\n| STATS  \\n    agg_indexing = sum(indexing)\\n    BY \\n        @timestamp, \\n        datastream\\n| WHERE agg_indexing \\u003e 0\\n| SORT agg_indexing DESC\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"fittingFunction\":\"Linear\",\"gridlinesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"layers\":[{\"accessors\":[\"agg_indexing\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"0ee24895-1496-4b23-96ec-ec09a8f49332\",\"layerType\":\"data\",\"seriesType\":\"bar_stacked\",\"splitAccessor\":\"datastream\",\"xAccessor\":\"@timestamp\"}],\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"valueLabels\":\"hide\"}},\"title\":\"agg_indexing over @timestamp\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_datastream_contribution_lookup ON composite_key\\n| EVAL \\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, datastream_sum_indexing_time / deployment_sum_indexing_time * total_ecu) * conf_ecu_rate\\n| STATS  \\n    agg_indexing = sum(indexing)\\n    BY \\n        @timestamp, \\n        datastream\\n| WHERE agg_indexing \\u003e 0\\n| SORT agg_indexing DESC\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":14,\"i\":\"dafb7c36-3a1d-4cbb-9944-51beedf535f6\",\"w\":16,\"x\":0,\"y\":78},\"panelIndex\":\"dafb7c36-3a1d-4cbb-9944-51beedf535f6\",\"title\":\"Indexing: Normalised per data stream per day\",\"type\":\"lens\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"name\":\"billing_cluster_cost_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"timeField\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\"}],\"layers\":{\"93fd5f12-463f-4e8e-a9b8-0ac77d0522a9\":{\"columns\":[{\"columnId\":\"agg_storage\",\"customLabel\":true,\"fieldName\":\"agg_storage\",\"inMetricDimension\":true,\"label\":\"Normalised cost\",\"meta\":{\"esType\":\"double\",\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}},{\"columnId\":\"@timestamp\",\"customLabel\":true,\"fieldName\":\"@timestamp\",\"label\":\"Date\",\"meta\":{\"esType\":\"date\",\"type\":\"date\"}},{\"columnId\":\"tier\",\"customLabel\":true,\"fieldName\":\"tier\",\"label\":\"Data tier\",\"meta\":{\"esType\":\"keyword\",\"type\":\"string\"}}],\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL \\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, tier_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate\\n| STATS  \\n    agg_storage = sum(storage)\\n    BY \\n        @timestamp,\\n        tier\\n| WHERE agg_storage \\u003e 0\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL \\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, tier_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate\\n| STATS  \\n    agg_storage = sum(storage)\\n    BY \\n        @timestamp,\\n        tier\\n| WHERE agg_storage \\u003e 0\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"fittingFunction\":\"Linear\",\"gridlinesVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"labelsOrientation\":{\"x\":0,\"yLeft\":0,\"yRight\":0},\"layers\":[{\"accessors\":[\"agg_storage\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"93fd5f12-463f-4e8e-a9b8-0ac77d0522a9\",\"layerType\":\"data\",\"seriesType\":\"bar_stacked\",\"splitAccessor\":\"tier\",\"xAccessor\":\"@timestamp\"}],\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":true,\"yLeft\":true,\"yRight\":true},\"valueLabels\":\"hide\"}},\"title\":\"agg_storage over @timestamp\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL \\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, tier_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate\\n| STATS  \\n    agg_storage = sum(storage)\\n    BY \\n        @timestamp,\\n        tier\\n| WHERE agg_storage \\u003e 0\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":15,\"i\":\"ba7efeab-de6c-4301-8e97-7adb98dae58b\",\"w\":16,\"x\":16,\"y\":112},\"panelIndex\":\"ba7efeab-de6c-4301-8e97-7adb98dae58b\",\"title\":\"Storage: Normalised cost per tier per day\",\"type\":\"lens\"},{\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"## Indexing details\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}}},\"gridData\":{\"h\":3,\"i\":\"9cd4730b-d3f5-438e-a816-4d5aebf1eae6\",\"w\":48,\"x\":0,\"y\":75},\"panelIndex\":\"9cd4730b-d3f5-438e-a816-4d5aebf1eae6\",\"title\":\"\",\"type\":\"visualization\"},{\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"## Querying details\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}}},\"gridData\":{\"h\":3,\"i\":\"8de95af1-8e9a-424a-baaf-8cfcb2577f59\",\"w\":48,\"x\":0,\"y\":92},\"panelIndex\":\"8de95af1-8e9a-424a-baaf-8cfcb2577f59\",\"title\":\"\",\"type\":\"visualization\"},{\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"## Storage details\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}}},\"gridData\":{\"h\":3,\"i\":\"4d3f1bfb-ea89-4978-ab6f-9033a507785f\",\"w\":48,\"x\":0,\"y\":109},\"panelIndex\":\"4d3f1bfb-ea89-4978-ab6f-9033a507785f\",\"title\":\"\",\"type\":\"visualization\"},{\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"## Blended details\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}}},\"gridData\":{\"h\":3,\"i\":\"a2cb12f7-9b9e-4bf7-864e-9101107e0c3e\",\"w\":48,\"x\":0,\"y\":127},\"panelIndex\":\"a2cb12f7-9b9e-4bf7-864e-9101107e0c3e\",\"title\":\"\",\"type\":\"visualization\"},{\"embeddableConfig\":{\"attributes\":{\"references\":[],\"state\":{\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"allowHidden\":false,\"allowNoIndex\":false,\"fieldFormats\":{},\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"name\":\"billing_cluster_cost_lookup\",\"runtimeFieldMap\":{},\"sourceFilters\":[],\"timeFieldName\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\",\"type\":\"esql\"}},\"datasourceStates\":{\"textBased\":{\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"timeField\":\"@timestamp\",\"title\":\"billing_cluster_cost_lookup\"}],\"layers\":{\"9d199172-f9fa-4fc4-82af-c7e2672a3f54\":{\"columns\":[{\"columnId\":\"a76076ce-f372-4a48-857d-75010bbf5970\",\"fieldName\":\"tier\",\"label\":\"tier\",\"meta\":{\"esType\":\"keyword\",\"sourceParams\":{\"indexPattern\":\"billing_cluster_cost_lookup\"},\"type\":\"string\"}},{\"columnId\":\"6e881cac-4719-493c-95f8-e3bfa38c3219\",\"customLabel\":true,\"fieldName\":\"agg_indexing\",\"label\":\"Indexing\",\"meta\":{\"esType\":\"double\",\"sourceParams\":{\"indexPattern\":\"billing_cluster_cost_lookup\"},\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}},{\"columnId\":\"97a86307-08fc-4b2d-a82a-36a2ecc9c75d\",\"customLabel\":true,\"fieldName\":\"agg_querying\",\"label\":\"Querying\",\"meta\":{\"esType\":\"double\",\"sourceParams\":{\"indexPattern\":\"billing_cluster_cost_lookup\"},\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}},{\"columnId\":\"2b086331-8a38-4df2-b042-7827d3519d63\",\"customLabel\":true,\"fieldName\":\"agg_storage\",\"label\":\"Storage\",\"meta\":{\"esType\":\"double\",\"sourceParams\":{\"indexPattern\":\"billing_cluster_cost_lookup\"},\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}},{\"columnId\":\"307273f7-1b4c-450c-80cd-ef0326b38f6e\",\"customLabel\":true,\"fieldName\":\"agg_blended\",\"label\":\"Blended\",\"meta\":{\"esType\":\"double\",\"sourceParams\":{\"indexPattern\":\"billing_cluster_cost_lookup\"},\"type\":\"number\"},\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}}],\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL\\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu) * conf_ecu_rate,\\n    querying = CASE (deployment_sum_query_time \\u003e 0, tier_sum_query_time / deployment_sum_query_time * total_ecu) * conf_ecu_rate,\\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, tier_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate,\\n    total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight,\\n    total_weight_cold = conf_storage_weight + conf_query_weight,\\n    blended = CASE (\\n        tier == \\\"hot/content\\\",\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight) + (indexing / conf_ecu_rate * conf_indexing_weight)) / total_weight_hot,\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight)) / total_weight_cold\\n    ) * conf_ecu_rate\\n| STATS\\n    agg_indexing = sum(indexing),\\n    agg_querying = sum(querying),\\n    agg_storage = sum(storage),\\n    agg_blended = sum(blended)\\n    BY\\n        tier\\n| WHERE agg_blended \\u003e 0\"},\"timeField\":\"@timestamp\"}}}},\"filters\":[],\"needsRefresh\":false,\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL\\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu) * conf_ecu_rate,\\n    querying = CASE (deployment_sum_query_time \\u003e 0, tier_sum_query_time / deployment_sum_query_time * total_ecu) * conf_ecu_rate,\\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, tier_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate,\\n    total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight,\\n    total_weight_cold = conf_storage_weight + conf_query_weight,\\n    blended = CASE (\\n        tier == \\\"hot/content\\\",\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight) + (indexing / conf_ecu_rate * conf_indexing_weight)) / total_weight_hot,\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight)) / total_weight_cold\\n    ) * conf_ecu_rate\\n| STATS\\n    agg_indexing = sum(indexing),\\n    agg_querying = sum(querying),\\n    agg_storage = sum(storage),\\n    agg_blended = sum(blended)\\n    BY\\n        tier\\n| WHERE agg_blended \\u003e 0\"},\"visualization\":{\"columns\":[{\"columnId\":\"a76076ce-f372-4a48-857d-75010bbf5970\",\"isMetric\":false,\"isTransposed\":false},{\"columnId\":\"6e881cac-4719-493c-95f8-e3bfa38c3219\",\"isMetric\":true,\"isTransposed\":false},{\"columnId\":\"97a86307-08fc-4b2d-a82a-36a2ecc9c75d\",\"isMetric\":true,\"isTransposed\":false},{\"columnId\":\"2b086331-8a38-4df2-b042-7827d3519d63\",\"isMetric\":true,\"isTransposed\":false},{\"columnId\":\"307273f7-1b4c-450c-80cd-ef0326b38f6e\",\"isMetric\":true,\"isTransposed\":false}],\"layerId\":\"9d199172-f9fa-4fc4-82af-c7e2672a3f54\",\"layerType\":\"data\"}},\"title\":\"agg_indexing \\u0026 agg_querying \\u0026 agg_storage \\u0026 agg_blended of tier\",\"visualizationType\":\"lnsDatatable\"},\"description\":\"Normalised cost breakdown per tier, based on Indexing, Querying, Storage and a blended ratio of all of these.\",\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL\\n    indexing = CASE (deployment_sum_indexing_time \\u003e 0, tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu) * conf_ecu_rate,\\n    querying = CASE (deployment_sum_query_time \\u003e 0, tier_sum_query_time / deployment_sum_query_time * total_ecu) * conf_ecu_rate,\\n    data_set = CASE (deployment_sum_data_set_store_size \\u003e 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu),\\n    store = CASE (deployment_sum_store_size \\u003e 0, tier_sum_store_size / deployment_sum_store_size * total_ecu),\\n    storage = CASE (store == 0, data_set, store) * conf_ecu_rate,\\n    total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight,\\n    total_weight_cold = conf_storage_weight + conf_query_weight,\\n    blended = CASE (\\n        tier == \\\"hot/content\\\",\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight) + (indexing / conf_ecu_rate * conf_indexing_weight)) / total_weight_hot,\\n        ((storage / conf_ecu_rate * conf_storage_weight) + (querying / conf_ecu_rate * conf_query_weight)) / total_weight_cold\\n    ) * conf_ecu_rate\\n| STATS\\n    agg_indexing = sum(indexing),\\n    agg_querying = sum(querying),\\n    agg_storage = sum(storage),\\n    agg_blended = sum(blended)\\n    BY\\n        tier\\n| WHERE agg_blended \\u003e 0\"},\"searchSessionId\":\"48b157e3-14ff-4c71-8178-4a69f0592d85\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false},\"gridData\":{\"h\":10,\"i\":\"18643569-92d3-4a30-aafe-6ae11acc4c58\",\"w\":48,\"x\":0,\"y\":29},\"panelIndex\":\"18643569-92d3-4a30-aafe-6ae11acc4c58\",\"title\":\"Normalised cost per tier\",\"type\":\"lens\"}]","timeRestore":false,"title":"[Chargeback] Cost and Consumption breakdown","version":3},"coreMigrationVersion":"8.8.0","created_at":"2025-08-27T14:44:54.894Z","id":"chargeback-39a39857-746c-4a29-adca-3c2fcb6bcfb6","managed":true,"references":[{"id":"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f","name":"controlGroup_ad78c22a-f7b7-4810-8af5-30fbbca8e93e:optionsListDataView","type":"index-pattern"},{"id":"fleet-managed-default","name":"tag-ref-fleet-managed-default","type":"tag"},{"id":"fleet-pkg-chargeback-default","name":"tag-ref-fleet-pkg-chargeback-default","type":"tag"}],"type":"dashboard","typeMigrationVersion":"10.3.0","updated_at":"2025-08-27T14:44:55.919Z","version":"WzEwNjM3LDQzXQ=="}
{"attributes":{"color":"#4DD2CA","description":"","name":"Elasticsearch"},"coreMigrationVersion":"8.8.0","created_at":"2025-06-13T04:19:37.037Z","created_by":"u_2001809318_cloud","id":"fleet-pkg-elasticsearch-default","managed":true,"references":[],"type":"tag","typeMigrationVersion":"8.0.0","updated_at":"2025-06-13T04:19:37.037Z","updated_by":"u_2001809318_cloud","version":"WzYzMDU3LDM2XQ=="}
{"attributes":{"controlGroupInput":{"chainingSystem":"HIERARCHICAL","controlStyle":"twoLine","ignoreParentSettingsJSON":"{\"ignoreFilters\":false,\"ignoreQuery\":false,\"ignoreTimerange\":false,\"ignoreValidations\":false}","panelsJSON":"{\"0c11c303-7a65-484e-a511-b3d54d880adc\":{\"explicitInput\":{\"enhancements\":{},\"fieldName\":\"elasticsearch.index.tier\",\"grow\":true,\"id\":\"0c11c303-7a65-484e-a511-b3d54d880adc\",\"searchTechnique\":\"wildcard\",\"title\":\"elasticsearch.index.tier\",\"width\":\"medium\"},\"grow\":true,\"order\":2,\"type\":\"optionsListControl\",\"width\":\"medium\"},\"87f69bdd-9149-40a1-b094-890371be2f0b\":{\"explicitInput\":{\"enhancements\":{},\"fieldName\":\"elasticsearch.index.datastream\",\"grow\":true,\"id\":\"87f69bdd-9149-40a1-b094-890371be2f0b\",\"searchTechnique\":\"wildcard\",\"title\":\"elasticsearch.index.datastream\",\"width\":\"medium\"},\"grow\":true,\"order\":1,\"type\":\"optionsListControl\",\"width\":\"medium\"},\"cba6f145-8be8-4798-92f9-119f36f1a6b2\":{\"explicitInput\":{\"enhancements\":{},\"fieldName\":\"elasticsearch.index.age\",\"grow\":true,\"id\":\"cba6f145-8be8-4798-92f9-119f36f1a6b2\",\"searchTechnique\":\"exact\",\"title\":\"elasticsearch.index.age\",\"value\":[\"\",\"\"],\"width\":\"medium\"},\"grow\":true,\"order\":3,\"type\":\"rangeSliderControl\",\"width\":\"medium\"},\"d51e283f-ef9d-4ac0-bf21-dab444a79b85\":{\"explicitInput\":{\"enhancements\":{},\"fieldName\":\"elasticsearch.cluster.name\",\"grow\":true,\"id\":\"d51e283f-ef9d-4ac0-bf21-dab444a79b85\",\"searchTechnique\":\"wildcard\",\"selectedOptions\":[],\"title\":\"elasticsearch.cluster.name\",\"width\":\"medium\"},\"grow\":true,\"order\":0,\"type\":\"optionsListControl\",\"width\":\"medium\"}}","showApplySelections":false},"description":"This dashboard presents per data stream usage information, allowing you to align ILM policy, cluster architecture with actual consumption patterns.","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}"},"optionsJSON":"{\"hidePanelTitles\":false,\"syncColors\":true,\"syncCursor\":true,\"syncTooltips\":false,\"useMargins\":true}","panelsJSON":"[{\"type\":\"visualization\",\"gridData\":{\"h\":16,\"i\":\"898fd7fc-2853-438f-9354-b1b1a0084595\",\"w\":25,\"x\":0,\"y\":0},\"panelIndex\":\"898fd7fc-2853-438f-9354-b1b1a0084595\",\"embeddableConfig\":{\"description\":\"\",\"enhancements\":{},\"hidePanelTitles\":true,\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"id\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"# Indices and data streams usage dashboard\\n\\nThis dashboard will require Elasticsearch monitoring data (built-in or Metricbeat module / Elasticsearch integration) to be collected in this cluster, **and** the `logs-elasticsearch.index_pivot-default` [transform](/app/management/data/transform) to be started.\\n\\nThis dashboard will provide tier- and data stream-centric consumption information, such as:\\n* Ingest volume (written on disk, after indexing by Elasticsearch).\\n* Query volume (by count and time).\\n* Storage volume.\\n\\n\\nThis will help you review your data usage and ensure alignment between expectations, usage patterns, ILM policy and architecture best practices.\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}},\"type\":\"visualization\"},\"title\":\"\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":8,\"i\":\"d7718890-b67b-47ae-84d4-d945d08ec417\",\"w\":6,\"x\":25,\"y\":0},\"panelIndex\":\"d7718890-b67b-47ae-84d4-d945d08ec417\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-ce1c04fd-9867-4587-a278-1ab22b07025a\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"ce1c04fd-9867-4587-a278-1ab22b07025a\":{\"columnOrder\":[\"6599e62e-40c9-46b4-a122-32c5ec10e4e5\",\"e5245e53-083d-4594-9311-1d5e314bb52a\",\"e5245e53-083d-4594-9311-1d5e314bb52aX0\",\"e5245e53-083d-4594-9311-1d5e314bb52aX1\",\"e5245e53-083d-4594-9311-1d5e314bb52aX2\",\"6599e62e-40c9-46b4-a122-32c5ec10e4e5X0\",\"6599e62e-40c9-46b4-a122-32c5ec10e4e5X1\",\"6599e62e-40c9-46b4-a122-32c5ec10e4e5X2\"],\"columns\":{\"6599e62e-40c9-46b4-a122-32c5ec10e4e5\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Doc count\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"compact\":true,\"decimals\":2}},\"formula\":\"sum(elasticsearch.index.primaries.docs.count)/unique_count(@timestamp)\",\"isFormulaBroken\":false},\"references\":[\"6599e62e-40c9-46b4-a122-32c5ec10e4e5X2\"],\"scale\":\"ratio\"},\"6599e62e-40c9-46b4-a122-32c5ec10e4e5X0\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Doc count\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.docs.count\"},\"6599e62e-40c9-46b4-a122-32c5ec10e4e5X1\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Doc count\",\"operationType\":\"unique_count\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"@timestamp\"},\"6599e62e-40c9-46b4-a122-32c5ec10e4e5X2\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Doc count\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[\"6599e62e-40c9-46b4-a122-32c5ec10e4e5X0\",\"6599e62e-40c9-46b4-a122-32c5ec10e4e5X1\"],\"location\":{\"max\":70,\"min\":0},\"name\":\"divide\",\"text\":\"sum(elasticsearch.index.primaries.docs.count)/unique_count(@timestamp)\",\"type\":\"function\"}},\"references\":[\"6599e62e-40c9-46b4-a122-32c5ec10e4e5X0\",\"6599e62e-40c9-46b4-a122-32c5ec10e4e5X1\"],\"scale\":\"ratio\"},\"e5245e53-083d-4594-9311-1d5e314bb52a\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Searchable store\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":0}},\"formula\":\"sum(elasticsearch.index.primaries.store.total_data_set_size_in_bytes)/unique_count(@timestamp)\",\"isFormulaBroken\":false},\"reducedTimeRange\":\"1d\",\"references\":[\"e5245e53-083d-4594-9311-1d5e314bb52aX2\"],\"scale\":\"ratio\"},\"e5245e53-083d-4594-9311-1d5e314bb52aX0\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Written primary volume\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"reducedTimeRange\":\"1d\",\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes\"},\"e5245e53-083d-4594-9311-1d5e314bb52aX1\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Written primary volume\",\"operationType\":\"unique_count\",\"params\":{\"emptyAsNull\":false},\"reducedTimeRange\":\"1d\",\"scale\":\"ratio\",\"sourceField\":\"@timestamp\"},\"e5245e53-083d-4594-9311-1d5e314bb52aX2\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Written primary volume\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[\"e5245e53-083d-4594-9311-1d5e314bb52aX0\",\"e5245e53-083d-4594-9311-1d5e314bb52aX1\"],\"location\":{\"max\":94,\"min\":0},\"name\":\"divide\",\"text\":\"sum(elasticsearch.index.primaries.store.total_data_set_size_in_bytes)/unique_count(@timestamp)\",\"type\":\"function\"}},\"references\":[\"e5245e53-083d-4594-9311-1d5e314bb52aX0\",\"e5245e53-083d-4594-9311-1d5e314bb52aX1\"],\"scale\":\"ratio\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"visualization\":{\"layerId\":\"ce1c04fd-9867-4587-a278-1ab22b07025a\",\"layerType\":\"data\",\"metricAccessor\":\"e5245e53-083d-4594-9311-1d5e314bb52a\",\"secondaryMetricAccessor\":\"6599e62e-40c9-46b4-a122-32c5ec10e4e5\",\"showBar\":false,\"trendlineSecondaryMetricAccessor\":\"4132abe1-77d3-4764-80eb-6e00a8e5e769\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsMetric\"},\"enhancements\":{},\"hidePanelTitles\":true,\"type\":\"lens\"},\"title\":\"\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":8,\"i\":\"54629a0d-032e-44ba-8f82-d114c85f9a54\",\"w\":8,\"x\":31,\"y\":0},\"panelIndex\":\"54629a0d-032e-44ba-8f82-d114c85f9a54\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-ce1c04fd-9867-4587-a278-1ab22b07025a\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"ce1c04fd-9867-4587-a278-1ab22b07025a\":{\"columnOrder\":[\"e5245e53-083d-4594-9311-1d5e314bb52a\",\"e859d93a-a256-4428-be10-75ed4fdb8c91\"],\"columns\":{\"e5245e53-083d-4594-9311-1d5e314bb52a\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Daily ingest\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":true,\"decimals\":1,\"suffix\":\" docs\"}}},\"reducedTimeRange\":\"7d\",\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.docs.count_delta\",\"timeScale\":\"d\"},\"e859d93a-a256-4428-be10-75ed4fdb8c91\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\" \",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":1}}},\"reducedTimeRange\":\"7d\",\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes_delta\",\"timeScale\":\"d\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"visualization\":{\"color\":\"#E7664C\",\"icon\":\"compute\",\"layerId\":\"ce1c04fd-9867-4587-a278-1ab22b07025a\",\"layerType\":\"data\",\"metricAccessor\":\"e5245e53-083d-4594-9311-1d5e314bb52a\",\"secondaryMetricAccessor\":\"e859d93a-a256-4428-be10-75ed4fdb8c91\",\"showBar\":false}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsMetric\"},\"description\":\"Computed over the last 7 days of the viewed time range\",\"enhancements\":{},\"hidePanelTitles\":true,\"type\":\"lens\"},\"title\":\"\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":8,\"i\":\"a5bd290f-9b98-42a0-b14e-15641e867cbe\",\"w\":9,\"x\":39,\"y\":0},\"panelIndex\":\"a5bd290f-9b98-42a0-b14e-15641e867cbe\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-eeca0af0-bff1-4191-b037-ce6826795f04\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"eeca0af0-bff1-4191-b037-ce6826795f04\":{\"columnOrder\":[\"944652e1-7bbc-44cb-b932-ec901be22583\",\"665e1cb0-61ab-4b32-8b98-bd76ab6f56f3\"],\"columns\":{\"665e1cb0-61ab-4b32-8b98-bd76ab6f56f3\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Primary ingest\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes_delta\"},\"944652e1-7bbc-44cb-b932-ec901be22583\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 4 values of elasticsearch.index.datastream\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":true,\"orderBy\":{\"columnId\":\"665e1cb0-61ab-4b32-8b98-bd76ab6f56f3\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":4},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.datastream\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"visualization\":{\"layers\":[{\"categoryDisplay\":\"hide\",\"colorMapping\":{\"assignments\":[{\"color\":{\"colorIndex\":1,\"paletteId\":\"neutral\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"__other__\"]},\"touched\":true}],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"eeca0af0-bff1-4191-b037-ce6826795f04\",\"layerType\":\"data\",\"legendDisplay\":\"show\",\"metrics\":[\"665e1cb0-61ab-4b32-8b98-bd76ab6f56f3\"],\"nestedLegend\":false,\"numberDisplay\":\"value\",\"primaryGroups\":[\"944652e1-7bbc-44cb-b932-ec901be22583\"]}],\"shape\":\"pie\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsPie\"},\"enhancements\":{},\"type\":\"lens\"},\"title\":\"Ingest breakdown - top 5\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":8,\"i\":\"68c7d1e7-5690-4971-8236-fed745af57bc\",\"w\":6,\"x\":25,\"y\":8},\"panelIndex\":\"68c7d1e7-5690-4971-8236-fed745af57bc\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-ce1c04fd-9867-4587-a278-1ab22b07025a\",\"type\":\"index-pattern\"},{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-4051b87f-a170-41a8-a602-641c1fd02750\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"4051b87f-a170-41a8-a602-641c1fd02750\":{\"columnOrder\":[\"a6c73df2-a3aa-4db1-9e68-dcbeee69c0eb\",\"a0fc2c2a-75bb-4ff7-8e43-1b259a4f1b04\",\"b9446df2-a3a4-4e06-9415-a096600820cd\"],\"columns\":{\"a0fc2c2a-75bb-4ff7-8e43-1b259a4f1b04\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total query count\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":true,\"decimals\":0}}},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.search.query_total_delta\"},\"a6c73df2-a3aa-4db1-9e68-dcbeee69c0eb\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"auto\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"b9446df2-a3a4-4e06-9415-a096600820cd\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total query time\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"duration\",\"params\":{\"decimals\":0,\"toUnit\":\"humanizePrecise\",\"compact\":true}}},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.search.query_time_in_millis_delta\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"linkToLayers\":[\"ce1c04fd-9867-4587-a278-1ab22b07025a\"],\"sampling\":1},\"ce1c04fd-9867-4587-a278-1ab22b07025a\":{\"columnOrder\":[\"e5245e53-083d-4594-9311-1d5e314bb52a\",\"6ba9aac1-977d-4806-b7dd-8a33e09ef531\"],\"columns\":{\"6ba9aac1-977d-4806-b7dd-8a33e09ef531\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total query count\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":true,\"decimals\":0}}},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.search.query_total_delta\"},\"e5245e53-083d-4594-9311-1d5e314bb52a\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total query time\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"duration\",\"params\":{\"decimals\":0,\"toUnit\":\"humanizePrecise\",\"compact\":true}}},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.search.query_time_in_millis_delta\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"visualization\":{\"layerId\":\"ce1c04fd-9867-4587-a278-1ab22b07025a\",\"layerType\":\"data\",\"metricAccessor\":\"e5245e53-083d-4594-9311-1d5e314bb52a\",\"secondaryMetricAccessor\":\"6ba9aac1-977d-4806-b7dd-8a33e09ef531\",\"showBar\":false,\"trendlineLayerId\":\"4051b87f-a170-41a8-a602-641c1fd02750\",\"trendlineLayerType\":\"metricTrendline\",\"trendlineMetricAccessor\":\"b9446df2-a3a4-4e06-9415-a096600820cd\",\"trendlineSecondaryMetricAccessor\":\"a0fc2c2a-75bb-4ff7-8e43-1b259a4f1b04\",\"trendlineTimeAccessor\":\"a6c73df2-a3aa-4db1-9e68-dcbeee69c0eb\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsMetric\"},\"enhancements\":{},\"hidePanelTitles\":true,\"type\":\"lens\"},\"title\":\"\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":8,\"i\":\"4dcdc126-a091-4384-9ccd-7bdbfa3e05db\",\"w\":8,\"x\":31,\"y\":8},\"panelIndex\":\"4dcdc126-a091-4384-9ccd-7bdbfa3e05db\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-ce1c04fd-9867-4587-a278-1ab22b07025a\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"ce1c04fd-9867-4587-a278-1ab22b07025a\":{\"columnOrder\":[\"e5245e53-083d-4594-9311-1d5e314bb52a\"],\"columns\":{\"e5245e53-083d-4594-9311-1d5e314bb52a\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Daily querying\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":true,\"decimals\":1,\"suffix\":\" queries\"}}},\"reducedTimeRange\":\"7d\",\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.search.query_total_delta\",\"timeScale\":\"d\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"visualization\":{\"color\":\"#CA8EAE\",\"icon\":\"editorComment\",\"layerId\":\"ce1c04fd-9867-4587-a278-1ab22b07025a\",\"layerType\":\"data\",\"metricAccessor\":\"e5245e53-083d-4594-9311-1d5e314bb52a\",\"showBar\":false}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsMetric\"},\"description\":\"Computed over the last 7 days of the viewed time range\",\"enhancements\":{},\"hidePanelTitles\":true,\"type\":\"lens\"},\"title\":\"\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":8,\"i\":\"a34b4a88-6ee1-48ed-a098-cf1d86f80541\",\"w\":9,\"x\":39,\"y\":8},\"panelIndex\":\"a34b4a88-6ee1-48ed-a098-cf1d86f80541\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-eeca0af0-bff1-4191-b037-ce6826795f04\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"eeca0af0-bff1-4191-b037-ce6826795f04\":{\"columnOrder\":[\"944652e1-7bbc-44cb-b932-ec901be22583\",\"665e1cb0-61ab-4b32-8b98-bd76ab6f56f3\"],\"columns\":{\"665e1cb0-61ab-4b32-8b98-bd76ab6f56f3\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Querying count\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.search.query_total_delta\"},\"944652e1-7bbc-44cb-b932-ec901be22583\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 4 values of elasticsearch.index.datastream\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":true,\"orderBy\":{\"columnId\":\"665e1cb0-61ab-4b32-8b98-bd76ab6f56f3\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":4},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.datastream\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"visualization\":{\"layers\":[{\"categoryDisplay\":\"hide\",\"colorMapping\":{\"assignments\":[{\"color\":{\"colorIndex\":1,\"paletteId\":\"neutral\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"__other__\"]},\"touched\":true}],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"eeca0af0-bff1-4191-b037-ce6826795f04\",\"layerType\":\"data\",\"legendDisplay\":\"show\",\"metrics\":[\"665e1cb0-61ab-4b32-8b98-bd76ab6f56f3\"],\"nestedLegend\":false,\"numberDisplay\":\"value\",\"primaryGroups\":[\"944652e1-7bbc-44cb-b932-ec901be22583\"]}],\"shape\":\"pie\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsPie\"},\"enhancements\":{},\"type\":\"lens\"},\"title\":\"Query breakdown - top 5\",\"version\":\"8.9.0\"},{\"type\":\"visualization\",\"gridData\":{\"h\":4,\"i\":\"3bcca6e8-650e-402f-9ed7-cad041be9c00\",\"w\":48,\"x\":0,\"y\":16},\"panelIndex\":\"3bcca6e8-650e-402f-9ed7-cad041be9c00\",\"embeddableConfig\":{\"description\":\"\",\"enhancements\":{},\"hidePanelTitles\":true,\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"id\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"# 🔎 Querying\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}},\"type\":\"visualization\"},\"title\":\"\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":13,\"i\":\"c8770db2-eeb3-4e92-99a4-7b546665f400\",\"w\":48,\"x\":0,\"y\":20},\"panelIndex\":\"c8770db2-eeb3-4e92-99a4-7b546665f400\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-822a3526-e634-42df-bc62-066499acd70c\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"822a3526-e634-42df-bc62-066499acd70c\":{\"columnOrder\":[\"434a78c7-e298-4caa-8886-eea50bc7a3a5\",\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\",\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\"],\"columns\":{\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"auto\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"434a78c7-e298-4caa-8886-eea50bc7a3a5\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 9 values of elasticsearch.index.datastream\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":true,\"orderBy\":{\"columnId\":\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":9},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.datastream\"},\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Query count\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":true,\"decimals\":0}}},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.search.query_total_delta\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":false,\"yRight\":true},\"layers\":[{\"accessors\":[\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"822a3526-e634-42df-bc62-066499acd70c\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"434a78c7-e298-4caa-8886-eea50bc7a3a5\",\"xAccessor\":\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\"}],\"legend\":{\"isVisible\":true,\"legendSize\":\"auto\",\"legendStats\":[\"total\"],\"position\":\"right\",\"showSingleSeries\":true},\"preferredSeriesType\":\"bar_stacked\",\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{},\"type\":\"lens\"},\"title\":\"Query count by data stream\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":14,\"i\":\"55365be8-6bac-4ef5-9d54-c5938b983e1a\",\"w\":24,\"x\":0,\"y\":33},\"panelIndex\":\"55365be8-6bac-4ef5-9d54-c5938b983e1a\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-a5fe3787-3f21-4859-8b14-751bb82763a6\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"a5fe3787-3f21-4859-8b14-751bb82763a6\":{\"columnOrder\":[\"469a1954-c3a9-4f7a-bcdb-353b6dc85fac\",\"1a194e9b-2b75-43d4-a42a-800274674f37\",\"c2b6f47a-9b5e-4054-963a-f22c6f40b09b\"],\"columns\":{\"1a194e9b-2b75-43d4-a42a-800274674f37\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 9 values of elasticsearch.index.datastream\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":true,\"orderBy\":{\"columnId\":\"c2b6f47a-9b5e-4054-963a-f22c6f40b09b\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":9},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.datastream\"},\"469a1954-c3a9-4f7a-bcdb-353b6dc85fac\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 5 values of elasticsearch.index.tier\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderBy\":{\"columnId\":\"c2b6f47a-9b5e-4054-963a-f22c6f40b09b\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":5},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.tier\"},\"c2b6f47a-9b5e-4054-963a-f22c6f40b09b\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Query time\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.search.query_time_in_millis_delta\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"visualization\":{\"layers\":[{\"categoryDisplay\":\"default\",\"colorMapping\":{\"assignments\":[{\"color\":{\"colorIndex\":9,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"hot/content\"]},\"touched\":true},{\"color\":{\"colorIndex\":5,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"warm\"]},\"touched\":true},{\"color\":{\"colorIndex\":1,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"cold\"]},\"touched\":true},{\"color\":{\"colorIndex\":0,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"frozen\"]},\"touched\":true}],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"emptySizeRatio\":0.3,\"layerId\":\"a5fe3787-3f21-4859-8b14-751bb82763a6\",\"layerType\":\"data\",\"legendDisplay\":\"show\",\"legendSize\":\"large\",\"metrics\":[\"c2b6f47a-9b5e-4054-963a-f22c6f40b09b\"],\"nestedLegend\":true,\"numberDisplay\":\"percent\",\"primaryGroups\":[\"469a1954-c3a9-4f7a-bcdb-353b6dc85fac\",\"1a194e9b-2b75-43d4-a42a-800274674f37\"]}],\"shape\":\"donut\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsPie\"},\"enhancements\":{},\"type\":\"lens\"},\"title\":\"Querying time by tier\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":14,\"i\":\"569c5872-38eb-41e9-9b4b-1d9f151094dd\",\"w\":24,\"x\":24,\"y\":33},\"panelIndex\":\"569c5872-38eb-41e9-9b4b-1d9f151094dd\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-a5fe3787-3f21-4859-8b14-751bb82763a6\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"a5fe3787-3f21-4859-8b14-751bb82763a6\":{\"columnOrder\":[\"469a1954-c3a9-4f7a-bcdb-353b6dc85fac\",\"79ef2325-708c-46f5-8396-e508f38f10e7\",\"c2b6f47a-9b5e-4054-963a-f22c6f40b09b\"],\"columns\":{\"469a1954-c3a9-4f7a-bcdb-353b6dc85fac\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 5 values of elasticsearch.index.tier\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderBy\":{\"columnId\":\"c2b6f47a-9b5e-4054-963a-f22c6f40b09b\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":5},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.tier\"},\"79ef2325-708c-46f5-8396-e508f38f10e7\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"auto\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"c2b6f47a-9b5e-4054-963a-f22c6f40b09b\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Query time\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.search.query_time_in_millis_delta\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":false,\"yRight\":true},\"layers\":[{\"accessors\":[\"c2b6f47a-9b5e-4054-963a-f22c6f40b09b\"],\"colorMapping\":{\"assignments\":[{\"color\":{\"colorIndex\":9,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"hot/content\"]},\"touched\":true},{\"color\":{\"colorIndex\":5,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"warm\"]},\"touched\":true},{\"color\":{\"colorIndex\":1,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"cold\"]},\"touched\":true},{\"color\":{\"colorIndex\":0,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"frozen\"]},\"touched\":true}],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"a5fe3787-3f21-4859-8b14-751bb82763a6\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"469a1954-c3a9-4f7a-bcdb-353b6dc85fac\",\"xAccessor\":\"79ef2325-708c-46f5-8396-e508f38f10e7\"}],\"legend\":{\"isInside\":true,\"isVisible\":false,\"legendSize\":\"auto\",\"legendStats\":[\"total\"],\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\",\"xExtent\":{\"lowerBound\":0,\"mode\":\"custom\",\"upperBound\":365},\"yLeftExtent\":{\"mode\":\"full\"},\"yLeftScale\":\"linear\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{},\"type\":\"lens\"},\"title\":\"Querying time by tier over time\",\"version\":\"8.9.0\"},{\"type\":\"visualization\",\"gridData\":{\"h\":4,\"i\":\"4b332ef0-04ea-4683-9f7e-127fe9df119b\",\"w\":48,\"x\":0,\"y\":47},\"panelIndex\":\"4b332ef0-04ea-4683-9f7e-127fe9df119b\",\"embeddableConfig\":{\"enhancements\":{},\"hidePanelTitles\":true,\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"# 👀 Consumption patterns\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}},\"type\":\"visualization\"},\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":10,\"i\":\"4c27134b-c737-4512-a112-3daf43129892\",\"w\":24,\"x\":0,\"y\":51},\"panelIndex\":\"4c27134b-c737-4512-a112-3daf43129892\",\"embeddableConfig\":{\"attributes\":{\"description\":\"This displays the querying time, function of how old the queried indices are. Querying volume usually decreases as the index ages. Best practices would recommend to align retention with querying profile, and storing data in colder tier as its consumption volume decreases.\",\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-a5fe3787-3f21-4859-8b14-751bb82763a6\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"a5fe3787-3f21-4859-8b14-751bb82763a6\":{\"columnOrder\":[\"3d423901-8bb5-4e07-84b8-677c29faa6f4\",\"469a1954-c3a9-4f7a-bcdb-353b6dc85fac\",\"c2b6f47a-9b5e-4054-963a-f22c6f40b09b\"],\"columns\":{\"3d423901-8bb5-4e07-84b8-677c29faa6f4\":{\"dataType\":\"number\",\"isBucketed\":true,\"label\":\"elasticsearch.index.age\",\"operationType\":\"range\",\"params\":{\"includeEmptyRows\":true,\"maxBars\":\"auto\",\"ranges\":[{\"from\":0,\"label\":\"\",\"to\":1000}],\"type\":\"histogram\"},\"scale\":\"interval\",\"sourceField\":\"elasticsearch.index.age\"},\"469a1954-c3a9-4f7a-bcdb-353b6dc85fac\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 5 values of elasticsearch.index.tier\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderBy\":{\"columnId\":\"c2b6f47a-9b5e-4054-963a-f22c6f40b09b\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":5},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.tier\"},\"c2b6f47a-9b5e-4054-963a-f22c6f40b09b\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Query count\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":true,\"decimals\":0}}},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.search.query_total_delta\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"elasticsearch.index.age >0 AND elasticsearch.index.age < 365\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":false,\"yRight\":true},\"layers\":[{\"accessors\":[\"c2b6f47a-9b5e-4054-963a-f22c6f40b09b\"],\"colorMapping\":{\"assignments\":[{\"color\":{\"colorIndex\":9,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"hot/content\"]},\"touched\":true},{\"color\":{\"colorIndex\":5,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"warm\"]},\"touched\":true},{\"color\":{\"colorIndex\":1,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"cold\"]},\"touched\":true},{\"color\":{\"colorIndex\":0,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"frozen\"]},\"touched\":true}],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"a5fe3787-3f21-4859-8b14-751bb82763a6\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"469a1954-c3a9-4f7a-bcdb-353b6dc85fac\",\"xAccessor\":\"3d423901-8bb5-4e07-84b8-677c29faa6f4\"}],\"legend\":{\"isInside\":true,\"isVisible\":true,\"legendSize\":\"auto\",\"legendStats\":[\"total\"],\"position\":\"right\",\"showSingleSeries\":true},\"preferredSeriesType\":\"bar_stacked\",\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\",\"xExtent\":{\"mode\":\"dataBounds\"},\"yLeftExtent\":{\"mode\":\"full\"},\"yLeftScale\":\"linear\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"description\":\"This displays the query count, function of how old the queried indices are. Querying volume usually decreases as the index ages. Best practices would recommend to align retention with querying profile, and storing data in colder tier as its consumption volume decreases.\",\"enhancements\":{},\"type\":\"lens\"},\"title\":\"Query count by index age\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":20,\"i\":\"5142e2b9-b5a0-4d45-b0e5-1de018a7d1a4\",\"w\":24,\"x\":24,\"y\":51},\"panelIndex\":\"5142e2b9-b5a0-4d45-b0e5-1de018a7d1a4\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-a5fe3787-3f21-4859-8b14-751bb82763a6\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"a5fe3787-3f21-4859-8b14-751bb82763a6\":{\"columnOrder\":[\"3d423901-8bb5-4e07-84b8-677c29faa6f4\",\"469a1954-c3a9-4f7a-bcdb-353b6dc85fac\",\"c2b6f47a-9b5e-4054-963a-f22c6f40b09b\",\"c2b6f47a-9b5e-4054-963a-f22c6f40b09bX0\",\"c2b6f47a-9b5e-4054-963a-f22c6f40b09bX1\",\"c2b6f47a-9b5e-4054-963a-f22c6f40b09bX2\"],\"columns\":{\"3d423901-8bb5-4e07-84b8-677c29faa6f4\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":true,\"label\":\"Index age\",\"operationType\":\"range\",\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":0,\"suffix\":\" days\"}},\"includeEmptyRows\":true,\"maxBars\":1000,\"ranges\":[{\"from\":0,\"label\":\"\",\"to\":1000}],\"type\":\"histogram\"},\"scale\":\"interval\",\"sourceField\":\"elasticsearch.index.age\"},\"469a1954-c3a9-4f7a-bcdb-353b6dc85fac\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 5 values of elasticsearch.index.tier\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderBy\":{\"fallback\":true,\"type\":\"alphabetical\"},\"orderDirection\":\"asc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":5},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.tier\"},\"c2b6f47a-9b5e-4054-963a-f22c6f40b09b\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Primary storage\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":2}},\"formula\":\"sum(elasticsearch.index.primaries.store.total_data_set_size_in_bytes)/unique_count(@timestamp)\",\"isFormulaBroken\":false},\"references\":[\"c2b6f47a-9b5e-4054-963a-f22c6f40b09bX2\"],\"scale\":\"ratio\"},\"c2b6f47a-9b5e-4054-963a-f22c6f40b09bX0\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Primary storage\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes\"},\"c2b6f47a-9b5e-4054-963a-f22c6f40b09bX1\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Primary storage\",\"operationType\":\"unique_count\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"@timestamp\"},\"c2b6f47a-9b5e-4054-963a-f22c6f40b09bX2\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Primary storage\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[\"c2b6f47a-9b5e-4054-963a-f22c6f40b09bX0\",\"c2b6f47a-9b5e-4054-963a-f22c6f40b09bX1\"],\"location\":{\"max\":94,\"min\":0},\"name\":\"divide\",\"text\":\"sum(elasticsearch.index.primaries.store.total_data_set_size_in_bytes)/unique_count(@timestamp)\",\"type\":\"function\"}},\"references\":[\"c2b6f47a-9b5e-4054-963a-f22c6f40b09bX0\",\"c2b6f47a-9b5e-4054-963a-f22c6f40b09bX1\"],\"scale\":\"ratio\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"elasticsearch.index.age >0 AND elasticsearch.index.age < 365\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":false,\"yRight\":true},\"layers\":[{\"accessors\":[\"c2b6f47a-9b5e-4054-963a-f22c6f40b09b\"],\"colorMapping\":{\"assignments\":[{\"color\":{\"colorIndex\":9,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"hot/content\"]},\"touched\":true},{\"color\":{\"colorIndex\":5,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"warm\"]},\"touched\":true},{\"color\":{\"colorIndex\":1,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"cold\"]},\"touched\":true},{\"color\":{\"colorIndex\":0,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"frozen\"]},\"touched\":true}],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"a5fe3787-3f21-4859-8b14-751bb82763a6\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"469a1954-c3a9-4f7a-bcdb-353b6dc85fac\",\"xAccessor\":\"3d423901-8bb5-4e07-84b8-677c29faa6f4\"}],\"legend\":{\"isInside\":true,\"isVisible\":true,\"legendSize\":\"auto\",\"legendStats\":[\"total\"],\"position\":\"right\",\"showSingleSeries\":true},\"preferredSeriesType\":\"bar_stacked\",\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\",\"xExtent\":{\"mode\":\"dataBounds\"},\"yLeftExtent\":{\"mode\":\"full\"},\"yLeftScale\":\"linear\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"description\":\"This displays the primary stored volume, function of how old the indices are. As the indices age, they should typically be stored in colder tiers, unless there's a business justification for doing otherwise.\",\"enhancements\":{},\"type\":\"lens\"},\"title\":\"Primary storage by age\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":10,\"i\":\"b020ef4c-d623-48a5-8dd2-853340055c0f\",\"w\":24,\"x\":0,\"y\":61},\"panelIndex\":\"b020ef4c-d623-48a5-8dd2-853340055c0f\",\"embeddableConfig\":{\"attributes\":{\"description\":\"This displays the querying time, function of how old the queried indices are. Querying volume usually decreases as the index ages. Best practices would recommend to align retention with querying profile, and storing data in colder tier as its consumption volume decreases.\",\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-a5fe3787-3f21-4859-8b14-751bb82763a6\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"a5fe3787-3f21-4859-8b14-751bb82763a6\":{\"columnOrder\":[\"3d423901-8bb5-4e07-84b8-677c29faa6f4\",\"469a1954-c3a9-4f7a-bcdb-353b6dc85fac\",\"c2b6f47a-9b5e-4054-963a-f22c6f40b09b\"],\"columns\":{\"3d423901-8bb5-4e07-84b8-677c29faa6f4\":{\"dataType\":\"number\",\"isBucketed\":true,\"label\":\"elasticsearch.index.age\",\"operationType\":\"range\",\"params\":{\"includeEmptyRows\":true,\"maxBars\":\"auto\",\"ranges\":[{\"from\":0,\"label\":\"\",\"to\":1000}],\"type\":\"histogram\"},\"scale\":\"interval\",\"sourceField\":\"elasticsearch.index.age\"},\"469a1954-c3a9-4f7a-bcdb-353b6dc85fac\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 5 values of elasticsearch.index.tier\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderBy\":{\"columnId\":\"c2b6f47a-9b5e-4054-963a-f22c6f40b09b\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":5},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.tier\"},\"c2b6f47a-9b5e-4054-963a-f22c6f40b09b\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Query time\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.search.query_time_in_millis_delta\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"elasticsearch.index.age >0 AND elasticsearch.index.age < 365\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":false,\"yRight\":true},\"layers\":[{\"accessors\":[\"c2b6f47a-9b5e-4054-963a-f22c6f40b09b\"],\"colorMapping\":{\"assignments\":[{\"color\":{\"colorIndex\":9,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"hot/content\"]},\"touched\":true},{\"color\":{\"colorIndex\":5,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"warm\"]},\"touched\":true},{\"color\":{\"colorIndex\":1,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"cold\"]},\"touched\":true},{\"color\":{\"colorIndex\":0,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"frozen\"]},\"touched\":true}],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"a5fe3787-3f21-4859-8b14-751bb82763a6\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"469a1954-c3a9-4f7a-bcdb-353b6dc85fac\",\"xAccessor\":\"3d423901-8bb5-4e07-84b8-677c29faa6f4\"}],\"legend\":{\"isInside\":true,\"isVisible\":true,\"legendSize\":\"auto\",\"legendStats\":[\"total\"],\"position\":\"right\",\"showSingleSeries\":true},\"preferredSeriesType\":\"bar_stacked\",\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\",\"xExtent\":{\"mode\":\"dataBounds\"},\"yLeftExtent\":{\"mode\":\"full\"},\"yLeftScale\":\"linear\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"description\":\"This displays the query time, function of how old the queried indices are. Querying volume usually decreases as the index ages. Best practices would recommend to align retention with querying profile, and storing data in colder tier as its consumption volume decreases.\",\"enhancements\":{},\"type\":\"lens\"},\"title\":\"Query time by index age\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":7,\"i\":\"18560b7f-dbd8-4d83-a998-c8837edd408d\",\"w\":12,\"x\":0,\"y\":71},\"panelIndex\":\"18560b7f-dbd8-4d83-a998-c8837edd408d\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-11fb7ad2-6653-4d2e-a8f6-f68cfb8dadb5\",\"type\":\"index-pattern\"},{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-822a3526-e634-42df-bc62-066499acd70c\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"11fb7ad2-6653-4d2e-a8f6-f68cfb8dadb5\":{\"columnOrder\":[\"56faedb4-8ce5-4c24-b121-51c2a9f82d65\"],\"columns\":{\"56faedb4-8ce5-4c24-b121-51c2a9f82d65\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"isStaticValue\":true,\"label\":\"1 sec\",\"operationType\":\"static_value\",\"params\":{\"format\":{\"id\":\"duration\",\"params\":{\"decimals\":0,\"toUnit\":\"asSeconds\"}},\"value\":\"1\"},\"references\":[],\"scale\":\"ratio\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"linkToLayers\":[],\"sampling\":1},\"822a3526-e634-42df-bc62-066499acd70c\":{\"columnOrder\":[\"434a78c7-e298-4caa-8886-eea50bc7a3a5\",\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\",\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\"],\"columns\":{\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"auto\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"434a78c7-e298-4caa-8886-eea50bc7a3a5\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 9 values of elasticsearch.index.datastream\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":true,\"orderBy\":{\"columnId\":\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":9},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.datastream\"},\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Query time\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"duration\",\"params\":{\"decimals\":0,\"toUnit\":\"humanizePrecise\"}}},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.search.query_time_in_millis_delta\",\"timeScale\":\"s\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"elasticsearch.index.tier : \\\"hot/content\\\" \"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"gridlinesVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"layers\":[{\"accessors\":[\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"822a3526-e634-42df-bc62-066499acd70c\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"434a78c7-e298-4caa-8886-eea50bc7a3a5\",\"xAccessor\":\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\"},{\"accessors\":[\"56faedb4-8ce5-4c24-b121-51c2a9f82d65\"],\"layerId\":\"11fb7ad2-6653-4d2e-a8f6-f68cfb8dadb5\",\"layerType\":\"referenceLine\",\"yConfig\":[{\"axisMode\":\"left\",\"color\":\"#e7664c\",\"forAccessor\":\"56faedb4-8ce5-4c24-b121-51c2a9f82d65\"}]}],\"legend\":{\"isInside\":true,\"isVisible\":false,\"legendSize\":\"auto\",\"legendStats\":[\"total\"],\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{},\"type\":\"lens\"},\"title\":\"Hot tier query time\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":7,\"i\":\"6ad22055-854c-4398-abb8-4960203119af\",\"w\":12,\"x\":12,\"y\":71},\"panelIndex\":\"6ad22055-854c-4398-abb8-4960203119af\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-822a3526-e634-42df-bc62-066499acd70c\",\"type\":\"index-pattern\"},{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-4e368752-5363-4136-b66b-e25d1959265e\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"4e368752-5363-4136-b66b-e25d1959265e\":{\"columnOrder\":[\"447fc06b-2509-48a6-b7f7-4850623124c6\"],\"columns\":{\"447fc06b-2509-48a6-b7f7-4850623124c6\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"isStaticValue\":true,\"label\":\"1 sec\",\"operationType\":\"static_value\",\"params\":{\"format\":{\"id\":\"duration\",\"params\":{\"decimals\":0,\"toUnit\":\"humanizePrecise\"}},\"value\":\"1\"},\"references\":[],\"scale\":\"ratio\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"linkToLayers\":[],\"sampling\":1},\"822a3526-e634-42df-bc62-066499acd70c\":{\"columnOrder\":[\"434a78c7-e298-4caa-8886-eea50bc7a3a5\",\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\",\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\"],\"columns\":{\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"auto\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"434a78c7-e298-4caa-8886-eea50bc7a3a5\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 9 values of elasticsearch.index.datastream\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":true,\"orderBy\":{\"columnId\":\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":9},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.datastream\"},\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Query time\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"duration\",\"params\":{\"decimals\":0,\"toUnit\":\"humanizePrecise\"}}},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.search.query_time_in_millis_delta\",\"timeScale\":\"s\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"elasticsearch.index.tier : \\\"warm\\\" \"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"gridlinesVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"layers\":[{\"accessors\":[\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"822a3526-e634-42df-bc62-066499acd70c\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"434a78c7-e298-4caa-8886-eea50bc7a3a5\",\"xAccessor\":\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\"},{\"accessors\":[\"447fc06b-2509-48a6-b7f7-4850623124c6\"],\"layerId\":\"4e368752-5363-4136-b66b-e25d1959265e\",\"layerType\":\"referenceLine\",\"yConfig\":[{\"axisMode\":\"left\",\"color\":\"#d6bf57\",\"forAccessor\":\"447fc06b-2509-48a6-b7f7-4850623124c6\"}]}],\"legend\":{\"isVisible\":false,\"legendSize\":\"auto\",\"legendStats\":[\"total\"],\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{},\"type\":\"lens\"},\"title\":\"Warm tier query time\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":7,\"i\":\"de3ea0ae-3799-4970-807c-766b8f042d8c\",\"w\":12,\"x\":24,\"y\":71},\"panelIndex\":\"de3ea0ae-3799-4970-807c-766b8f042d8c\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-822a3526-e634-42df-bc62-066499acd70c\",\"type\":\"index-pattern\"},{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-41db09bf-452f-40fd-a3ab-d94a71aded9d\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"41db09bf-452f-40fd-a3ab-d94a71aded9d\":{\"columnOrder\":[\"bcff16dd-34cd-4238-975f-09feaa22b4cb\"],\"columns\":{\"bcff16dd-34cd-4238-975f-09feaa22b4cb\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"isStaticValue\":true,\"label\":\"1 sec\",\"operationType\":\"static_value\",\"params\":{\"format\":{\"id\":\"duration\",\"params\":{\"decimals\":0,\"toUnit\":\"humanizePrecise\"}},\"value\":\"1\"},\"references\":[],\"scale\":\"ratio\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"linkToLayers\":[],\"sampling\":1},\"822a3526-e634-42df-bc62-066499acd70c\":{\"columnOrder\":[\"434a78c7-e298-4caa-8886-eea50bc7a3a5\",\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\",\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\"],\"columns\":{\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"auto\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"434a78c7-e298-4caa-8886-eea50bc7a3a5\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 9 values of elasticsearch.index.datastream\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":true,\"orderBy\":{\"columnId\":\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":9},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.datastream\"},\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Query time\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"duration\",\"params\":{\"decimals\":0,\"toUnit\":\"humanizePrecise\"}}},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.search.query_time_in_millis_delta\",\"timeScale\":\"s\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"elasticsearch.index.tier : \\\"cold\\\" \"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"gridlinesVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"layers\":[{\"accessors\":[\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"822a3526-e634-42df-bc62-066499acd70c\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"434a78c7-e298-4caa-8886-eea50bc7a3a5\",\"xAccessor\":\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\"},{\"accessors\":[\"bcff16dd-34cd-4238-975f-09feaa22b4cb\"],\"layerId\":\"41db09bf-452f-40fd-a3ab-d94a71aded9d\",\"layerType\":\"referenceLine\",\"yConfig\":[{\"axisMode\":\"left\",\"color\":\"#6092c0\",\"forAccessor\":\"bcff16dd-34cd-4238-975f-09feaa22b4cb\"}]}],\"legend\":{\"isVisible\":false,\"legendSize\":\"auto\",\"legendStats\":[\"total\"],\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{},\"type\":\"lens\"},\"title\":\"Cold tier query time\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":7,\"i\":\"ef20107a-9e49-4eb4-9a8c-5e52c086de88\",\"w\":12,\"x\":36,\"y\":71},\"panelIndex\":\"ef20107a-9e49-4eb4-9a8c-5e52c086de88\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-822a3526-e634-42df-bc62-066499acd70c\",\"type\":\"index-pattern\"},{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-eb413558-a93d-4c8f-9c97-acc29f22f1af\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"822a3526-e634-42df-bc62-066499acd70c\":{\"columnOrder\":[\"434a78c7-e298-4caa-8886-eea50bc7a3a5\",\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\",\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\"],\"columns\":{\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"auto\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"434a78c7-e298-4caa-8886-eea50bc7a3a5\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 9 values of elasticsearch.index.datastream\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":true,\"orderAgg\":{\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Sum of elasticsearch.index.primaries.store.total_data_set_size_in_bytes\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes\"},\"orderBy\":{\"type\":\"custom\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":9},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.datastream\"},\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Query time\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"duration\",\"params\":{\"decimals\":0,\"toUnit\":\"humanizePrecise\"}}},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.search.query_time_in_millis_delta\",\"timeScale\":\"s\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1},\"eb413558-a93d-4c8f-9c97-acc29f22f1af\":{\"columnOrder\":[\"e15e7219-d08c-40f0-8cfe-b0a20c534d3b\"],\"columns\":{\"e15e7219-d08c-40f0-8cfe-b0a20c534d3b\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"isStaticValue\":true,\"label\":\"1 sec\",\"operationType\":\"static_value\",\"params\":{\"format\":{\"id\":\"duration\",\"params\":{\"decimals\":0,\"toUnit\":\"humanizePrecise\"}},\"value\":\"1\"},\"references\":[],\"scale\":\"ratio\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"linkToLayers\":[],\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"elasticsearch.index.tier : \\\"frozen\\\" \"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"gridlinesVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"layers\":[{\"accessors\":[\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"822a3526-e634-42df-bc62-066499acd70c\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"434a78c7-e298-4caa-8886-eea50bc7a3a5\",\"xAccessor\":\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\"},{\"accessors\":[\"e15e7219-d08c-40f0-8cfe-b0a20c534d3b\"],\"layerId\":\"eb413558-a93d-4c8f-9c97-acc29f22f1af\",\"layerType\":\"referenceLine\",\"yConfig\":[{\"axisMode\":\"left\",\"color\":\"#54b399\",\"forAccessor\":\"e15e7219-d08c-40f0-8cfe-b0a20c534d3b\"}]}],\"legend\":{\"isVisible\":false,\"legendSize\":\"auto\",\"legendStats\":[\"total\"],\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{},\"type\":\"lens\"},\"title\":\"Frozen tier query time\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":7,\"i\":\"21cca054-bed6-4ebd-845c-5bf4ead349eb\",\"w\":12,\"x\":0,\"y\":78},\"panelIndex\":\"21cca054-bed6-4ebd-845c-5bf4ead349eb\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-3b24a44c-d134-4125-bd87-e0bce0a48560\",\"type\":\"index-pattern\"},{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-5d49b728-1e9a-40f8-a939-7da27abb1b71\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"3b24a44c-d134-4125-bd87-e0bce0a48560\":{\"columnOrder\":[\"afb0f21e-d655-4bf6-858a-0b08ec20e29d\",\"699379e9-4da9-4b94-9572-b787b4fab3f1\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X2\"],\"columns\":{\"3bc3b43f-6be7-4630-abe1-a3dec469b294\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total store\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":0}},\"formula\":\"sum(elasticsearch.index.total.store.size_in_bytes)/(interval()/1000/60/10)\",\"isFormulaBroken\":false},\"references\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X2\"],\"scale\":\"ratio\"},\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total store\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.store.size_in_bytes\"},\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total store\",\"operationType\":\"interval\",\"references\":[],\"scale\":\"ratio\"},\"3bc3b43f-6be7-4630-abe1-a3dec469b294X2\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total store\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\",{\"args\":[{\"args\":[{\"args\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\",1000],\"name\":\"divide\",\"type\":\"function\"},60],\"name\":\"divide\",\"type\":\"function\"},10],\"location\":{\"max\":73,\"min\":52},\"name\":\"divide\",\"text\":\"interval()/1000/60/10\",\"type\":\"function\"}],\"location\":{\"max\":74,\"min\":0},\"name\":\"divide\",\"text\":\"sum(elasticsearch.index.total.store.size_in_bytes)/(interval()/1000/60/10)\",\"type\":\"function\"}},\"references\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\"],\"scale\":\"ratio\"},\"699379e9-4da9-4b94-9572-b787b4fab3f1\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"auto\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"afb0f21e-d655-4bf6-858a-0b08ec20e29d\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 9 values of elasticsearch.index.datastream\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderAgg\":{\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Sum of elasticsearch.index.total.store.size_in_bytes\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.store.size_in_bytes\"},\"orderBy\":{\"type\":\"custom\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":9},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.datastream\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1},\"5d49b728-1e9a-40f8-a939-7da27abb1b71\":{\"columnOrder\":[\"46d0db0c-4ef7-4c45-9836-0a95675c1e35\"],\"columns\":{\"46d0db0c-4ef7-4c45-9836-0a95675c1e35\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"isStaticValue\":true,\"label\":\"1 TB\",\"operationType\":\"static_value\",\"params\":{\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":2}},\"value\":\"1000000000000\"},\"references\":[],\"scale\":\"ratio\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"linkToLayers\":[],\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"elasticsearch.index.tier : \\\"hot/content\\\" \"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"gridlinesVisibilitySettings\":{\"x\":false,\"yLeft\":true,\"yRight\":true},\"layers\":[{\"accessors\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294\"],\"collapseFn\":\"\",\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"3b24a44c-d134-4125-bd87-e0bce0a48560\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"afb0f21e-d655-4bf6-858a-0b08ec20e29d\",\"xAccessor\":\"699379e9-4da9-4b94-9572-b787b4fab3f1\"},{\"accessors\":[\"46d0db0c-4ef7-4c45-9836-0a95675c1e35\"],\"layerId\":\"5d49b728-1e9a-40f8-a939-7da27abb1b71\",\"layerType\":\"referenceLine\",\"yConfig\":[{\"axisMode\":\"left\",\"color\":\"#e7664c\",\"forAccessor\":\"46d0db0c-4ef7-4c45-9836-0a95675c1e35\"}]}],\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":false,\"yLeft\":true,\"yRight\":true},\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{},\"type\":\"lens\"},\"title\":\"Hot tier storage\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":7,\"i\":\"bc3cfce8-694e-4c04-b182-ae5d9867303d\",\"w\":12,\"x\":12,\"y\":78},\"panelIndex\":\"bc3cfce8-694e-4c04-b182-ae5d9867303d\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-2aa16cab-7176-4460-86c9-13c3ba5db470\",\"type\":\"index-pattern\"},{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-3b24a44c-d134-4125-bd87-e0bce0a48560\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"2aa16cab-7176-4460-86c9-13c3ba5db470\":{\"columnOrder\":[\"62f3356c-a5e8-499b-8f7d-5bbcdd8f1232\"],\"columns\":{\"62f3356c-a5e8-499b-8f7d-5bbcdd8f1232\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"isStaticValue\":true,\"label\":\"1 TB\",\"operationType\":\"static_value\",\"params\":{\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":2}},\"value\":\"1000000000000\"},\"references\":[],\"scale\":\"ratio\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"linkToLayers\":[],\"sampling\":1},\"3b24a44c-d134-4125-bd87-e0bce0a48560\":{\"columnOrder\":[\"afb0f21e-d655-4bf6-858a-0b08ec20e29d\",\"699379e9-4da9-4b94-9572-b787b4fab3f1\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X2\"],\"columns\":{\"3bc3b43f-6be7-4630-abe1-a3dec469b294\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total store\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":0}},\"formula\":\"sum(elasticsearch.index.total.store.size_in_bytes)/(interval()/1000/60/10)\",\"isFormulaBroken\":false},\"references\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X2\"],\"scale\":\"ratio\"},\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total store\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.store.size_in_bytes\"},\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total store\",\"operationType\":\"interval\",\"references\":[],\"scale\":\"ratio\"},\"3bc3b43f-6be7-4630-abe1-a3dec469b294X2\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total store\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\",{\"args\":[{\"args\":[{\"args\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\",1000],\"name\":\"divide\",\"type\":\"function\"},60],\"name\":\"divide\",\"type\":\"function\"},10],\"location\":{\"max\":73,\"min\":52},\"name\":\"divide\",\"text\":\"interval()/1000/60/10\",\"type\":\"function\"}],\"location\":{\"max\":74,\"min\":0},\"name\":\"divide\",\"text\":\"sum(elasticsearch.index.total.store.size_in_bytes)/(interval()/1000/60/10)\",\"type\":\"function\"}},\"references\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\"],\"scale\":\"ratio\"},\"699379e9-4da9-4b94-9572-b787b4fab3f1\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"auto\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"afb0f21e-d655-4bf6-858a-0b08ec20e29d\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 9 values of elasticsearch.index.datastream\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderAgg\":{\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Sum of elasticsearch.index.total.store.size_in_bytes\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.store.size_in_bytes\"},\"orderBy\":{\"type\":\"custom\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":9},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.datastream\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"elasticsearch.index.tier : \\\"warm\\\" \"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"gridlinesVisibilitySettings\":{\"x\":false,\"yLeft\":true,\"yRight\":true},\"layers\":[{\"accessors\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294\"],\"collapseFn\":\"\",\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"3b24a44c-d134-4125-bd87-e0bce0a48560\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"afb0f21e-d655-4bf6-858a-0b08ec20e29d\",\"xAccessor\":\"699379e9-4da9-4b94-9572-b787b4fab3f1\"},{\"accessors\":[\"62f3356c-a5e8-499b-8f7d-5bbcdd8f1232\"],\"layerId\":\"2aa16cab-7176-4460-86c9-13c3ba5db470\",\"layerType\":\"referenceLine\",\"yConfig\":[{\"axisMode\":\"left\",\"color\":\"#d6bf57\",\"forAccessor\":\"62f3356c-a5e8-499b-8f7d-5bbcdd8f1232\"}]}],\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":false,\"yLeft\":true,\"yRight\":true},\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{},\"type\":\"lens\"},\"title\":\"Warm tier storage\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":7,\"i\":\"d750b6cc-8aee-4f75-823e-162a55c4cd0c\",\"w\":12,\"x\":24,\"y\":78},\"panelIndex\":\"d750b6cc-8aee-4f75-823e-162a55c4cd0c\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-3b24a44c-d134-4125-bd87-e0bce0a48560\",\"type\":\"index-pattern\"},{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-aa5e7aee-292f-4454-bf68-11c695c29889\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"3b24a44c-d134-4125-bd87-e0bce0a48560\":{\"columnOrder\":[\"afb0f21e-d655-4bf6-858a-0b08ec20e29d\",\"699379e9-4da9-4b94-9572-b787b4fab3f1\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X2\"],\"columns\":{\"3bc3b43f-6be7-4630-abe1-a3dec469b294\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total store\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":0}},\"formula\":\"sum(elasticsearch.index.total.store.size_in_bytes)/(interval()/1000/60/10)\",\"isFormulaBroken\":false},\"references\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X2\"],\"scale\":\"ratio\"},\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total store\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.store.size_in_bytes\"},\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total store\",\"operationType\":\"interval\",\"references\":[],\"scale\":\"ratio\"},\"3bc3b43f-6be7-4630-abe1-a3dec469b294X2\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total store\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\",{\"args\":[{\"args\":[{\"args\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\",1000],\"name\":\"divide\",\"type\":\"function\"},60],\"name\":\"divide\",\"type\":\"function\"},10],\"location\":{\"max\":73,\"min\":52},\"name\":\"divide\",\"text\":\"interval()/1000/60/10\",\"type\":\"function\"}],\"location\":{\"max\":74,\"min\":0},\"name\":\"divide\",\"text\":\"sum(elasticsearch.index.total.store.size_in_bytes)/(interval()/1000/60/10)\",\"type\":\"function\"}},\"references\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\"],\"scale\":\"ratio\"},\"699379e9-4da9-4b94-9572-b787b4fab3f1\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"auto\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"afb0f21e-d655-4bf6-858a-0b08ec20e29d\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 9 values of elasticsearch.index.datastream\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderAgg\":{\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Sum of elasticsearch.index.total.store.size_in_bytes\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.store.size_in_bytes\"},\"orderBy\":{\"type\":\"custom\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":9},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.datastream\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1},\"aa5e7aee-292f-4454-bf68-11c695c29889\":{\"columnOrder\":[\"e941594e-11bd-412f-a67f-8db204ad810e\"],\"columns\":{\"e941594e-11bd-412f-a67f-8db204ad810e\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"isStaticValue\":true,\"label\":\"1 TB\",\"operationType\":\"static_value\",\"params\":{\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":2}},\"value\":\"1000000000000\"},\"references\":[],\"scale\":\"ratio\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"linkToLayers\":[],\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"elasticsearch.index.tier : \\\"cold\\\" \"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"gridlinesVisibilitySettings\":{\"x\":false,\"yLeft\":true,\"yRight\":true},\"layers\":[{\"accessors\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294\"],\"collapseFn\":\"\",\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"3b24a44c-d134-4125-bd87-e0bce0a48560\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"afb0f21e-d655-4bf6-858a-0b08ec20e29d\",\"xAccessor\":\"699379e9-4da9-4b94-9572-b787b4fab3f1\"},{\"accessors\":[\"e941594e-11bd-412f-a67f-8db204ad810e\"],\"layerId\":\"aa5e7aee-292f-4454-bf68-11c695c29889\",\"layerType\":\"referenceLine\",\"yConfig\":[{\"axisMode\":\"left\",\"color\":\"#6092c0\",\"forAccessor\":\"e941594e-11bd-412f-a67f-8db204ad810e\"}]}],\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":false,\"yLeft\":true,\"yRight\":true},\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{},\"type\":\"lens\"},\"title\":\"Cold tier storage\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":7,\"i\":\"641a7623-77d6-4a3a-acac-4ce77f1741eb\",\"w\":12,\"x\":36,\"y\":78},\"panelIndex\":\"641a7623-77d6-4a3a-acac-4ce77f1741eb\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-3b24a44c-d134-4125-bd87-e0bce0a48560\",\"type\":\"index-pattern\"},{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-e13b0575-8422-41ed-bbbf-f53992e88060\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"3b24a44c-d134-4125-bd87-e0bce0a48560\":{\"columnOrder\":[\"afb0f21e-d655-4bf6-858a-0b08ec20e29d\",\"699379e9-4da9-4b94-9572-b787b4fab3f1\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X2\"],\"columns\":{\"3bc3b43f-6be7-4630-abe1-a3dec469b294\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total store\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":0}},\"formula\":\"sum(elasticsearch.index.primaries.store.total_data_set_size_in_bytes)/(interval()/1000/60/10)\",\"isFormulaBroken\":false},\"references\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X2\"],\"scale\":\"ratio\"},\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total store\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes\"},\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total store\",\"operationType\":\"interval\",\"references\":[],\"scale\":\"ratio\"},\"3bc3b43f-6be7-4630-abe1-a3dec469b294X2\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total store\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\",{\"args\":[{\"args\":[{\"args\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\",1000],\"name\":\"divide\",\"type\":\"function\"},60],\"name\":\"divide\",\"type\":\"function\"},10],\"location\":{\"max\":92,\"min\":71},\"name\":\"divide\",\"text\":\"interval()/1000/60/10\",\"type\":\"function\"}],\"location\":{\"max\":93,\"min\":0},\"name\":\"divide\",\"text\":\"sum(elasticsearch.index.primaries.store.total_data_set_size_in_bytes)/(interval()/1000/60/10)\",\"type\":\"function\"}},\"references\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\"],\"scale\":\"ratio\"},\"699379e9-4da9-4b94-9572-b787b4fab3f1\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"auto\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"afb0f21e-d655-4bf6-858a-0b08ec20e29d\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 9 values of elasticsearch.index.datastream\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderAgg\":{\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Sum of elasticsearch.index.primaries.store.total_data_set_size_in_bytes\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes\"},\"orderBy\":{\"type\":\"custom\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":9},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.datastream\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1},\"e13b0575-8422-41ed-bbbf-f53992e88060\":{\"columnOrder\":[\"56df1c33-e9f7-474d-b06b-a66e32e6708e\"],\"columns\":{\"56df1c33-e9f7-474d-b06b-a66e32e6708e\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"isStaticValue\":true,\"label\":\"1 TB\",\"operationType\":\"static_value\",\"params\":{\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":2}},\"value\":\"1000000000000\"},\"references\":[],\"scale\":\"ratio\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"linkToLayers\":[],\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"elasticsearch.index.tier : \\\"frozen\\\" \"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"gridlinesVisibilitySettings\":{\"x\":false,\"yLeft\":true,\"yRight\":true},\"layers\":[{\"accessors\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294\"],\"collapseFn\":\"\",\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"3b24a44c-d134-4125-bd87-e0bce0a48560\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"afb0f21e-d655-4bf6-858a-0b08ec20e29d\",\"xAccessor\":\"699379e9-4da9-4b94-9572-b787b4fab3f1\"},{\"accessors\":[\"56df1c33-e9f7-474d-b06b-a66e32e6708e\"],\"layerId\":\"e13b0575-8422-41ed-bbbf-f53992e88060\",\"layerType\":\"referenceLine\",\"yConfig\":[{\"axisMode\":\"left\",\"color\":\"#54b399\",\"forAccessor\":\"56df1c33-e9f7-474d-b06b-a66e32e6708e\"}]}],\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"tickLabelsVisibilitySettings\":{\"x\":false,\"yLeft\":true,\"yRight\":true},\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{},\"type\":\"lens\"},\"title\":\"Frozen tier backing storage\",\"version\":\"8.9.0\"},{\"type\":\"visualization\",\"gridData\":{\"h\":4,\"i\":\"72ad567c-8988-4902-bd11-9f84265dd32d\",\"w\":48,\"x\":0,\"y\":85},\"panelIndex\":\"72ad567c-8988-4902-bd11-9f84265dd32d\",\"embeddableConfig\":{\"enhancements\":{},\"hidePanelTitles\":true,\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"# 💾 Storage\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}},\"type\":\"visualization\"},\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":13,\"i\":\"b9744f71-a2b7-430c-a4c6-564367bf13bb\",\"w\":48,\"x\":0,\"y\":89},\"panelIndex\":\"b9744f71-a2b7-430c-a4c6-564367bf13bb\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-3b24a44c-d134-4125-bd87-e0bce0a48560\",\"type\":\"index-pattern\"},{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-1f91aa94-832f-45f8-9bdb-6024d8cea081\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"1f91aa94-832f-45f8-9bdb-6024d8cea081\":{\"columnOrder\":[\"cf32a75b-f1fd-49bc-a72a-bba8d097d0ab\",\"f39e140d-6b5f-4a2a-8946-87d63bce8574\",\"8747cf7a-f5e3-4934-b43d-d700754fc694\",\"ccb82814-39c4-4e93-ac46-6b257c02e5b8\",\"5ac78812-d3eb-4346-9f59-016e75b42bec\",\"c8e03ea2-8f7d-46e2-b7db-83977f47bb68\",\"8747cf7a-f5e3-4934-b43d-d700754fc694X0\",\"8747cf7a-f5e3-4934-b43d-d700754fc694X1\",\"8747cf7a-f5e3-4934-b43d-d700754fc694X2\"],\"columns\":{\"5ac78812-d3eb-4346-9f59-016e75b42bec\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Primary store\",\"operationType\":\"unique_count\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"@timestamp\"},\"8747cf7a-f5e3-4934-b43d-d700754fc694\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total searchable store\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":2}},\"formula\":\"sum(elasticsearch.index.primaries.store.total_data_set_size_in_bytes)/unique_count(@timestamp)\",\"isFormulaBroken\":false},\"references\":[\"8747cf7a-f5e3-4934-b43d-d700754fc694X2\"],\"scale\":\"ratio\"},\"8747cf7a-f5e3-4934-b43d-d700754fc694X0\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total Primary store\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes\"},\"8747cf7a-f5e3-4934-b43d-d700754fc694X1\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total Primary store\",\"operationType\":\"unique_count\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"@timestamp\"},\"8747cf7a-f5e3-4934-b43d-d700754fc694X2\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total Primary store\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[\"8747cf7a-f5e3-4934-b43d-d700754fc694X0\",\"8747cf7a-f5e3-4934-b43d-d700754fc694X1\"],\"location\":{\"max\":94,\"min\":0},\"name\":\"divide\",\"text\":\"sum(elasticsearch.index.primaries.store.total_data_set_size_in_bytes)/unique_count(@timestamp)\",\"type\":\"function\"}},\"references\":[\"8747cf7a-f5e3-4934-b43d-d700754fc694X0\",\"8747cf7a-f5e3-4934-b43d-d700754fc694X1\"],\"scale\":\"ratio\"},\"c8e03ea2-8f7d-46e2-b7db-83977f47bb68\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Primary store\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[\"ccb82814-39c4-4e93-ac46-6b257c02e5b8\",\"5ac78812-d3eb-4346-9f59-016e75b42bec\"],\"location\":{\"max\":94,\"min\":0},\"name\":\"divide\",\"text\":\"sum(elasticsearch.index.primaries.store.total_data_set_size_in_bytes)/unique_count(@timestamp)\",\"type\":\"function\"}},\"references\":[\"ccb82814-39c4-4e93-ac46-6b257c02e5b8\",\"5ac78812-d3eb-4346-9f59-016e75b42bec\"],\"scale\":\"ratio\"},\"ccb82814-39c4-4e93-ac46-6b257c02e5b8\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Primary store\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes\"},\"cf32a75b-f1fd-49bc-a72a-bba8d097d0ab\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top value of elasticsearch.index.datastream\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderAgg\":{\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Sum of elasticsearch.index.primaries.store.total_data_set_size_in_bytes\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes\"},\"orderBy\":{\"type\":\"custom\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":1},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.datastream\"},\"f39e140d-6b5f-4a2a-8946-87d63bce8574\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"auto\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1},\"3b24a44c-d134-4125-bd87-e0bce0a48560\":{\"columnOrder\":[\"afb0f21e-d655-4bf6-858a-0b08ec20e29d\",\"699379e9-4da9-4b94-9572-b787b4fab3f1\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X2\"],\"columns\":{\"3bc3b43f-6be7-4630-abe1-a3dec469b294\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Primary store\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":2}},\"formula\":\"sum(elasticsearch.index.primaries.store.total_data_set_size_in_bytes)/unique_count(@timestamp)\",\"isFormulaBroken\":false},\"references\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X2\"],\"scale\":\"ratio\"},\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Primary store\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes\"},\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Primary store\",\"operationType\":\"unique_count\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"@timestamp\"},\"3bc3b43f-6be7-4630-abe1-a3dec469b294X2\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Primary store\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\"],\"location\":{\"max\":94,\"min\":0},\"name\":\"divide\",\"text\":\"sum(elasticsearch.index.primaries.store.total_data_set_size_in_bytes)/unique_count(@timestamp)\",\"type\":\"function\"}},\"references\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\"],\"scale\":\"ratio\"},\"699379e9-4da9-4b94-9572-b787b4fab3f1\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"auto\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"afb0f21e-d655-4bf6-858a-0b08ec20e29d\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 9 values of elasticsearch.index.datastream\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderAgg\":{\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Sum of elasticsearch.index.primaries.store.total_data_set_size_in_bytes\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes\"},\"orderBy\":{\"type\":\"custom\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":9},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.datastream\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"layers\":[{\"accessors\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294\"],\"collapseFn\":\"\",\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"3b24a44c-d134-4125-bd87-e0bce0a48560\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"afb0f21e-d655-4bf6-858a-0b08ec20e29d\",\"xAccessor\":\"699379e9-4da9-4b94-9572-b787b4fab3f1\"},{\"accessors\":[\"8747cf7a-f5e3-4934-b43d-d700754fc694\"],\"collapseFn\":\"sum\",\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"1f91aa94-832f-45f8-9bdb-6024d8cea081\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"line\",\"showGridlines\":false,\"splitAccessor\":\"cf32a75b-f1fd-49bc-a72a-bba8d097d0ab\",\"xAccessor\":\"f39e140d-6b5f-4a2a-8946-87d63bce8574\",\"yConfig\":[{\"color\":\"#000000\",\"forAccessor\":\"8747cf7a-f5e3-4934-b43d-d700754fc694\"}]}],\"legend\":{\"isVisible\":true,\"legendSize\":\"auto\",\"legendStats\":[\"average\"],\"position\":\"right\",\"showSingleSeries\":true},\"preferredSeriesType\":\"line\",\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"description\":\"This excludes replications, and considers the backing store size for partially mounted snapshots.\",\"enhancements\":{},\"type\":\"lens\"},\"title\":\"Per data stream searchable store\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":8,\"i\":\"37b0cdea-57e8-4ceb-920b-cac975544a6b\",\"w\":48,\"x\":0,\"y\":102},\"panelIndex\":\"37b0cdea-57e8-4ceb-920b-cac975544a6b\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-3b24a44c-d134-4125-bd87-e0bce0a48560\",\"type\":\"index-pattern\"},{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-daeba258-8914-47f2-ab61-5a6ee0601728\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"3b24a44c-d134-4125-bd87-e0bce0a48560\":{\"columnOrder\":[\"afb0f21e-d655-4bf6-858a-0b08ec20e29d\",\"699379e9-4da9-4b94-9572-b787b4fab3f1\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X2\"],\"columns\":{\"3bc3b43f-6be7-4630-abe1-a3dec469b294\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Primary store\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":2}},\"formula\":\"sum(elasticsearch.index.primaries.store.total_data_set_size_in_bytes)/unique_count(@timestamp)\",\"isFormulaBroken\":false},\"references\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X2\"],\"scale\":\"ratio\"},\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Primary store\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes\"},\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Primary store\",\"operationType\":\"unique_count\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"@timestamp\"},\"3bc3b43f-6be7-4630-abe1-a3dec469b294X2\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Primary store\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\"],\"location\":{\"max\":94,\"min\":0},\"name\":\"divide\",\"text\":\"sum(elasticsearch.index.primaries.store.total_data_set_size_in_bytes)/unique_count(@timestamp)\",\"type\":\"function\"}},\"references\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294X0\",\"3bc3b43f-6be7-4630-abe1-a3dec469b294X1\"],\"scale\":\"ratio\"},\"699379e9-4da9-4b94-9572-b787b4fab3f1\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"auto\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"afb0f21e-d655-4bf6-858a-0b08ec20e29d\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 9 values of elasticsearch.index.tier\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderAgg\":{\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Sum of elasticsearch.index.primaries.store.total_data_set_size_in_bytes\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes\"},\"orderBy\":{\"type\":\"custom\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"secondaryFields\":[],\"size\":9},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.tier\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1},\"daeba258-8914-47f2-ab61-5a6ee0601728\":{\"columnOrder\":[\"129f04c6-ad69-4110-be3c-1a35a343cb49\",\"1111f45b-80ca-46b6-8397-3814fa244e0e\",\"2dee9ef1-a274-43fc-b42c-5ac87776907c\",\"97cffa01-d576-4261-84e1-a75a69d61990\",\"5bf421b6-f90e-453e-bbeb-e1682795d136\",\"d043f3b3-b183-4f58-b9ee-368502273211\",\"2dee9ef1-a274-43fc-b42c-5ac87776907cX0\",\"2dee9ef1-a274-43fc-b42c-5ac87776907cX1\",\"2dee9ef1-a274-43fc-b42c-5ac87776907cX2\"],\"columns\":{\"1111f45b-80ca-46b6-8397-3814fa244e0e\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"auto\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"129f04c6-ad69-4110-be3c-1a35a343cb49\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top value of elasticsearch.index.tier\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":false,\"orderAgg\":{\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Sum of elasticsearch.index.primaries.store.total_data_set_size_in_bytes\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes\"},\"orderBy\":{\"type\":\"custom\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"secondaryFields\":[],\"size\":1},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.tier\"},\"2dee9ef1-a274-43fc-b42c-5ac87776907c\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total searchable store\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":2}},\"formula\":\"sum(elasticsearch.index.primaries.store.total_data_set_size_in_bytes)/unique_count(@timestamp)\",\"isFormulaBroken\":false},\"references\":[\"2dee9ef1-a274-43fc-b42c-5ac87776907cX2\"],\"scale\":\"ratio\"},\"2dee9ef1-a274-43fc-b42c-5ac87776907cX0\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total searchable store\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes\"},\"2dee9ef1-a274-43fc-b42c-5ac87776907cX1\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total searchable store\",\"operationType\":\"unique_count\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"@timestamp\"},\"2dee9ef1-a274-43fc-b42c-5ac87776907cX2\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total searchable store\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[\"2dee9ef1-a274-43fc-b42c-5ac87776907cX0\",\"2dee9ef1-a274-43fc-b42c-5ac87776907cX1\"],\"location\":{\"max\":94,\"min\":0},\"name\":\"divide\",\"text\":\"sum(elasticsearch.index.primaries.store.total_data_set_size_in_bytes)/unique_count(@timestamp)\",\"type\":\"function\"}},\"references\":[\"2dee9ef1-a274-43fc-b42c-5ac87776907cX0\",\"2dee9ef1-a274-43fc-b42c-5ac87776907cX1\"],\"scale\":\"ratio\"},\"5bf421b6-f90e-453e-bbeb-e1682795d136\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Primary store\",\"operationType\":\"unique_count\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"@timestamp\"},\"97cffa01-d576-4261-84e1-a75a69d61990\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Primary store\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes\"},\"d043f3b3-b183-4f58-b9ee-368502273211\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Primary store\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[\"97cffa01-d576-4261-84e1-a75a69d61990\",\"5bf421b6-f90e-453e-bbeb-e1682795d136\"],\"location\":{\"max\":94,\"min\":0},\"name\":\"divide\",\"text\":\"sum(elasticsearch.index.primaries.store.total_data_set_size_in_bytes)/unique_count(@timestamp)\",\"type\":\"function\"}},\"references\":[\"97cffa01-d576-4261-84e1-a75a69d61990\",\"5bf421b6-f90e-453e-bbeb-e1682795d136\"],\"scale\":\"ratio\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"layers\":[{\"accessors\":[\"3bc3b43f-6be7-4630-abe1-a3dec469b294\"],\"collapseFn\":\"\",\"colorMapping\":{\"assignments\":[{\"color\":{\"colorIndex\":2,\"paletteId\":\"neutral\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"unknown\"]},\"touched\":true},{\"color\":{\"colorIndex\":9,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"hot/content\"]},\"touched\":true},{\"color\":{\"colorIndex\":5,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"warm\"]},\"touched\":true},{\"color\":{\"colorIndex\":1,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"cold\"]},\"touched\":true},{\"color\":{\"colorIndex\":0,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"frozen\"]},\"touched\":true}],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"3b24a44c-d134-4125-bd87-e0bce0a48560\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"afb0f21e-d655-4bf6-858a-0b08ec20e29d\",\"xAccessor\":\"699379e9-4da9-4b94-9572-b787b4fab3f1\"},{\"accessors\":[\"2dee9ef1-a274-43fc-b42c-5ac87776907c\"],\"collapseFn\":\"sum\",\"colorMapping\":{\"assignments\":[{\"color\":{\"colorIndex\":2,\"paletteId\":\"neutral\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"unknown\"]},\"touched\":true},{\"color\":{\"colorIndex\":9,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"hot/content\"]},\"touched\":true},{\"color\":{\"colorIndex\":5,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"warm\"]},\"touched\":true},{\"color\":{\"colorIndex\":1,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"cold\"]},\"touched\":true},{\"color\":{\"colorIndex\":0,\"paletteId\":\"eui_amsterdam_color_blind\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"frozen\"]},\"touched\":true}],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"daeba258-8914-47f2-ab61-5a6ee0601728\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"line\",\"showGridlines\":false,\"splitAccessor\":\"129f04c6-ad69-4110-be3c-1a35a343cb49\",\"xAccessor\":\"1111f45b-80ca-46b6-8397-3814fa244e0e\",\"yConfig\":[{\"color\":\"#000000\",\"forAccessor\":\"2dee9ef1-a274-43fc-b42c-5ac87776907c\"}]}],\"legend\":{\"isVisible\":false,\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"line\",\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"description\":\"This excludes replications, and considers the backing store size for partially mounted snapshots.\",\"enhancements\":{},\"type\":\"lens\"},\"title\":\"Searchable store per tier\",\"version\":\"8.9.0\"},{\"type\":\"visualization\",\"gridData\":{\"h\":4,\"i\":\"fd5c239e-63c1-4bf4-ba31-7eec79287a00\",\"w\":48,\"x\":0,\"y\":110},\"panelIndex\":\"fd5c239e-63c1-4bf4-ba31-7eec79287a00\",\"embeddableConfig\":{\"enhancements\":{},\"hidePanelTitles\":true,\"savedVis\":{\"data\":{\"aggs\":[],\"searchSource\":{\"filter\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"}}},\"description\":\"\",\"params\":{\"fontSize\":12,\"markdown\":\"# 🚀 Ingest\",\"openLinksInNewTab\":false},\"title\":\"\",\"type\":\"markdown\",\"uiState\":{}},\"type\":\"visualization\"},\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":14,\"i\":\"6e206a73-2e45-4b44-abfb-58703f66c37f\",\"w\":48,\"x\":0,\"y\":114},\"panelIndex\":\"6e206a73-2e45-4b44-abfb-58703f66c37f\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-822a3526-e634-42df-bc62-066499acd70c\",\"type\":\"index-pattern\"},{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-01afa5ba-9fd1-48dd-ac5f-944c1f6da71c\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"01afa5ba-9fd1-48dd-ac5f-944c1f6da71c\":{\"columnOrder\":[\"a0bd0588-cc4a-4800-87b9-fe8bf95d119e\",\"a72f5105-71dc-42f0-8671-a61764c1cd51\",\"06579072-f0b0-455a-ad98-25472d7ede5f\"],\"columns\":{\"06579072-f0b0-455a-ad98-25472d7ede5f\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total ingest\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"decimals\":0,\"suffix\":\" doc\"}}},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.docs.count_delta\",\"timeScale\":\"s\"},\"a0bd0588-cc4a-4800-87b9-fe8bf95d119e\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top value of elasticsearch.index.datastream\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":true,\"orderBy\":{\"columnId\":\"06579072-f0b0-455a-ad98-25472d7ede5f\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":1},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.datastream\"},\"a72f5105-71dc-42f0-8671-a61764c1cd51\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":true,\"includeEmptyRows\":true,\"interval\":\"auto\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1},\"822a3526-e634-42df-bc62-066499acd70c\":{\"columnOrder\":[\"434a78c7-e298-4caa-8886-eea50bc7a3a5\",\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\",\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\"],\"columns\":{\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":true,\"includeEmptyRows\":true,\"interval\":\"auto\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"434a78c7-e298-4caa-8886-eea50bc7a3a5\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 9 values of elasticsearch.index.datastream\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":true,\"orderBy\":{\"columnId\":\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":9},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.datastream\"},\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Document count\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"decimals\":0,\"suffix\":\" doc\"}}},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.docs.count_delta\",\"timeScale\":\"s\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":false,\"yRight\":true},\"layers\":[{\"accessors\":[\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"822a3526-e634-42df-bc62-066499acd70c\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"area_stacked\",\"showGridlines\":false,\"splitAccessor\":\"434a78c7-e298-4caa-8886-eea50bc7a3a5\",\"xAccessor\":\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\"},{\"accessors\":[\"06579072-f0b0-455a-ad98-25472d7ede5f\"],\"collapseFn\":\"sum\",\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"01afa5ba-9fd1-48dd-ac5f-944c1f6da71c\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"line\",\"showGridlines\":false,\"splitAccessor\":\"a0bd0588-cc4a-4800-87b9-fe8bf95d119e\",\"xAccessor\":\"a72f5105-71dc-42f0-8671-a61764c1cd51\",\"yConfig\":[{\"color\":\"#000000\",\"forAccessor\":\"06579072-f0b0-455a-ad98-25472d7ede5f\"}]}],\"legend\":{\"isVisible\":true,\"legendSize\":\"auto\",\"legendStats\":[\"average\"],\"position\":\"right\",\"showSingleSeries\":true},\"preferredSeriesType\":\"line\",\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"enhancements\":{},\"type\":\"lens\"},\"title\":\"Ingest by data stream (primary documents)\",\"version\":\"8.9.0\"},{\"type\":\"lens\",\"gridData\":{\"h\":14,\"i\":\"61ab4612-491b-449f-b6d7-30bd33f0dbc0\",\"w\":48,\"x\":0,\"y\":128},\"panelIndex\":\"61ab4612-491b-449f-b6d7-30bd33f0dbc0\",\"embeddableConfig\":{\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-822a3526-e634-42df-bc62-066499acd70c\",\"type\":\"index-pattern\"},{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-f5c42521-8df2-4469-afd1-45cc86a9f48d\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"822a3526-e634-42df-bc62-066499acd70c\":{\"columnOrder\":[\"434a78c7-e298-4caa-8886-eea50bc7a3a5\",\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\",\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\"],\"columns\":{\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"auto\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"434a78c7-e298-4caa-8886-eea50bc7a3a5\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 9 values of elasticsearch.index.datastream\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":true,\"orderBy\":{\"columnId\":\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":9},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.datastream\"},\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Primary write\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":0}}},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes_delta\",\"timeScale\":\"s\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1},\"f5c42521-8df2-4469-afd1-45cc86a9f48d\":{\"columnOrder\":[\"394ef20d-8221-4750-bd81-83ce6c4afc58\",\"7797267c-97f1-4250-8218-b323d7764ab9\",\"8068e698-558b-45dc-9c6e-5b227d801a63\"],\"columns\":{\"394ef20d-8221-4750-bd81-83ce6c4afc58\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top value of elasticsearch.index.datastream\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":true,\"orderBy\":{\"columnId\":\"8068e698-558b-45dc-9c6e-5b227d801a63\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":1},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.datastream\"},\"7797267c-97f1-4250-8218-b323d7764ab9\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"auto\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"8068e698-558b-45dc-9c6e-5b227d801a63\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total primary write\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":0}}},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes_delta\",\"timeScale\":\"s\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":true,\"yLeft\":false,\"yRight\":true},\"layers\":[{\"accessors\":[\"9459caaf-7916-4595-9a1e-8005a0ee9fd8\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"822a3526-e634-42df-bc62-066499acd70c\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"area_stacked\",\"showGridlines\":false,\"splitAccessor\":\"434a78c7-e298-4caa-8886-eea50bc7a3a5\",\"xAccessor\":\"3f3111cc-3c88-4973-9bb7-f45c5a29d425\"},{\"accessors\":[\"8068e698-558b-45dc-9c6e-5b227d801a63\"],\"collapseFn\":\"sum\",\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"f5c42521-8df2-4469-afd1-45cc86a9f48d\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"line\",\"showGridlines\":false,\"splitAccessor\":\"394ef20d-8221-4750-bd81-83ce6c4afc58\",\"xAccessor\":\"7797267c-97f1-4250-8218-b323d7764ab9\",\"yConfig\":[{\"color\":\"#000000\",\"forAccessor\":\"8068e698-558b-45dc-9c6e-5b227d801a63\"}]}],\"legend\":{\"isVisible\":true,\"legendSize\":\"auto\",\"legendStats\":[\"average\"],\"position\":\"right\",\"showSingleSeries\":true},\"preferredSeriesType\":\"line\",\"title\":\"Empty XY chart\",\"valueLabels\":\"hide\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"},\"description\":\"⚠️ Please note that this line can appear \\\"jittery\\\" because of the underlying merge activity of the cluster.\",\"enhancements\":{},\"type\":\"lens\"},\"title\":\"Ingest by data stream (primary volume)\",\"version\":\"8.9.0\"}]","timeRestore":false,"title":"[Elasticsearch] Indices & data streams usage (Technical Preview/Beta)","version":2},"coreMigrationVersion":"8.8.0","created_at":"2025-06-30T05:33:49.750Z","id":"elasticsearch-consumption","managed":true,"references":[{"id":"elasticsearch-monitoringindices","name":"d7718890-b67b-47ae-84d4-d945d08ec417:indexpattern-datasource-layer-ce1c04fd-9867-4587-a278-1ab22b07025a","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"54629a0d-032e-44ba-8f82-d114c85f9a54:indexpattern-datasource-layer-ce1c04fd-9867-4587-a278-1ab22b07025a","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"a5bd290f-9b98-42a0-b14e-15641e867cbe:indexpattern-datasource-layer-eeca0af0-bff1-4191-b037-ce6826795f04","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"68c7d1e7-5690-4971-8236-fed745af57bc:indexpattern-datasource-layer-ce1c04fd-9867-4587-a278-1ab22b07025a","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"68c7d1e7-5690-4971-8236-fed745af57bc:indexpattern-datasource-layer-4051b87f-a170-41a8-a602-641c1fd02750","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"4dcdc126-a091-4384-9ccd-7bdbfa3e05db:indexpattern-datasource-layer-ce1c04fd-9867-4587-a278-1ab22b07025a","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"a34b4a88-6ee1-48ed-a098-cf1d86f80541:indexpattern-datasource-layer-eeca0af0-bff1-4191-b037-ce6826795f04","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"c8770db2-eeb3-4e92-99a4-7b546665f400:indexpattern-datasource-layer-822a3526-e634-42df-bc62-066499acd70c","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"55365be8-6bac-4ef5-9d54-c5938b983e1a:indexpattern-datasource-layer-a5fe3787-3f21-4859-8b14-751bb82763a6","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"569c5872-38eb-41e9-9b4b-1d9f151094dd:indexpattern-datasource-layer-a5fe3787-3f21-4859-8b14-751bb82763a6","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"4c27134b-c737-4512-a112-3daf43129892:indexpattern-datasource-layer-a5fe3787-3f21-4859-8b14-751bb82763a6","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"5142e2b9-b5a0-4d45-b0e5-1de018a7d1a4:indexpattern-datasource-layer-a5fe3787-3f21-4859-8b14-751bb82763a6","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"b020ef4c-d623-48a5-8dd2-853340055c0f:indexpattern-datasource-layer-a5fe3787-3f21-4859-8b14-751bb82763a6","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"18560b7f-dbd8-4d83-a998-c8837edd408d:indexpattern-datasource-layer-11fb7ad2-6653-4d2e-a8f6-f68cfb8dadb5","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"18560b7f-dbd8-4d83-a998-c8837edd408d:indexpattern-datasource-layer-822a3526-e634-42df-bc62-066499acd70c","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"6ad22055-854c-4398-abb8-4960203119af:indexpattern-datasource-layer-822a3526-e634-42df-bc62-066499acd70c","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"6ad22055-854c-4398-abb8-4960203119af:indexpattern-datasource-layer-4e368752-5363-4136-b66b-e25d1959265e","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"de3ea0ae-3799-4970-807c-766b8f042d8c:indexpattern-datasource-layer-822a3526-e634-42df-bc62-066499acd70c","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"de3ea0ae-3799-4970-807c-766b8f042d8c:indexpattern-datasource-layer-41db09bf-452f-40fd-a3ab-d94a71aded9d","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"ef20107a-9e49-4eb4-9a8c-5e52c086de88:indexpattern-datasource-layer-822a3526-e634-42df-bc62-066499acd70c","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"ef20107a-9e49-4eb4-9a8c-5e52c086de88:indexpattern-datasource-layer-eb413558-a93d-4c8f-9c97-acc29f22f1af","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"21cca054-bed6-4ebd-845c-5bf4ead349eb:indexpattern-datasource-layer-3b24a44c-d134-4125-bd87-e0bce0a48560","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"21cca054-bed6-4ebd-845c-5bf4ead349eb:indexpattern-datasource-layer-5d49b728-1e9a-40f8-a939-7da27abb1b71","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"bc3cfce8-694e-4c04-b182-ae5d9867303d:indexpattern-datasource-layer-2aa16cab-7176-4460-86c9-13c3ba5db470","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"bc3cfce8-694e-4c04-b182-ae5d9867303d:indexpattern-datasource-layer-3b24a44c-d134-4125-bd87-e0bce0a48560","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"d750b6cc-8aee-4f75-823e-162a55c4cd0c:indexpattern-datasource-layer-3b24a44c-d134-4125-bd87-e0bce0a48560","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"d750b6cc-8aee-4f75-823e-162a55c4cd0c:indexpattern-datasource-layer-aa5e7aee-292f-4454-bf68-11c695c29889","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"641a7623-77d6-4a3a-acac-4ce77f1741eb:indexpattern-datasource-layer-3b24a44c-d134-4125-bd87-e0bce0a48560","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"641a7623-77d6-4a3a-acac-4ce77f1741eb:indexpattern-datasource-layer-e13b0575-8422-41ed-bbbf-f53992e88060","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"b9744f71-a2b7-430c-a4c6-564367bf13bb:indexpattern-datasource-layer-3b24a44c-d134-4125-bd87-e0bce0a48560","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"b9744f71-a2b7-430c-a4c6-564367bf13bb:indexpattern-datasource-layer-1f91aa94-832f-45f8-9bdb-6024d8cea081","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"37b0cdea-57e8-4ceb-920b-cac975544a6b:indexpattern-datasource-layer-3b24a44c-d134-4125-bd87-e0bce0a48560","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"37b0cdea-57e8-4ceb-920b-cac975544a6b:indexpattern-datasource-layer-daeba258-8914-47f2-ab61-5a6ee0601728","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"6e206a73-2e45-4b44-abfb-58703f66c37f:indexpattern-datasource-layer-822a3526-e634-42df-bc62-066499acd70c","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"6e206a73-2e45-4b44-abfb-58703f66c37f:indexpattern-datasource-layer-01afa5ba-9fd1-48dd-ac5f-944c1f6da71c","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"61ab4612-491b-449f-b6d7-30bd33f0dbc0:indexpattern-datasource-layer-822a3526-e634-42df-bc62-066499acd70c","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"61ab4612-491b-449f-b6d7-30bd33f0dbc0:indexpattern-datasource-layer-f5c42521-8df2-4469-afd1-45cc86a9f48d","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"controlGroup_87f69bdd-9149-40a1-b094-890371be2f0b:optionsListDataView","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"controlGroup_0c11c303-7a65-484e-a511-b3d54d880adc:optionsListDataView","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"controlGroup_d51e283f-ef9d-4ac0-bf21-dab444a79b85:optionsListDataView","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"controlGroup_cba6f145-8be8-4798-92f9-119f36f1a6b2:rangeSliderDataView","type":"index-pattern"},{"id":"fleet-managed-default","name":"tag-ref-fleet-managed-default","type":"tag"},{"id":"fleet-pkg-elasticsearch-default","name":"tag-ref-fleet-pkg-elasticsearch-default","type":"tag"}],"type":"dashboard","typeMigrationVersion":"10.3.0","updated_at":"2025-06-30T05:33:50.677Z","version":"WzgxNDYsNDBd"}
{"attributes":{"controlGroupInput":{"chainingSystem":"HIERARCHICAL","controlStyle":"oneLine","ignoreParentSettingsJSON":"{\"ignoreFilters\":false,\"ignoreQuery\":false,\"ignoreTimerange\":false,\"ignoreValidations\":false}","panelsJSON":"{\"b7b776a7-e861-4894-a8ed-81729892008e\":{\"grow\":false,\"order\":0,\"type\":\"optionsListControl\",\"width\":\"large\",\"explicitInput\":{\"dataViewId\":\"cb6a2ea1-28db-4870-9bb5-13235e38a648\",\"fieldName\":\"deployment_group\",\"title\":\"Deployment Group\",\"exclude\":false,\"existsSelected\":false,\"selectedOptions\":[\"ftech\"],\"searchTechnique\":\"exact\",\"sort\":{\"by\":\"_count\",\"direction\":\"desc\"}}}}","showApplySelections":false},"description":"Billing, Credit, usage and chargeback overview.","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"filter\":[],\"query\":{\"query\":\"\",\"language\":\"kuery\"}}"},"optionsJSON":"{\"useMargins\":true,\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"hidePanelTitles\":false}","panelsJSON":"[{\"type\":\"lens\",\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"title\":\"\",\"hidePanelTitles\":true,\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"filters\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsMetric\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\"}],\"state\":{\"visualization\":{\"layerId\":\"8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\",\"layerType\":\"data\",\"metricAccessor\":\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\",\"showBar\":false,\"secondaryTrend\":{\"type\":\"none\"}},\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"filters\":[],\"datasourceStates\":{\"formBased\":{\"layers\":{\"8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\":{\"columnOrder\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\"],\"columns\":{\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Total cost for period (ECUs)\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"compact\":false,\"decimals\":0,\"suffix\":\"\"}},\"formula\":\"sum(ess.billing.total_ecu)\",\"isFormulaBroken\":false},\"references\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\"],\"scale\":\"ratio\"},\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Total cost for period\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"internalReferences\":[],\"adHocDataViews\":{}}}},\"panelIndex\":\"c85604d5-bd83-4882-ad7d-e4d1b4eee17a\",\"gridData\":{\"i\":\"c85604d5-bd83-4882-ad7d-e4d1b4eee17a\",\"y\":3,\"x\":0,\"w\":6,\"h\":7}},{\"type\":\"lens\",\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"filters\":[],\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"attributes\":{\"title\":\"\",\"visualizationType\":\"lnsDatatable\",\"type\":\"lens\",\"references\":[{\"type\":\"index-pattern\",\"id\":\"cb6a2ea1-28db-4870-9bb5-13235e38a648\",\"name\":\"indexpattern-datasource-layer-cf32f728-8b37-4dfa-aa50-473c5d44fdad\"}],\"state\":{\"visualization\":{\"layerId\":\"cf32f728-8b37-4dfa-aa50-473c5d44fdad\",\"layerType\":\"data\",\"columns\":[{\"isTransposed\":false,\"columnId\":\"ffb61fdf-b8d8-4e29-9614-e1e84428943e\"},{\"isTransposed\":false,\"columnId\":\"e772e4ef-1917-4a77-b0ff-5e956f243be5\"},{\"isTransposed\":false,\"columnId\":\"59203a4c-c0ed-4587-84ba-612144552566\"}]},\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filters\":[],\"datasourceStates\":{\"formBased\":{\"layers\":{\"cf32f728-8b37-4dfa-aa50-473c5d44fdad\":{\"columns\":{\"ffb61fdf-b8d8-4e29-9614-e1e84428943e\":{\"label\":\"Deployment name\",\"dataType\":\"string\",\"operationType\":\"terms\",\"sourceField\":\"ess.billing.deployment_name\",\"isBucketed\":true,\"params\":{\"size\":20,\"orderBy\":{\"type\":\"column\",\"columnId\":\"59203a4c-c0ed-4587-84ba-612144552566\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"missingBucket\":false,\"parentFormat\":{\"id\":\"terms\"},\"include\":[],\"exclude\":[],\"includeIsRegex\":false,\"excludeIsRegex\":false},\"customLabel\":true},\"e772e4ef-1917-4a77-b0ff-5e956f243be5\":{\"label\":\"Deployment ID\",\"dataType\":\"string\",\"operationType\":\"terms\",\"sourceField\":\"ess.billing.deployment_id\",\"isBucketed\":true,\"params\":{\"size\":20,\"orderBy\":{\"type\":\"column\",\"columnId\":\"59203a4c-c0ed-4587-84ba-612144552566\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"missingBucket\":false,\"parentFormat\":{\"id\":\"terms\"},\"include\":[],\"exclude\":[],\"includeIsRegex\":false,\"excludeIsRegex\":false},\"customLabel\":true},\"59203a4c-c0ed-4587-84ba-612144552566\":{\"label\":\"Total ECU\",\"dataType\":\"number\",\"operationType\":\"sum\",\"sourceField\":\"ess.billing.total_ecu\",\"isBucketed\":false,\"params\":{\"emptyAsNull\":true},\"customLabel\":true}},\"columnOrder\":[\"ffb61fdf-b8d8-4e29-9614-e1e84428943e\",\"e772e4ef-1917-4a77-b0ff-5e956f243be5\",\"59203a4c-c0ed-4587-84ba-612144552566\"],\"incompleteColumns\":{},\"sampling\":1,\"indexPatternId\":\"cb6a2ea1-28db-4870-9bb5-13235e38a648\"}},\"currentIndexPatternId\":\"cb6a2ea1-28db-4870-9bb5-13235e38a648\"},\"indexpattern\":{\"layers\":{},\"currentIndexPatternId\":\"cb6a2ea1-28db-4870-9bb5-13235e38a648\"},\"textBased\":{\"layers\":{},\"indexPatternRefs\":[{\"id\":\"cb6a2ea1-28db-4870-9bb5-13235e38a648\",\"title\":\"metrics-ess_billing.billing*\",\"timeField\":\"@timestamp\"}]}},\"internalReferences\":[],\"adHocDataViews\":{}}}},\"panelIndex\":\"23ae4479-b063-4eff-9a86-55cc7bf740bb\",\"gridData\":{\"i\":\"23ae4479-b063-4eff-9a86-55cc7bf740bb\",\"y\":3,\"x\":6,\"w\":27,\"h\":14}},{\"type\":\"visualization\",\"embeddableConfig\":{\"title\":\"Burndown graph\",\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"savedVis\":{\"id\":\"\",\"title\":\"\",\"description\":\"\",\"type\":\"vega\",\"params\":{\"spec\":\"{\\n  \\\"$schema\\\": \\\"https://vega.github.io/schema/vega/v5.json\\\",\\n  \\\"data\\\": [\\n    {\\n      \\\"name\\\": \\\"credits\\\",\\n      \\\"url\\\": {\\n        \\\"index\\\": \\\"metrics-ess_billing.credits-*\\\",\\n        \\\"body\\\": {\\n          \\\"size\\\": 0,\\n          \\\"query\\\": {\\n            \\\"bool\\\": {\\n              \\\"must\\\": [\\n                \\\"%dashboard_context-must_clause%\\\"\\n              ],\\n              \\\"must_not\\\": [\\n                \\\"%dashboard_context-must_not_clause%\\\"],\\n              \\\"filter\\\": [\\n                \\\"%dashboard_context-filter_clause%\\\",\\n                {\\n                  \\\"range\\\": {\\n                    \\\"@timestamp\\\": {\\n                      \\\"gte\\\": \\\"now-24h\\\"\\n                    }\\n                  }\\n                },\\n                {\\n                  \\\"term\\\": {\\n                    \\\"ess.billing.active\\\": true\\n                  }\\n                },\\n                {\\n                  \\\"range\\\": {\\n                    \\\"ess.billing.ecu_balance\\\": {\\n                      \\\"gt\\\": 0\\n                    }\\n                  }\\n                }\\n              ]\\n            }\\n          },\\n          \\\"aggs\\\": {\\n            \\\"ecu_balance\\\": {\\n              \\\"sum\\\": {\\n                \\\"field\\\": \\\"ess.billing.ecu_balance\\\"\\n              }\\n            },\\n            \\\"ecu_quantity\\\": {\\n              \\\"sum\\\": {\\n                \\\"field\\\": \\\"ess.billing.ecu_quantity\\\"\\n              }\\n            },\\n            \\\"start\\\": {\\n              \\\"min\\\": {\\n                \\\"field\\\": \\\"ess.billing.start\\\"\\n              }\\n            },\\n            \\\"end\\\": {\\n              \\\"max\\\": {\\n                \\\"field\\\": \\\"ess.billing.end\\\"\\n              }\\n            },\\n            \\\"@timestamp\\\": {\\n              \\\"max\\\": {\\n                \\\"field\\\": \\\"@timestamp\\\"\\n              }\\n            }\\n          }\\n        }\\n      }\\n      \\\"format\\\": {\\\"property\\\": \\\"aggregations\\\"},\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"project\\\",\\n          \\\"fields\\\": [\\n            \\\"ecu_balance.value\\\",\\n            \\\"ecu_quantity.value\\\",\\n            \\\"start.value_as_string\\\",\\n            \\\"end.value_as_string\\\",\\n            \\\"@timestamp.value_as_string\\\"\\n          ],\\n          \\\"as\\\": [\\n            \\\"ecu_balance\\\",\\n            \\\"ecu_quantity\\\",\\n            \\\"start\\\",\\n            \\\"end\\\",\\n            \\\"timestamp\\\"\\n          ]\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"utcParse(datum.start, '%Y-%m-%dT%H:%M:%S.%LZ')\\\",\\n          \\\"as\\\": \\\"start\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"utcParse(datum.end, '%Y-%m-%dT%H:%M:%S.%LZ')\\\",\\n          \\\"as\\\": \\\"end\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"utcParse(datum.timestamp, '%Y-%m-%dT%H:%M:%S.%LZ')\\\",\\n          \\\"as\\\": \\\"timestamp\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"billing_data\\\",\\n      \\\"url\\\": {\\n        \\\"%context%\\\": true,\\n        \\\"%timefield%\\\": \\\"@timestamp\\\",\\n        \\\"index\\\": \\\"metrics-ess_billing.billing-*\\\",\\n        \\\"body\\\": {\\n          \\\"size\\\": 0,\\n          \\\"aggs\\\": {\\n            \\\"daily_breakdown\\\": {\\n              \\\"date_histogram\\\": {\\n                \\\"min_doc_count\\\": 1,\\n                \\\"field\\\": \\\"@timestamp\\\",\\n                \\\"calendar_interval\\\": \\\"day\\\",\\n                \\\"order\\\": {\\\"_key\\\": \\\"desc\\\"},\\n                \\\"extended_bounds\\\": {\\n                  \\\"min\\\": {\\\"%timefilter%\\\": \\\"min\\\"},\\n                  \\\"max\\\": {\\\"%timefilter%\\\": \\\"max\\\"}\\n                }\\n              },\\n              \\\"aggs\\\": {\\\"credit_use\\\": {\\\"sum\\\": {\\\"field\\\": \\\"ess.billing.total_ecu\\\"}}}\\n            }\\n          }\\n        }\\n      },\\n      \\\"format\\\": {\\\"property\\\": \\\"aggregations.daily_breakdown.buckets\\\"},\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"project\\\",\\n          \\\"fields\\\": [\\n            \\\"key_as_string\\\",\\n            \\\"credit_use.value\\\"\\n          ],\\n          \\\"as\\\": [\\n            \\\"timestamp\\\",\\n            \\\"credit_use\\\"\\n          ]\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"utcParse(datum.timestamp, '%Y-%m-%dT%H:%M:%S.%LZ')\\\",\\n          \\\"as\\\": \\\"timestamp\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"data('credits')[0]\\\",\\n          \\\"as\\\": \\\"credits\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"project\\\",\\n          \\\"fields\\\": [\\n            \\\"credits.timestamp\\\",\\n            \\\"credits.start\\\",\\n            \\\"credits.end\\\",\\n            \\\"credits.ecu_balance\\\",\\n            \\\"credits.ecu_quantity\\\",\\n            \\\"timestamp\\\",\\n            \\\"credit_use\\\"\\n          ],\\n          \\\"as\\\": [\\n            \\\"credit_measure_timestamp\\\",\\n            \\\"credit_start\\\",\\n            \\\"credit_end\\\",\\n            \\\"credit_balance\\\",\\n            \\\"credit_quantity\\\",\\n            \\\"timestamp\\\",\\n            \\\"credit_use\\\"\\n          ]\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"billing_pre_credits\\\",\\n      \\\"source\\\": \\\"billing_data\\\",\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"filter\\\",\\n          \\\"expr\\\": \\\"datum.timestamp < datum.credit_measure_timestamp\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"window\\\",\\n          \\\"sort\\\": {\\\"field\\\": \\\"timestamp\\\", \\\"order\\\": \\\"descending\\\"},\\n          \\\"fields\\\":[\\\"credit_use\\\"],\\n          \\\"ops\\\": [\\\"sum\\\"],\\n          \\\"as\\\": [\\\"cumulative_credit_use\\\"]\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.cumulative_credit_use + datum.credit_balance\\\",\\n          \\\"as\\\": \\\"ecu_balance\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"billing_post_credits\\\",\\n      \\\"source\\\": \\\"billing_data\\\",\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"filter\\\",\\n          \\\"expr\\\": \\\"datum.timestamp >= datum.credit_measure_timestamp\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.timestamp - datum.credit_measure_timestamp == 0 ? 0 : datum.credit_use\\\",\\n          \\\"as\\\": \\\"credit_use\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"window\\\",\\n          \\\"sort\\\": {\\\"field\\\": \\\"timestamp\\\", \\\"order\\\": \\\"ascending\\\"},\\n          \\\"fields\\\":[\\\"credit_use\\\"],\\n          \\\"ops\\\": [\\\"sum\\\"],\\n          \\\"as\\\": [\\\"cumulative_credit_use\\\"]\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.credit_balance - datum.cumulative_credit_use\\\",\\n          \\\"as\\\": \\\"ecu_balance\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"historical_billing\\\",\\n      \\\"source\\\": [\\\"billing_pre_credits\\\", \\\"billing_post_credits\\\"],\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"project\\\",\\n          \\\"fields\\\": [\\n            \\\"timestamp\\\",\\n            \\\"ecu_balance\\\"\\n          ],\\n          \\\"as\\\":[\\n            \\\"day\\\",\\n            \\\"ecu_balance\\\"\\n          ]\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"'Historical consumption'\\\",\\n          \\\"as\\\": \\\"type\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"utcFormat(datum.day, '%Y-%m-%d')\\\",\\n          \\\"as\\\": \\\"key\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"collect\\\",\\n          \\\"sort\\\": {\\\"field\\\": \\\"day\\\", \\\"order\\\": \\\"descending\\\"}\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"expected_projection\\\",\\n      \\\"url\\\": {\\n        \\\"index\\\": \\\"metrics-ess_billing.billing-*\\\",\\n        \\\"body\\\": {\\n          \\\"size\\\": 0,\\n          \\\"query\\\": {\\n            \\\"bool\\\": {\\n              \\\"must\\\": [\\n                \\\"%dashboard_context-must_clause%\\\"\\n              ],\\n              \\\"must_not\\\": [\\n                \\\"%dashboard_context-must_not_clause%\\\"\\n              ],\\n              \\\"filter\\\": [\\n                \\\"%dashboard_context-filter_clause%\\\",\\n                {\\n                  \\\"range\\\": {\\n                    \\\"@timestamp\\\": {\\n                      \\\"gte\\\": \\\"now-3d/d\\\",\\n                      \\\"lt\\\": \\\"now-1d/d\\\"\\n                    }\\n                  }\\n                }\\n              ]\\n            }\\n          },\\n          \\\"aggs\\\": {\\n            \\\"per_day\\\": {\\n              \\\"date_histogram\\\": {\\n                \\\"field\\\": \\\"@timestamp\\\",\\n                \\\"calendar_interval\\\": \\\"day\\\"\\n              },\\n              \\\"aggs\\\": {\\n                \\\"cost_per_day\\\": {\\n                  \\\"sum\\\": {\\n                    \\\"field\\\": \\\"ess.billing.total_ecu\\\"\\n                  }\\n                }\\n              }\\n            },\\n            \\\"avg_cost_per_day\\\": {\\n              \\\"avg_bucket\\\": {\\n                \\\"buckets_path\\\": \\\"per_day>cost_per_day\\\"\\n              }\\n            }\\n          }\\n        }\\n      },\\n      \\\"format\\\": {\\\"property\\\": \\\"aggregations.avg_cost_per_day.value\\\"},\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"data('historical_billing')[0]\\\",\\n          \\\"as\\\": \\\"last_state\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"data('credits')[0]\\\",\\n          \\\"as\\\": \\\"credits\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"project\\\",\\n          \\\"fields\\\": [\\n            \\\"last_state.day\\\",\\n            \\\"last_state.ecu_balance\\\",\\n            \\\"credits.end\\\",\\n            \\\"data\\\"\\n          ],\\n          \\\"as\\\": [\\n            \\\"last_timestamp\\\",\\n            \\\"ecu_balance\\\",\\n            \\\"end\\\",\\n            \\\"quantity\\\"\\n          ]\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"timeOffset('day', datum.last_timestamp)\\\",\\n          \\\"as\\\": \\\"last_timestamp\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"utcSequence('day', datum.last_timestamp, datum.end)\\\",\\n          \\\"as\\\": \\\"day\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"flatten\\\",\\n          \\\"fields\\\": [\\\"day\\\"]\\n        },\\n        {\\n          \\\"type\\\": \\\"window\\\",\\n          \\\"fields\\\":[\\\"quantity\\\"],\\n          \\\"ops\\\": [\\\"sum\\\"],\\n          \\\"as\\\": [\\\"cumulative_quantity\\\"]\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.ecu_balance-datum.cumulative_quantity\\\",\\n          \\\"as\\\": \\\"ecu_balance\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"project\\\",\\n          \\\"fields\\\": [\\\"day\\\", \\\"ecu_balance\\\"]\\n        },\\n        {\\n          \\\"type\\\": \\\"filter\\\",\\n          \\\"expr\\\": \\\"datum.ecu_balance > 0\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"'Expected consumption'\\\",\\n          \\\"as\\\": \\\"type\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"utcFormat(datum.day, '%Y-%m-%d')\\\",\\n          \\\"as\\\": \\\"key\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"contractual_projection\\\",\\n      \\\"values\\\": [{}],\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"data('historical_billing')[0]\\\",\\n          \\\"as\\\": \\\"last_state\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"data('credits')[0]\\\",\\n          \\\"as\\\": \\\"credits\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"project\\\",\\n          \\\"fields\\\": [\\n            \\\"last_state.day\\\",\\n            \\\"last_state.ecu_balance\\\",\\n            \\\"credits.end\\\"\\n          ],\\n          \\\"as\\\": [\\n            \\\"last_timestamp\\\",\\n            \\\"ecu_balance\\\",\\n            \\\"end\\\"\\n          ]\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.ecu_balance/((datum.end-datum.last_timestamp)/1000/3600/24)\\\",\\n          \\\"as\\\": \\\"quantity\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"timeOffset('day', datum.last_timestamp)\\\",\\n          \\\"as\\\": \\\"last_timestamp\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"utcSequence('day', datum.last_timestamp, datum.end)\\\",\\n          \\\"as\\\": \\\"day\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"flatten\\\",\\n          \\\"fields\\\": [\\\"day\\\"]\\n        },\\n        {\\n          \\\"type\\\": \\\"window\\\",\\n          \\\"fields\\\":[\\\"quantity\\\"],\\n          \\\"ops\\\": [\\\"sum\\\"],\\n          \\\"as\\\": [\\\"cumulative_quantity\\\"]\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"datum.ecu_balance-datum.cumulative_quantity\\\",\\n          \\\"as\\\": \\\"ecu_balance\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"project\\\",\\n          \\\"fields\\\": [\\\"day\\\", \\\"ecu_balance\\\"]\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"'Contractual target'\\\",\\n          \\\"as\\\": \\\"type\\\"\\n        },\\n        {\\n          \\\"type\\\": \\\"formula\\\",\\n          \\\"expr\\\": \\\"utcFormat(datum.day, '%Y-%m-%d')\\\",\\n          \\\"as\\\": \\\"key\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"aggregated_billing\\\",\\n      \\\"source\\\": [\\\"historical_billing\\\", \\\"expected_projection\\\", \\\"contractual_projection\\\"],\\n      \\\"transform\\\": [\\n        {\\n          \\\"type\\\": \\\"collect\\\",\\n           \\\"sort\\\": {\\\"field\\\": \\\"day\\\", \\\"order\\\": \\\"descending\\\"}\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"scales\\\": [\\n    {\\n      \\\"name\\\": \\\"x\\\",\\n      \\\"type\\\": \\\"time\\\",\\n      \\\"range\\\": \\\"width\\\",\\n      \\\"domain\\\": {\\\"data\\\": \\\"aggregated_billing\\\", \\\"field\\\": \\\"day\\\"}\\n    },\\n    {\\n      \\\"name\\\": \\\"y\\\",\\n      \\\"type\\\": \\\"linear\\\",\\n      \\\"range\\\": \\\"height\\\",\\n      \\\"nice\\\": true,\\n      \\\"zero\\\": false,\\n      \\\"domain\\\": {\\\"data\\\": \\\"aggregated_billing\\\", \\\"field\\\": \\\"ecu_balance\\\"}\\n    },\\n    {\\n      \\\"name\\\": \\\"color\\\",\\n      \\\"type\\\": \\\"ordinal\\\",\\n      \\\"range\\\": \\\"category\\\",\\n      \\\"domain\\\": {\\\"data\\\": \\\"aggregated_billing\\\", \\\"field\\\": \\\"type\\\"}\\n    }\\n  ],\\n  \\\"axes\\\": [\\n    {\\\"orient\\\": \\\"bottom\\\", \\\"scale\\\": \\\"x\\\"},\\n    {\\\"orient\\\": \\\"left\\\", \\\"scale\\\": \\\"y\\\"}\\n  ],\\n  \\\"signals\\\": [\\n    {\\n      \\\"name\\\": \\\"day\\\",\\n      \\\"update\\\": \\\"now()\\\",\\n      \\\"on\\\": [\\n        {\\n          \\\"events\\\": \\\"pointermove\\\",\\n          \\\"update\\\": \\\"invert('x', clamp(x(), 0, width))\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"historical_balance\\\",\\n      \\\"update\\\": \\\"pluck(data('historical_billing'), 'ecu_balance')[indexof(pluck(data('historical_billing'), 'key'), utcFormat(now(), '%Y-%m-%d'))]\\\",\\n      \\\"on\\\": [\\n        {\\n          \\\"events\\\": \\\"pointermove\\\",\\n          \\\"update\\\": \\\"pluck(data('historical_billing'), 'ecu_balance')[indexof(pluck(data('historical_billing'), 'key'), utcFormat(invert('x', clamp(x(), 0, width)), '%Y-%m-%d'))]\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"contractual_balance\\\",\\n      \\\"update\\\": \\\"pluck(data('contractual_projection'), 'ecu_balance')[indexof(pluck(data('contractual_projection'), 'key'), utcFormat(now(), '%Y-%m-%d'))]\\\",\\n      \\\"on\\\": [\\n        {\\n          \\\"events\\\": \\\"pointermove\\\",\\n          \\\"update\\\": \\\"pluck(data('contractual_projection'), 'ecu_balance')[indexof(pluck(data('contractual_projection'), 'key'), utcFormat(invert('x', clamp(x(), 0, width)), '%Y-%m-%d'))]\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"name\\\": \\\"expected_balance\\\",\\n      \\\"update\\\": \\\"pluck(data('expected_projection'), 'ecu_balance')[indexof(pluck(data('expected_projection'), 'key'), utcFormat(now(), '%Y-%m-%d'))]\\\",\\n      \\\"on\\\": [\\n        {\\n          \\\"events\\\": \\\"pointermove\\\",\\n          \\\"update\\\": \\\"pluck(data('expected_projection'), 'ecu_balance')[indexof(pluck(data('expected_projection'), 'key'), utcFormat(invert('x', clamp(x(), 0, width)), '%Y-%m-%d'))]\\\"\\n        }\\n      ]\\n    }\\n  ],\\n  \\\"marks\\\": [\\n    {\\n      \\\"type\\\": \\\"group\\\",\\n      \\\"from\\\": {\\n        \\\"facet\\\": {\\n          \\\"name\\\": \\\"series\\\",\\n          \\\"data\\\": \\\"aggregated_billing\\\",\\n          \\\"groupby\\\": \\\"type\\\"\\n        }\\n      },\\n      \\\"marks\\\": [\\n        {\\n          \\\"type\\\": \\\"line\\\",\\n          \\\"from\\\": {\\\"data\\\": \\\"series\\\"},\\n          \\\"encode\\\": {\\n            \\\"update\\\": {\\n              \\\"x\\\": {\\\"scale\\\": \\\"x\\\", \\\"field\\\": \\\"day\\\"},\\n              \\\"y\\\": {\\\"scale\\\": \\\"y\\\", \\\"field\\\": \\\"ecu_balance\\\"},\\n              \\\"stroke\\\": {\\\"scale\\\": \\\"color\\\", \\\"field\\\": \\\"type\\\"},\\n              \\\"strokeWidth\\\": {\\\"value\\\": 2}\\n            }\\n          }\\n        }\\n      ]\\n    },\\n    {\\n      \\\"type\\\": \\\"rule\\\",\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\\"scale\\\": \\\"x\\\", \\\"signal\\\": \\\"day\\\", \\\"offset\\\": 0.5},\\n          \\\"y\\\": {\\\"scale\\\": \\\"y\\\", \\\"signal\\\": \\\"extent([historical_balance, contractual_balance, expected_balance])[1]\\\", \\\"offset\\\": 0.5},\\n          \\\"y2\\\": {\\\"field\\\": {\\\"group\\\": \\\"height\\\"}},\\n          \\\"stroke\\\": {\\\"value\\\": \\\"black\\\"}\\n        }\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"rule\\\",\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\\"value\\\": 0},\\n          \\\"x2\\\": {\\\"scale\\\": \\\"x\\\", \\\"signal\\\": \\\"day\\\", \\\"offset\\\": 0.5},\\n          \\\"y\\\": {\\\"scale\\\": \\\"y\\\", \\\"signal\\\": \\\"historical_balance\\\", \\\"offset\\\": 0.5},\\n          \\\"stroke\\\": {\\\"scale\\\": \\\"color\\\", \\\"signal\\\": \\\"'Historical consumption'\\\"},\\n          \\\"opacity\\\": { \\\"signal\\\": \\\"historical_balance == null ? 0 : 1\\\"}\\n        }\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"rule\\\",\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\\"value\\\": 0},\\n          \\\"x2\\\": {\\\"scale\\\": \\\"x\\\", \\\"signal\\\": \\\"day\\\", \\\"offset\\\": 0.5},\\n          \\\"y\\\": {\\\"scale\\\": \\\"y\\\", \\\"signal\\\": \\\"contractual_balance\\\", \\\"offset\\\": 0.5},\\n          \\\"stroke\\\": {\\\"scale\\\": \\\"color\\\", \\\"signal\\\": \\\"'Contractual target'\\\"},\\n          \\\"opacity\\\": { \\\"signal\\\": \\\"contractual_balance == null ? 0 : 1\\\"}\\n        }\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"rule\\\",\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\\"value\\\": 0},\\n          \\\"x2\\\": {\\\"scale\\\": \\\"x\\\", \\\"signal\\\": \\\"day\\\", \\\"offset\\\": 0.5},\\n          \\\"y\\\": {\\\"scale\\\": \\\"y\\\", \\\"signal\\\": \\\"expected_balance\\\", \\\"offset\\\": 0.5},\\n          \\\"stroke\\\": {\\\"scale\\\": \\\"color\\\", \\\"signal\\\": \\\"'Expected consumption'\\\"},\\n          \\\"opacity\\\": { \\\"signal\\\": \\\"expected_balance == null ? 0 : 1\\\"}\\n        }\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\\"scale\\\": \\\"x\\\", \\\"signal\\\": \\\"day\\\"},\\n          \\\"y2\\\": {\\\"field\\\": {\\\"group\\\": \\\"height\\\"}, \\\"offset\\\": 30},\\n          \\\"align\\\": {\\\"value\\\": \\\"center\\\"},\\n          \\\"text\\\": {\\\"signal\\\": \\\"timeFormat(day, '%d %b %Y')\\\"},\\n          \\\"fill\\\": {\\\"value\\\": \\\"black\\\"}\\n        }\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\\"offset\\\": -30},\\n          \\\"y\\\": {\\\"scale\\\": \\\"y\\\", \\\"signal\\\": \\\"historical_balance\\\", \\\"offset\\\": 0.5},\\n          \\\"align\\\": {\\\"value\\\": \\\"center\\\"},\\n          \\\"text\\\": {\\\"signal\\\": \\\"format(ceil(historical_balance), ',.0f')\\\"},\\n          \\\"fill\\\": {\\\"scale\\\": \\\"color\\\", \\\"signal\\\": \\\"'Historical consumption'\\\"},\\n          \\\"opacity\\\": { \\\"signal\\\": \\\"historical_balance == null ? 0 : 1\\\"}\\n        }\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\\"offset\\\": -30},\\n          \\\"y\\\": {\\\"scale\\\": \\\"y\\\", \\\"signal\\\": \\\"contractual_balance\\\", \\\"offset\\\": 0.5},\\n          \\\"align\\\": {\\\"value\\\": \\\"center\\\"},\\n          \\\"text\\\": {\\\"signal\\\": \\\"format(ceil(contractual_balance), ',.0f')\\\"},\\n          \\\"fill\\\": {\\\"scale\\\": \\\"color\\\", \\\"signal\\\": \\\"'Contractual target'\\\"},\\n          \\\"opacity\\\": { \\\"signal\\\": \\\"contractual_balance == null ? 0 : 1\\\"}\\n        }\\n      }\\n    },\\n    {\\n      \\\"type\\\": \\\"text\\\",\\n      \\\"encode\\\": {\\n        \\\"update\\\": {\\n          \\\"x\\\": {\\\"offset\\\": -30},\\n          \\\"y\\\": {\\\"scale\\\": \\\"y\\\", \\\"signal\\\": \\\"expected_balance\\\", \\\"offset\\\": 0.5},\\n          \\\"align\\\": {\\\"value\\\": \\\"center\\\"},\\n          \\\"text\\\": {\\\"signal\\\": \\\"format(ceil(expected_balance), ',.0f')\\\"},\\n          \\\"fill\\\": {\\\"scale\\\": \\\"color\\\", \\\"signal\\\": \\\"'Expected consumption'\\\"},\\n          \\\"opacity\\\": { \\\"signal\\\": \\\"expected_balance == null ? 0 : 1\\\"}\\n        }\\n      }\\n    }\\n  ],\\n  \\\"legends\\\": [\\n    {\\n      \\\"fill\\\": \\\"color\\\",\\n      \\\"orient\\\": \\\"top-right\\\",\\n      \\\"encode\\\": {\\n        \\\"title\\\": {\\\"update\\\": {\\\"fontSize\\\": {\\\"value\\\": 14}}},\\n        \\\"labels\\\": {\\n          \\\"enter\\\": {\\\"fontSize\\\": {\\\"value\\\": 12}, \\\"fill\\\": {\\\"value\\\": \\\"black\\\"}}\\n        },\\n        \\\"symbols\\\": {\\\"update\\\": {\\\"stroke\\\": {\\\"value\\\": \\\"transparent\\\"}}}\\n      }\\n    }\\n  ]\\n}\"},\"uiState\":{},\"data\":{\"aggs\":[],\"searchSource\":{\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[{\"$state\":{\"store\":\"appState\"},\"meta\":{\"alias\":null,\"disabled\":false,\"negate\":false,\"params\":[{\"meta\":{\"alias\":null,\"disabled\":false,\"field\":\"event.dataset\",\"index\":\"logs-*\",\"key\":\"event.dataset\",\"negate\":false,\"params\":{\"query\":\"ess_billing.credits\"},\"type\":\"phrase\"},\"query\":{\"match_phrase\":{\"event.dataset\":\"ess_billing.credits\"}}},{\"meta\":{\"alias\":null,\"disabled\":false,\"field\":\"event.dataset\",\"index\":\"logs-*\",\"key\":\"event.dataset\",\"negate\":false,\"params\":{\"query\":\"ess_billing.billing\"},\"type\":\"phrase\"},\"query\":{\"match_phrase\":{\"event.dataset\":\"ess_billing.billing\"}}}],\"relation\":\"OR\",\"type\":\"combined\",\"indexRefName\":\"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index\"},\"query\":{}}]}}}},\"panelIndex\":\"2f04bb5a-7260-4e43-9837-7b5bbcd20d48\",\"gridData\":{\"i\":\"2f04bb5a-7260-4e43-9837-7b5bbcd20d48\",\"y\":3,\"x\":33,\"w\":15,\"h\":23}},{\"type\":\"lens\",\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"title\":\"\",\"description\":\"Run rate computed from the recent consumption\",\"hidePanelTitles\":true,\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"filters\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{\"8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\":{\"columnOrder\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX1\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX2\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX3\"],\"columns\":{\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Avg. run-rate (ECUs/day)\",\"operationType\":\"formula\",\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"compact\":false,\"decimals\":0,\"suffix\":\"\"}},\"formula\":\"sum(\\n    ess.billing.total_ecu,\\n    kql='@timestamp > now-7d/d'\\n) / (\\n        (\\n        max(@timestamp,\\n        kql='@timestamp > now-7d/d')\\n        -\\n        min(@timestamp,\\n        kql='@timestamp > now-7d/d')\\n        ) / (1000*3600*24) + 1\\n)\\n\",\"isFormulaBroken\":false},\"references\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX3\"],\"scale\":\"ratio\"},\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\":{\"customLabel\":true,\"dataType\":\"number\",\"filter\":{\"language\":\"kuery\",\"query\":\"@timestamp > now-7d/d\"},\"isBucketed\":false,\"label\":\"Part of Avg. run-rate\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"},\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX1\":{\"customLabel\":true,\"dataType\":\"date\",\"filter\":{\"language\":\"kuery\",\"query\":\"@timestamp > now-7d/d\"},\"isBucketed\":false,\"label\":\"Part of Avg. run-rate\",\"operationType\":\"max\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"@timestamp\"},\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX2\":{\"customLabel\":true,\"dataType\":\"date\",\"filter\":{\"language\":\"kuery\",\"query\":\"@timestamp > now-7d/d\"},\"isBucketed\":false,\"label\":\"Part of Avg. run-rate\",\"operationType\":\"min\",\"params\":{\"emptyAsNull\":false},\"scale\":\"ratio\",\"sourceField\":\"@timestamp\"},\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX3\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Part of Avg. run-rate\",\"operationType\":\"math\",\"params\":{\"tinymathAst\":{\"args\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\",{\"args\":[{\"args\":[{\"args\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX1\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX2\"],\"location\":{\"max\":220,\"min\":88},\"name\":\"subtract\",\"text\":\"max(@timestamp,\\n        kql='@timestamp > now-7d/d')\\n        -\\n        min(@timestamp,\\n        kql='@timestamp > now-7d/d')\\n        \",\"type\":\"function\"},{\"args\":[{\"args\":[1000,3600],\"name\":\"multiply\",\"type\":\"function\"},24],\"location\":{\"max\":237,\"min\":225},\"name\":\"multiply\",\"text\":\"1000*3600*24\",\"type\":\"function\"}],\"location\":{\"max\":239,\"min\":78},\"name\":\"divide\",\"text\":\"(\\n        max(@timestamp,\\n        kql='@timestamp > now-7d/d')\\n        -\\n        min(@timestamp,\\n        kql='@timestamp > now-7d/d')\\n        ) / (1000*3600*24) \",\"type\":\"function\"},1],\"location\":{\"max\":243,\"min\":78},\"name\":\"add\",\"text\":\"(\\n        max(@timestamp,\\n        kql='@timestamp > now-7d/d')\\n        -\\n        min(@timestamp,\\n        kql='@timestamp > now-7d/d')\\n        ) / (1000*3600*24) + 1\\n\",\"type\":\"function\"}],\"location\":{\"max\":245,\"min\":0},\"name\":\"divide\",\"text\":\"sum(\\n    ess.billing.total_ecu,\\n    kql='@timestamp > now-7d/d'\\n) / (\\n        (\\n        max(@timestamp,\\n        kql='@timestamp > now-7d/d')\\n        -\\n        min(@timestamp,\\n        kql='@timestamp > now-7d/d')\\n        ) / (1000*3600*24) + 1\\n)\\n\",\"type\":\"function\"}},\"references\":[\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX0\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX1\",\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01bX2\"],\"scale\":\"ratio\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"visualization\":{\"icon\":\"temperature\",\"layerId\":\"8c4e8172-eb9b-4d3b-822d-2cf041d9a9af\",\"layerType\":\"data\",\"metricAccessor\":\"0ea16e71-0cd4-4578-a0cc-8b5325fcd01b\",\"showBar\":false}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsMetric\"}},\"panelIndex\":\"434e130a-0058-45f3-a5ea-6727c30a5a6a\",\"gridData\":{\"i\":\"434e130a-0058-45f3-a5ea-6727c30a5a6a\",\"y\":10,\"x\":0,\"w\":6,\"h\":7}},{\"type\":\"lens\",\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"title\":\"Last 12 months\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"filters\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"timeRange\":{\"from\":\"now-1y/d\",\"to\":\"now\"},\"attributes\":{\"references\":[{\"id\":\"metrics-*\",\"name\":\"indexpattern-datasource-layer-c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"metrics-*\",\"layers\":{\"c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\":{\"columnOrder\":[\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\",\"e32c3485-ff5f-41ec-b576-aff6d08672ba\",\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\"],\"columns\":{\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\":{\"customLabel\":true,\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"Time\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"1M\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"e32c3485-ff5f-41ec-b576-aff6d08672ba\":{\"dataType\":\"date\",\"isBucketed\":true,\"label\":\"@timestamp\",\"operationType\":\"date_histogram\",\"params\":{\"dropPartials\":false,\"includeEmptyRows\":true,\"interval\":\"1M\"},\"scale\":\"interval\",\"sourceField\":\"@timestamp\"},\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Deployment ECU cost\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":true,\"decimals\":2,\"suffix\":\"\"}}},\"scale\":\"ratio\",\"sourceField\":\"ess.billing.total_ecu\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"metrics-*\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"data_stream.dataset :\\\"ess_billing.billing\\\" \"},\"visualization\":{\"axisTitlesVisibilitySettings\":{\"x\":false,\"yLeft\":false,\"yRight\":true},\"fittingFunction\":\"None\",\"layers\":[{\"accessors\":[\"f3a939b5-e9dc-4164-a59f-56e7a9aced2a\"],\"colorMapping\":{\"assignments\":[],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"c9af8b12-7fac-4ff6-9e4e-796c744c3f1d\",\"layerType\":\"data\",\"position\":\"top\",\"seriesType\":\"bar_stacked\",\"showGridlines\":false,\"splitAccessor\":\"e32c3485-ff5f-41ec-b576-aff6d08672ba\",\"xAccessor\":\"964a9602-36b4-4143-a4a5-4ef2ae4eeb20\"}],\"legend\":{\"isVisible\":false,\"legendSize\":\"auto\",\"legendStats\":[\"total\"],\"position\":\"right\",\"showSingleSeries\":false},\"preferredSeriesType\":\"bar_stacked\",\"title\":\"Empty XY chart\",\"valueLabels\":\"show\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsXY\"}},\"panelIndex\":\"872c3ebd-d249-44d0-835d-d053fa850025\",\"gridData\":{\"i\":\"872c3ebd-d249-44d0-835d-d053fa850025\",\"y\":17,\"x\":0,\"w\":33,\"h\":9}},{\"type\":\"lens\",\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"title\":\"\",\"description\":\"Computed over the last 7 days of the viewed time range\",\"hidePanelTitles\":true,\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"filters\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-ce1c04fd-9867-4587-a278-1ab22b07025a\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"ce1c04fd-9867-4587-a278-1ab22b07025a\":{\"columnOrder\":[\"e5245e53-083d-4594-9311-1d5e314bb52a\",\"e859d93a-a256-4428-be10-75ed4fdb8c91\"],\"columns\":{\"e5245e53-083d-4594-9311-1d5e314bb52a\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Daily ingest\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":true,\"decimals\":1,\"suffix\":\" docs\"}}},\"reducedTimeRange\":\"7d\",\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.docs.count_delta\",\"timeScale\":\"d\"},\"e859d93a-a256-4428-be10-75ed4fdb8c91\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\" \",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"bytes\",\"params\":{\"decimals\":1}}},\"reducedTimeRange\":\"7d\",\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes_delta\",\"timeScale\":\"d\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"visualization\":{\"color\":\"#E7664C\",\"icon\":\"compute\",\"layerId\":\"ce1c04fd-9867-4587-a278-1ab22b07025a\",\"layerType\":\"data\",\"metricAccessor\":\"e5245e53-083d-4594-9311-1d5e314bb52a\",\"secondaryMetricAccessor\":\"e859d93a-a256-4428-be10-75ed4fdb8c91\",\"showBar\":false}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsMetric\"}},\"panelIndex\":\"dc89855b-99ad-4cd6-9ee5-4093a051926f\",\"gridData\":{\"i\":\"dc89855b-99ad-4cd6-9ee5-4093a051926f\",\"y\":29,\"x\":0,\"w\":8,\"h\":8}},{\"type\":\"lens\",\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"title\":\"Ingest breakdown - top 5\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"filters\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-eeca0af0-bff1-4191-b037-ce6826795f04\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"eeca0af0-bff1-4191-b037-ce6826795f04\":{\"columnOrder\":[\"944652e1-7bbc-44cb-b932-ec901be22583\",\"665e1cb0-61ab-4b32-8b98-bd76ab6f56f3\"],\"columns\":{\"665e1cb0-61ab-4b32-8b98-bd76ab6f56f3\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Primary ingest\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.primaries.store.total_data_set_size_in_bytes_delta\"},\"944652e1-7bbc-44cb-b932-ec901be22583\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 4 values of elasticsearch.index.datastream\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":true,\"orderBy\":{\"columnId\":\"665e1cb0-61ab-4b32-8b98-bd76ab6f56f3\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":4},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.datastream\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"visualization\":{\"layers\":[{\"categoryDisplay\":\"hide\",\"colorMapping\":{\"assignments\":[{\"color\":{\"colorIndex\":1,\"paletteId\":\"neutral\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"__other__\"]},\"touched\":true}],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"eeca0af0-bff1-4191-b037-ce6826795f04\",\"layerType\":\"data\",\"legendDisplay\":\"show\",\"metrics\":[\"665e1cb0-61ab-4b32-8b98-bd76ab6f56f3\"],\"nestedLegend\":false,\"numberDisplay\":\"value\",\"primaryGroups\":[\"944652e1-7bbc-44cb-b932-ec901be22583\"]}],\"shape\":\"pie\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsPie\"}},\"panelIndex\":\"2e6ceb32-0c16-4343-8ae2-b45549926653\",\"gridData\":{\"i\":\"2e6ceb32-0c16-4343-8ae2-b45549926653\",\"y\":29,\"x\":8,\"w\":9,\"h\":8}},{\"type\":\"lens\",\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"title\":\"Normalised cost per deployment and tier\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL indexing = CASE (deployment_sum_indexing_time > 0, tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu), querying = CASE (deployment_sum_query_time > 0, tier_sum_query_time / deployment_sum_query_time * total_ecu), data_set = CASE (deployment_sum_data_set_store_size > 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu), store = CASE (deployment_sum_store_size > 0, tier_sum_store_size / deployment_sum_store_size * total_ecu), storage = CASE (store == 0, data_set, store), total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight, total_weight_cold = conf_storage_weight + conf_query_weight, blended = CASE (tier == \\\"hot/content\\\", ((storage * conf_storage_weight) + (querying * conf_query_weight) + (indexing * conf_indexing_weight)) / total_weight_hot, ((storage * conf_storage_weight) + (querying * conf_query_weight)) / total_weight_cold) * conf_ecu_rate, Deployment = CONCAT(deployment_name, \\\" (\\\", LEFT(deployment_id, 6), \\\")\\\"), Tier = tier\\n| GROK deployment_name \\\"^%{WORD:company_name}_%{WORD:country_code}_%{WORD:deployment_group}_%{WORD:env}(?:_%{GREEDYDATA:solution})?$\\\"\\n| STATS `Normalised cost` = sum(blended) BY deployment_group,Deployment, Tier\\n| KEEP deployment_group, Deployment, Tier, `Normalised cost`\\n| WHERE `Normalised cost` > 0\"},\"attributes\":{\"title\":\"Pie\",\"references\":[],\"state\":{\"datasourceStates\":{\"textBased\":{\"layers\":{\"ae7a9b5e-0073-4585-a736-7d545f19d411\":{\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL indexing = CASE (deployment_sum_indexing_time > 0, tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu), querying = CASE (deployment_sum_query_time > 0, tier_sum_query_time / deployment_sum_query_time * total_ecu), data_set = CASE (deployment_sum_data_set_store_size > 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu), store = CASE (deployment_sum_store_size > 0, tier_sum_store_size / deployment_sum_store_size * total_ecu), storage = CASE (store == 0, data_set, store), total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight, total_weight_cold = conf_storage_weight + conf_query_weight, blended = CASE (tier == \\\"hot/content\\\", ((storage * conf_storage_weight) + (querying * conf_query_weight) + (indexing * conf_indexing_weight)) / total_weight_hot, ((storage * conf_storage_weight) + (querying * conf_query_weight)) / total_weight_cold) * conf_ecu_rate, Deployment = CONCAT(deployment_name, \\\" (\\\", LEFT(deployment_id, 6), \\\")\\\"), Tier = tier\\n| GROK deployment_name \\\"^%{WORD:company_name}_%{WORD:country_code}_%{WORD:deployment_group}_%{WORD:env}(?:_%{GREEDYDATA:solution})?$\\\"\\n| STATS `Normalised cost` = sum(blended) BY deployment_group,Deployment, Tier\\n| KEEP deployment_group, Deployment, Tier, `Normalised cost`\\n| WHERE `Normalised cost` > 0\"},\"columns\":[{\"columnId\":\"Deployment\",\"fieldName\":\"Deployment\",\"label\":\"Deployment\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"}},{\"columnId\":\"Normalised cost\",\"fieldName\":\"Normalised cost\",\"label\":\"Normalised cost\",\"customLabel\":false,\"meta\":{\"type\":\"number\",\"esType\":\"double\"},\"inMetricDimension\":true,\"params\":{\"format\":{\"id\":\"number\",\"params\":{\"decimals\":2}}}},{\"columnId\":\"dc0350c0-6021-4446-a802-139c1ca207e2\",\"fieldName\":\"Tier\",\"meta\":{\"type\":\"string\",\"esType\":\"keyword\",\"sourceParams\":{\"indexPattern\":\"billing_cluster_cost_lookup\",\"sourceField\":\"Tier\"}},\"label\":\"Tier\"}],\"timeField\":\"@timestamp\"}},\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"title\":\"billing_cluster_cost_lookup\",\"timeField\":\"@timestamp\"}]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL indexing = CASE (deployment_sum_indexing_time > 0, tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu), querying = CASE (deployment_sum_query_time > 0, tier_sum_query_time / deployment_sum_query_time * total_ecu), data_set = CASE (deployment_sum_data_set_store_size > 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu), store = CASE (deployment_sum_store_size > 0, tier_sum_store_size / deployment_sum_store_size * total_ecu), storage = CASE (store == 0, data_set, store), total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight, total_weight_cold = conf_storage_weight + conf_query_weight, blended = CASE (tier == \\\"hot/content\\\", ((storage * conf_storage_weight) + (querying * conf_query_weight) + (indexing * conf_indexing_weight)) / total_weight_hot, ((storage * conf_storage_weight) + (querying * conf_query_weight)) / total_weight_cold) * conf_ecu_rate, Deployment = CONCAT(deployment_name, \\\" (\\\", LEFT(deployment_id, 6), \\\")\\\"), Tier = tier\\n| GROK deployment_name \\\"^%{WORD:company_name}_%{WORD:country_code}_%{WORD:deployment_group}_%{WORD:env}(?:_%{GREEDYDATA:solution})?$\\\"\\n| STATS `Normalised cost` = sum(blended) BY deployment_group,Deployment, Tier\\n| KEEP deployment_group, Deployment, Tier, `Normalised cost`\\n| WHERE `Normalised cost` > 0\"},\"visualization\":{\"layerId\":\"ae7a9b5e-0073-4585-a736-7d545f19d411\",\"layerType\":\"data\",\"columns\":[{\"columnId\":\"Deployment\"},{\"columnId\":\"Normalised cost\"},{\"columnId\":\"dc0350c0-6021-4446-a802-139c1ca207e2\",\"isTransposed\":true,\"isMetric\":false}]},\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"title\":\"billing_cluster_cost_lookup\",\"timeFieldName\":\"@timestamp\",\"sourceFilters\":[],\"type\":\"esql\",\"fieldFormats\":{},\"runtimeFieldMap\":{},\"allowNoIndex\":false,\"name\":\"billing_cluster_cost_lookup\",\"allowHidden\":false}},\"needsRefresh\":false},\"visualizationType\":\"lnsDatatable\"}},\"panelIndex\":\"8986ab27-5d24-4293-ad2a-dfb4daff4121\",\"gridData\":{\"i\":\"8986ab27-5d24-4293-ad2a-dfb4daff4121\",\"y\":29,\"x\":17,\"w\":16,\"h\":16}},{\"type\":\"lens\",\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"title\":\"Normalised cost per deployment and tier\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL indexing = CASE (deployment_sum_indexing_time > 0, tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu), querying = CASE (deployment_sum_query_time > 0, tier_sum_query_time / deployment_sum_query_time * total_ecu), data_set = CASE (deployment_sum_data_set_store_size > 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu), store = CASE (deployment_sum_store_size > 0, tier_sum_store_size / deployment_sum_store_size * total_ecu), storage = CASE (store == 0, data_set, store), total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight, total_weight_cold = conf_storage_weight + conf_query_weight, blended = CASE (tier == \\\"hot/content\\\", ((storage * conf_storage_weight) + (querying * conf_query_weight) + (indexing * conf_indexing_weight)) / total_weight_hot, ((storage * conf_storage_weight) + (querying * conf_query_weight)) / total_weight_cold) * conf_ecu_rate, Deployment = CONCAT(deployment_name, \\\" (\\\", LEFT(deployment_id, 6), \\\")\\\"), Tier = tier\\n| GROK deployment_name \\\"^%{WORD:company_name}_%{WORD:country_code}_%{WORD:deployment_group}_%{WORD:env}(?:_%{GREEDYDATA:solution})?$\\\"\\n| STATS `Normalised cost` = sum(blended) BY deployment_group,Deployment, Tier\\n| KEEP deployment_group, Deployment, Tier, `Normalised cost`\\n| WHERE `Normalised cost` > 0\"},\"attributes\":{\"title\":\"Treemap\",\"references\":[],\"state\":{\"datasourceStates\":{\"textBased\":{\"layers\":{\"ff3cdc40-c1dd-4fb9-8d7b-e45bc66bca3d\":{\"index\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL indexing = CASE (deployment_sum_indexing_time > 0, tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu), querying = CASE (deployment_sum_query_time > 0, tier_sum_query_time / deployment_sum_query_time * total_ecu), data_set = CASE (deployment_sum_data_set_store_size > 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu), store = CASE (deployment_sum_store_size > 0, tier_sum_store_size / deployment_sum_store_size * total_ecu), storage = CASE (store == 0, data_set, store), total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight, total_weight_cold = conf_storage_weight + conf_query_weight, blended = CASE (tier == \\\"hot/content\\\", ((storage * conf_storage_weight) + (querying * conf_query_weight) + (indexing * conf_indexing_weight)) / total_weight_hot, ((storage * conf_storage_weight) + (querying * conf_query_weight)) / total_weight_cold) * conf_ecu_rate, Deployment = CONCAT(deployment_name, \\\" (\\\", LEFT(deployment_id, 6), \\\")\\\"), Tier = tier\\n| GROK deployment_name \\\"^%{WORD:company_name}_%{WORD:country_code}_%{WORD:deployment_group}_%{WORD:env}(?:_%{GREEDYDATA:solution})?$\\\"\\n| STATS `Normalised cost` = sum(blended) BY deployment_group,Deployment, Tier\\n| KEEP deployment_group, Deployment, Tier, `Normalised cost`\\n| WHERE `Normalised cost` > 0\"},\"columns\":[{\"columnId\":\"Deployment\",\"fieldName\":\"Deployment\",\"label\":\"Deployment\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"}},{\"columnId\":\"Tier\",\"fieldName\":\"Tier\",\"label\":\"Tier\",\"customLabel\":false,\"meta\":{\"type\":\"string\",\"esType\":\"keyword\"}},{\"columnId\":\"Normalised cost\",\"fieldName\":\"Normalised cost\",\"label\":\"Normalised cost\",\"customLabel\":false,\"meta\":{\"type\":\"number\",\"esType\":\"double\"},\"inMetricDimension\":true}],\"timeField\":\"@timestamp\"}},\"indexPatternRefs\":[{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"title\":\"billing_cluster_cost_lookup\",\"timeField\":\"@timestamp\"}]}},\"filters\":[],\"query\":{\"esql\":\"FROM billing_cluster_cost_lookup\\n| EVAL config_join_key = \\\"chargeback_config\\\"\\n| LOOKUP JOIN chargeback_conf_lookup ON config_join_key\\n| LOOKUP JOIN cluster_deployment_contribution_lookup ON composite_key\\n| LOOKUP JOIN cluster_tier_contribution_lookup ON composite_key\\n| EVAL indexing = CASE (deployment_sum_indexing_time > 0, tier_sum_indexing_time / deployment_sum_indexing_time * total_ecu), querying = CASE (deployment_sum_query_time > 0, tier_sum_query_time / deployment_sum_query_time * total_ecu), data_set = CASE (deployment_sum_data_set_store_size > 0, tier_sum_data_set_store_size / deployment_sum_data_set_store_size * total_ecu), store = CASE (deployment_sum_store_size > 0, tier_sum_store_size / deployment_sum_store_size * total_ecu), storage = CASE (store == 0, data_set, store), total_weight_hot = conf_storage_weight + conf_query_weight + conf_indexing_weight, total_weight_cold = conf_storage_weight + conf_query_weight, blended = CASE (tier == \\\"hot/content\\\", ((storage * conf_storage_weight) + (querying * conf_query_weight) + (indexing * conf_indexing_weight)) / total_weight_hot, ((storage * conf_storage_weight) + (querying * conf_query_weight)) / total_weight_cold) * conf_ecu_rate, Deployment = CONCAT(deployment_name, \\\" (\\\", LEFT(deployment_id, 6), \\\")\\\"), Tier = tier\\n| GROK deployment_name \\\"^%{WORD:company_name}_%{WORD:country_code}_%{WORD:deployment_group}_%{WORD:env}(?:_%{GREEDYDATA:solution})?$\\\"\\n| STATS `Normalised cost` = sum(blended) BY deployment_group,Deployment, Tier\\n| KEEP deployment_group, Deployment, Tier, `Normalised cost`\\n| WHERE `Normalised cost` > 0\"},\"visualization\":{\"shape\":\"treemap\",\"layers\":[{\"layerId\":\"ff3cdc40-c1dd-4fb9-8d7b-e45bc66bca3d\",\"primaryGroups\":[\"Deployment\",\"Tier\"],\"metrics\":[\"Normalised cost\"],\"numberDisplay\":\"percent\",\"categoryDisplay\":\"default\",\"legendDisplay\":\"default\",\"nestedLegend\":false,\"layerType\":\"data\"}]},\"adHocDataViews\":{\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\":{\"id\":\"2bf6c0d816ef0a2d56d03ede549c16c08c35db2cf02d78c12756a98a33f50e4f\",\"title\":\"billing_cluster_cost_lookup\",\"timeFieldName\":\"@timestamp\",\"sourceFilters\":[],\"type\":\"esql\",\"fieldFormats\":{},\"runtimeFieldMap\":{},\"allowNoIndex\":false,\"name\":\"billing_cluster_cost_lookup\",\"allowHidden\":false}},\"needsRefresh\":false},\"visualizationType\":\"lnsPie\"}},\"panelIndex\":\"27ed54e8-5d26-449c-b2a9-1d71f9797240\",\"gridData\":{\"i\":\"27ed54e8-5d26-449c-b2a9-1d71f9797240\",\"y\":29,\"x\":33,\"w\":15,\"h\":16}},{\"type\":\"lens\",\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"title\":\"\",\"description\":\"Computed over the last 7 days of the viewed time range\",\"hidePanelTitles\":true,\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"filters\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-ce1c04fd-9867-4587-a278-1ab22b07025a\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"ce1c04fd-9867-4587-a278-1ab22b07025a\":{\"columnOrder\":[\"e5245e53-083d-4594-9311-1d5e314bb52a\"],\"columns\":{\"e5245e53-083d-4594-9311-1d5e314bb52a\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Daily querying\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true,\"format\":{\"id\":\"number\",\"params\":{\"compact\":true,\"decimals\":1,\"suffix\":\" queries\"}}},\"reducedTimeRange\":\"7d\",\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.search.query_total_delta\",\"timeScale\":\"d\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"visualization\":{\"color\":\"#CA8EAE\",\"icon\":\"editorComment\",\"layerId\":\"ce1c04fd-9867-4587-a278-1ab22b07025a\",\"layerType\":\"data\",\"metricAccessor\":\"e5245e53-083d-4594-9311-1d5e314bb52a\",\"showBar\":false}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsMetric\"}},\"panelIndex\":\"f6d8875e-c731-4cd3-8c69-8b08dfd7dcc2\",\"gridData\":{\"i\":\"f6d8875e-c731-4cd3-8c69-8b08dfd7dcc2\",\"y\":37,\"x\":0,\"w\":8,\"h\":8}},{\"type\":\"lens\",\"embeddableConfig\":{\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"title\":\"Query breakdown - top 5\",\"syncColors\":false,\"syncCursor\":true,\"syncTooltips\":false,\"filters\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"attributes\":{\"references\":[{\"id\":\"elasticsearch-monitoringindices\",\"name\":\"indexpattern-datasource-layer-eeca0af0-bff1-4191-b037-ce6826795f04\",\"type\":\"index-pattern\"}],\"state\":{\"adHocDataViews\":{},\"datasourceStates\":{\"formBased\":{\"currentIndexPatternId\":\"elasticsearch-monitoringindices\",\"layers\":{\"eeca0af0-bff1-4191-b037-ce6826795f04\":{\"columnOrder\":[\"944652e1-7bbc-44cb-b932-ec901be22583\",\"665e1cb0-61ab-4b32-8b98-bd76ab6f56f3\"],\"columns\":{\"665e1cb0-61ab-4b32-8b98-bd76ab6f56f3\":{\"customLabel\":true,\"dataType\":\"number\",\"isBucketed\":false,\"label\":\"Querying count\",\"operationType\":\"sum\",\"params\":{\"emptyAsNull\":true},\"scale\":\"ratio\",\"sourceField\":\"elasticsearch.index.total.search.query_total_delta\"},\"944652e1-7bbc-44cb-b932-ec901be22583\":{\"dataType\":\"string\",\"isBucketed\":true,\"label\":\"Top 4 values of elasticsearch.index.datastream\",\"operationType\":\"terms\",\"params\":{\"exclude\":[],\"excludeIsRegex\":false,\"include\":[],\"includeIsRegex\":false,\"missingBucket\":true,\"orderBy\":{\"columnId\":\"665e1cb0-61ab-4b32-8b98-bd76ab6f56f3\",\"type\":\"column\"},\"orderDirection\":\"desc\",\"otherBucket\":true,\"parentFormat\":{\"id\":\"terms\"},\"size\":4},\"scale\":\"ordinal\",\"sourceField\":\"elasticsearch.index.datastream\"}},\"ignoreGlobalFilters\":false,\"incompleteColumns\":{},\"indexPatternId\":\"elasticsearch-monitoringindices\",\"sampling\":1}}},\"indexpattern\":{\"layers\":{}},\"textBased\":{\"layers\":{}}},\"filters\":[],\"internalReferences\":[],\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"visualization\":{\"layers\":[{\"categoryDisplay\":\"hide\",\"colorMapping\":{\"assignments\":[{\"color\":{\"colorIndex\":1,\"paletteId\":\"neutral\",\"type\":\"categorical\"},\"rule\":{\"type\":\"matchExactly\",\"values\":[\"__other__\"]},\"touched\":true}],\"colorMode\":{\"type\":\"categorical\"},\"paletteId\":\"eui_amsterdam_color_blind\",\"specialAssignments\":[{\"color\":{\"type\":\"loop\"},\"rule\":{\"type\":\"other\"},\"touched\":false}]},\"layerId\":\"eeca0af0-bff1-4191-b037-ce6826795f04\",\"layerType\":\"data\",\"legendDisplay\":\"show\",\"metrics\":[\"665e1cb0-61ab-4b32-8b98-bd76ab6f56f3\"],\"nestedLegend\":false,\"numberDisplay\":\"value\",\"primaryGroups\":[\"944652e1-7bbc-44cb-b932-ec901be22583\"]}],\"shape\":\"pie\"}},\"title\":\"\",\"type\":\"lens\",\"visualizationType\":\"lnsPie\"}},\"panelIndex\":\"a9744173-1def-4a1c-a2f7-1d040e36dc8c\",\"gridData\":{\"i\":\"a9744173-1def-4a1c-a2f7-1d040e36dc8c\",\"y\":37,\"x\":8,\"w\":9,\"h\":8}},{\"type\":\"visualization\",\"embeddableConfig\":{\"title\":\"\",\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"savedVis\":{\"title\":\"\",\"description\":\"\",\"type\":\"markdown\",\"params\":{\"fontSize\":12,\"openLinksInNewTab\":false,\"markdown\":\"## Billing (ECU, ie USD)\"},\"uiState\":{},\"data\":{\"aggs\":[],\"searchSource\":{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}}}},\"panelIndex\":\"d1d9d65e-3d4e-46b3-9b7f-3c133a17c836\",\"gridData\":{\"i\":\"d1d9d65e-3d4e-46b3-9b7f-3c133a17c836\",\"y\":0,\"x\":0,\"w\":25,\"h\":3}},{\"type\":\"links\",\"embeddableConfig\":{\"title\":\"Detailed breakdown (copy)\",\"hidePanelTitles\":true,\"attributes\":{\"layout\":\"vertical\",\"links\":[{\"type\":\"dashboardLink\",\"id\":\"7115a8ae-909d-45a2-879a-b9bcfbfcb092\",\"options\":{\"openInNewTab\":true,\"useCurrentDateRange\":true,\"useCurrentFilters\":true},\"order\":0,\"destinationRefName\":\"link_7115a8ae-909d-45a2-879a-b9bcfbfcb092_dashboard\"}]}},\"panelIndex\":\"22199cb1-2bc1-4e77-8ebd-b7e019910652\",\"gridData\":{\"i\":\"22199cb1-2bc1-4e77-8ebd-b7e019910652\",\"y\":0,\"x\":25,\"w\":8,\"h\":3}},{\"type\":\"visualization\",\"embeddableConfig\":{\"title\":\"\",\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"savedVis\":{\"title\":\"\",\"description\":\"\",\"type\":\"markdown\",\"params\":{\"fontSize\":12,\"openLinksInNewTab\":false,\"markdown\":\"## Credit (overall)\"},\"uiState\":{},\"data\":{\"aggs\":[],\"searchSource\":{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}}}},\"panelIndex\":\"5f26738c-40ec-4468-a0d5-84dfb272f176\",\"gridData\":{\"i\":\"5f26738c-40ec-4468-a0d5-84dfb272f176\",\"y\":0,\"x\":33,\"w\":7,\"h\":3}},{\"type\":\"links\",\"embeddableConfig\":{\"title\":\"Detailed breakdown\",\"hidePanelTitles\":true,\"attributes\":{\"layout\":\"vertical\",\"links\":[{\"type\":\"dashboardLink\",\"id\":\"d77fa731-32dd-4f24-9075-2fe41d19a33a\",\"options\":{\"openInNewTab\":true,\"useCurrentDateRange\":true,\"useCurrentFilters\":true},\"order\":1,\"destinationRefName\":\"link_d77fa731-32dd-4f24-9075-2fe41d19a33a_dashboard\"}]}},\"panelIndex\":\"2e8a63e0-aee8-4588-9eb7-5cfb362dc848\",\"gridData\":{\"i\":\"2e8a63e0-aee8-4588-9eb7-5cfb362dc848\",\"y\":0,\"x\":40,\"w\":8,\"h\":3}},{\"type\":\"visualization\",\"embeddableConfig\":{\"title\":\"\",\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"savedVis\":{\"title\":\"\",\"description\":\"\",\"type\":\"markdown\",\"params\":{\"fontSize\":12,\"openLinksInNewTab\":false,\"markdown\":\"## Chargeback (ZAR)\"},\"uiState\":{},\"data\":{\"aggs\":[],\"searchSource\":{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}}}},\"panelIndex\":\"a3867d07-de10-4ce6-8631-c136e800f027\",\"gridData\":{\"i\":\"a3867d07-de10-4ce6-8631-c136e800f027\",\"y\":26,\"x\":17,\"w\":23,\"h\":3}},{\"type\":\"links\",\"embeddableConfig\":{\"title\":\"Detailed breakdown (copy 2)\",\"hidePanelTitles\":true,\"attributes\":{\"layout\":\"vertical\",\"links\":[{\"type\":\"dashboardLink\",\"id\":\"082f1e28-4d1b-4382-9436-1e1a01b23c74\",\"options\":{\"openInNewTab\":true,\"useCurrentDateRange\":true,\"useCurrentFilters\":true},\"order\":0,\"destinationRefName\":\"link_082f1e28-4d1b-4382-9436-1e1a01b23c74_dashboard\"}]}},\"panelIndex\":\"7fdfe49e-8995-44bf-9796-4d0550f5b31f\",\"gridData\":{\"i\":\"7fdfe49e-8995-44bf-9796-4d0550f5b31f\",\"y\":26,\"x\":40,\"w\":8,\"h\":3}},{\"type\":\"visualization\",\"embeddableConfig\":{\"title\":\"\",\"enhancements\":{\"dynamicActions\":{\"events\":[]}},\"savedVis\":{\"title\":\"\",\"description\":\"\",\"type\":\"markdown\",\"params\":{\"fontSize\":12,\"openLinksInNewTab\":false,\"markdown\":\"## Usage\"},\"uiState\":{},\"data\":{\"aggs\":[],\"searchSource\":{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}}}},\"panelIndex\":\"578df9f7-0570-4212-b3e6-80bbdb33e62c\",\"gridData\":{\"i\":\"578df9f7-0570-4212-b3e6-80bbdb33e62c\",\"y\":26,\"x\":0,\"w\":9,\"h\":3}},{\"type\":\"links\",\"embeddableConfig\":{\"title\":\"Detailed breakdown (copy 1)\",\"hidePanelTitles\":true,\"attributes\":{\"layout\":\"vertical\",\"links\":[{\"label\":\"[Elasticsearch] Indices & data streams usage\",\"type\":\"dashboardLink\",\"id\":\"36e5b7e7-df76-4a8e-b1e6-12004adca925\",\"options\":{\"openInNewTab\":true,\"useCurrentDateRange\":true,\"useCurrentFilters\":true},\"order\":0,\"destinationRefName\":\"link_36e5b7e7-df76-4a8e-b1e6-12004adca925_dashboard\"}]}},\"panelIndex\":\"c7fd79a7-981c-4f15-ae94-075ec123a108\",\"gridData\":{\"i\":\"c7fd79a7-981c-4f15-ae94-075ec123a108\",\"y\":26,\"x\":9,\"w\":8,\"h\":3}}]","timeRestore":false,"title":"[Fin] Business Unit financial summary","version":3},"coreMigrationVersion":"8.8.0","created_at":"2025-09-10T10:46:45.954Z","created_by":"u_2001809318_cloud","id":"4002a0c4-4a47-4482-bfcc-dd45d15a5d94","managed":false,"references":[{"id":"837dc32f-a597-4ee9-a791-66e9b2d68062","name":"tag-ref-837dc32f-a597-4ee9-a791-66e9b2d68062","type":"tag"},{"id":"metrics-*","name":"c85604d5-bd83-4882-ad7d-e4d1b4eee17a:indexpattern-datasource-layer-8c4e8172-eb9b-4d3b-822d-2cf041d9a9af","type":"index-pattern"},{"id":"cb6a2ea1-28db-4870-9bb5-13235e38a648","name":"23ae4479-b063-4eff-9a86-55cc7bf740bb:indexpattern-datasource-layer-cf32f728-8b37-4dfa-aa50-473c5d44fdad","type":"index-pattern"},{"id":"logs-*","name":"2f04bb5a-7260-4e43-9837-7b5bbcd20d48:kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index","type":"index-pattern"},{"id":"metrics-*","name":"434e130a-0058-45f3-a5ea-6727c30a5a6a:indexpattern-datasource-layer-8c4e8172-eb9b-4d3b-822d-2cf041d9a9af","type":"index-pattern"},{"id":"metrics-*","name":"872c3ebd-d249-44d0-835d-d053fa850025:indexpattern-datasource-layer-c9af8b12-7fac-4ff6-9e4e-796c744c3f1d","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"dc89855b-99ad-4cd6-9ee5-4093a051926f:indexpattern-datasource-layer-ce1c04fd-9867-4587-a278-1ab22b07025a","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"2e6ceb32-0c16-4343-8ae2-b45549926653:indexpattern-datasource-layer-eeca0af0-bff1-4191-b037-ce6826795f04","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"f6d8875e-c731-4cd3-8c69-8b08dfd7dcc2:indexpattern-datasource-layer-ce1c04fd-9867-4587-a278-1ab22b07025a","type":"index-pattern"},{"id":"elasticsearch-monitoringindices","name":"a9744173-1def-4a1c-a2f7-1d040e36dc8c:indexpattern-datasource-layer-eeca0af0-bff1-4191-b037-ce6826795f04","type":"index-pattern"},{"id":"ess_billing-billingdashboard","name":"22199cb1-2bc1-4e77-8ebd-b7e019910652:link_7115a8ae-909d-45a2-879a-b9bcfbfcb092_dashboard","type":"dashboard"},{"id":"ess_billing-creditsdashboard","name":"2e8a63e0-aee8-4588-9eb7-5cfb362dc848:link_d77fa731-32dd-4f24-9075-2fe41d19a33a_dashboard","type":"dashboard"},{"id":"chargeback-39a39857-746c-4a29-adca-3c2fcb6bcfb6","name":"7fdfe49e-8995-44bf-9796-4d0550f5b31f:link_082f1e28-4d1b-4382-9436-1e1a01b23c74_dashboard","type":"dashboard"},{"id":"elasticsearch-consumption","name":"c7fd79a7-981c-4f15-ae94-075ec123a108:link_36e5b7e7-df76-4a8e-b1e6-12004adca925_dashboard","type":"dashboard"},{"id":"cb6a2ea1-28db-4870-9bb5-13235e38a648","name":"controlGroup_b7b776a7-e861-4894-a8ed-81729892008e:optionsListDataView","type":"index-pattern"}],"type":"dashboard","typeMigrationVersion":"10.3.0","updated_at":"2025-09-12T03:12:50.671Z","updated_by":"u_2001809318_cloud","version":"WzEwOTkxLDQ3XQ=="}
{"excludedObjects":[],"excludedObjectsCount":0,"exportedCount":15,"missingRefCount":0,"missingReferences":[]}
